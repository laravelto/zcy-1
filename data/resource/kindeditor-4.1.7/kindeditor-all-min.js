





<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
  <link rel="dns-prefetch" href="https://assets-cdn.github.com">
  <link rel="dns-prefetch" href="https://avatars0.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars1.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars2.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars3.githubusercontent.com">
  <link rel="dns-prefetch" href="https://github-cloud.s3.amazonaws.com">
  <link rel="dns-prefetch" href="https://user-images.githubusercontent.com/">



  <link crossorigin="anonymous" href="https://assets-cdn.github.com/assets/frameworks-700c269c41d75b60698a62d9306dae4a0f840bec4718545615f752400f1fd908.css" media="all" rel="stylesheet" />
  <link crossorigin="anonymous" href="https://assets-cdn.github.com/assets/github-1d7717dfa90687d65ce00c80ab42271195164d949715783c2c80c9f85595784e.css" media="all" rel="stylesheet" />
  
  
  <link crossorigin="anonymous" href="https://assets-cdn.github.com/assets/site-e2f78def14631b7fd769bf918598cd7d437e67a706a2676aa466634d28ffaabd.css" media="all" rel="stylesheet" />
  

  <meta name="viewport" content="width=device-width">
  
  <title>kindeditor/kindeditor-all-min.js at master · kindsoft/kindeditor · GitHub</title>
  <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub">
  <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
  <meta property="fb:app_id" content="1401488693436528">

    
    <meta content="https://avatars3.githubusercontent.com/u/1594584?s=400&amp;v=4" property="og:image" /><meta content="GitHub" property="og:site_name" /><meta content="object" property="og:type" /><meta content="kindsoft/kindeditor" property="og:title" /><meta content="https://github.com/kindsoft/kindeditor" property="og:url" /><meta content="kindeditor - WYSIWYG HTML editor" property="og:description" />

  <link rel="assets" href="https://assets-cdn.github.com/">
  
  <meta name="pjax-timeout" content="1000">
  
  <meta name="request-id" content="BB50:CDF7:CC33E7:1120112:5A562F5A" data-pjax-transient>
  

  <meta name="selected-link" value="repo_source" data-pjax-transient>

    <meta name="google-site-verification" content="KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU">
  <meta name="google-site-verification" content="ZzhVyEFwb7w3e0-uOTltm8Jsck2F5StVihD0exw2fsA">
  <meta name="google-site-verification" content="GXs5KoUUkNCoaAZn7wPN-t01Pywp9M3sEjnt_3_ZWPc">
    <meta name="google-analytics" content="UA-3769691-2">

<meta content="collector.githubapp.com" name="octolytics-host" /><meta content="github" name="octolytics-app-id" /><meta content="https://collector.githubapp.com/github-external/browser_event" name="octolytics-event-url" /><meta content="BB50:CDF7:CC33E7:1120112:5A562F5A" name="octolytics-dimension-request_id" /><meta content="sea" name="octolytics-dimension-region_edge" /><meta content="iad" name="octolytics-dimension-region_render" />
<meta content="/&lt;user-name&gt;/&lt;repo-name&gt;/blob/show" data-pjax-transient="true" name="analytics-location" />




  <meta class="js-ga-set" name="dimension1" content="Logged Out">


  

      <meta name="hostname" content="github.com">
  <meta name="user-login" content="">

      <meta name="expected-hostname" content="github.com">
    <meta name="js-proxy-site-detection-payload" content="OGY5YWM4YWRkMDE0OWMyZjMxNzY1NGVmNDBjOTRhMDAyNmMwNjgyZGFkYmJhNWYyY2RkYWUzNjE4YTUzZTc5ZHx7InJlbW90ZV9hZGRyZXNzIjoiMzkuMTA0LjY2LjE5NyIsInJlcXVlc3RfaWQiOiJCQjUwOkNERjc6Q0MzM0U3OjExMjAxMTI6NUE1NjJGNUEiLCJ0aW1lc3RhbXAiOjE1MTU1OTc2NTksImhvc3QiOiJnaXRodWIuY29tIn0=">

    <meta name="enabled-features" content="UNIVERSE_BANNER,FREE_TRIALS">

  <meta name="html-safe-nonce" content="855b4112982502817f9f3b544b3597df285d4f89">

  <meta http-equiv="x-pjax-version" content="f4e1212d81c4535159d2acbc7cfafd45">
  

      <link href="https://github.com/kindsoft/kindeditor/commits/master.atom" rel="alternate" title="Recent Commits to kindeditor:master" type="application/atom+xml">

  <meta name="description" content="kindeditor - WYSIWYG HTML editor">
  <meta name="go-import" content="github.com/kindsoft/kindeditor git https://github.com/kindsoft/kindeditor.git">

  <meta content="1594584" name="octolytics-dimension-user_id" /><meta content="kindsoft" name="octolytics-dimension-user_login" /><meta content="3948496" name="octolytics-dimension-repository_id" /><meta content="kindsoft/kindeditor" name="octolytics-dimension-repository_nwo" /><meta content="true" name="octolytics-dimension-repository_public" /><meta content="false" name="octolytics-dimension-repository_is_fork" /><meta content="3948496" name="octolytics-dimension-repository_network_root_id" /><meta content="kindsoft/kindeditor" name="octolytics-dimension-repository_network_root_nwo" /><meta content="false" name="octolytics-dimension-repository_explore_github_marketplace_ci_cta_shown" />


    <link rel="canonical" href="https://github.com/kindsoft/kindeditor/blob/master/kindeditor-all-min.js" data-pjax-transient>


  <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">

  <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">

  <link rel="mask-icon" href="https://assets-cdn.github.com/pinned-octocat.svg" color="#000000">
  <link rel="icon" type="image/x-icon" class="js-site-favicon" href="https://assets-cdn.github.com/favicon.ico">

<meta name="theme-color" content="#1e2327">



  </head>

  <body class="logged-out env-production page-blob">
    

  <div class="position-relative js-header-wrapper ">
    <a href="#start-of-content" tabindex="1" class="px-2 py-4 show-on-focus js-skip-to-content">Skip to content</a>
    <div id="js-pjax-loader-bar" class="pjax-loader-bar"><div class="progress"></div></div>

    
    
    



        <header class="Header header-logged-out  position-relative f4 py-3" role="banner">
  <div class="container-lg d-flex px-3">
    <div class="d-flex flex-justify-between flex-items-center">
      <a class="header-logo-invertocat my-0" href="https://github.com/" aria-label="Homepage" data-ga-click="(Logged out) Header, go to homepage, icon:logo-wordmark">
        <svg aria-hidden="true" class="octicon octicon-mark-github" height="32" version="1.1" viewBox="0 0 16 16" width="32"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>
      </a>

    </div>

    <div class="HeaderMenu HeaderMenu--bright d-flex flex-justify-between flex-auto">
        <nav class="mt-0">
          <ul class="d-flex list-style-none">
              <li class="ml-2">
                <a href="/features" class="js-selected-navigation-item HeaderNavlink px-0 py-2 m-0" data-ga-click="Header, click, Nav menu - item:features" data-selected-links="/features /features/project-management /features/code-review /features/project-management /features/integrations /features">
                  Features
</a>              </li>
              <li class="ml-4">
                <a href="/business" class="js-selected-navigation-item HeaderNavlink px-0 py-2 m-0" data-ga-click="Header, click, Nav menu - item:business" data-selected-links="/business /business/security /business/customers /business">
                  Business
</a>              </li>

              <li class="ml-4">
                <a href="/explore" class="js-selected-navigation-item HeaderNavlink px-0 py-2 m-0" data-ga-click="Header, click, Nav menu - item:explore" data-selected-links="/explore /trending /trending/developers /integrations /integrations/feature/code /integrations/feature/collaborate /integrations/feature/ship showcases showcases_search showcases_landing /explore">
                  Explore
</a>              </li>

              <li class="ml-4">
                    <a href="/marketplace" class="js-selected-navigation-item HeaderNavlink px-0 py-2 m-0" data-ga-click="Header, click, Nav menu - item:marketplace" data-selected-links=" /marketplace">
                      Marketplace
</a>              </li>
              <li class="ml-4">
                <a href="/pricing" class="js-selected-navigation-item HeaderNavlink px-0 py-2 m-0" data-ga-click="Header, click, Nav menu - item:pricing" data-selected-links="/pricing /pricing/developer /pricing/team /pricing/business-hosted /pricing/business-enterprise /pricing">
                  Pricing
</a>              </li>
          </ul>
        </nav>

      <div class="d-flex">
          <div class="d-lg-flex flex-items-center mr-3">
            <div class="header-search scoped-search site-scoped-search js-site-search" role="search">
  <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/kindsoft/kindeditor/search" class="js-site-search-form" data-scoped-search-url="/kindsoft/kindeditor/search" data-unscoped-search-url="/search" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>
    <label class="form-control header-search-wrapper js-chromeless-input-container">
        <a href="/kindsoft/kindeditor/blob/master/kindeditor-all-min.js" class="header-search-scope no-underline">This repository</a>
      <input type="text"
        class="form-control header-search-input js-site-search-focus js-site-search-field is-clearable"
        data-hotkey="s"
        name="q"
        value=""
        placeholder="Search"
        aria-label="Search this repository"
        data-unscoped-placeholder="Search GitHub"
        data-scoped-placeholder="Search"
        autocapitalize="off">
        <input type="hidden" class="js-site-search-type-field" name="type" >
    </label>
</form></div>

          </div>

        <span class="d-inline-block">
            <div class="HeaderNavlink px-0 py-2 m-0">
              <a class="text-bold text-white no-underline" href="/login?return_to=%2Fkindsoft%2Fkindeditor%2Fblob%2Fmaster%2Fkindeditor-all-min.js" data-ga-click="(Logged out) Header, clicked Sign in, text:sign-in">Sign in</a>
                <span class="text-gray">or</span>
                <a class="text-bold text-white no-underline" href="/join?source=header-repo" data-ga-click="(Logged out) Header, clicked Sign up, text:sign-up">Sign up</a>
            </div>
        </span>
      </div>
    </div>
  </div>
</header>

  </div>

  <div id="start-of-content" class="show-on-focus"></div>

    <div id="js-flash-container">
</div>



  <div role="main" >
        <div itemscope itemtype="http://schema.org/SoftwareSourceCode" class="">
    <div id="js-repo-pjax-container" data-pjax-container >
      




  



  <div class="pagehead repohead instapaper_ignore readability-menu experiment-repo-nav  ">
    <div class="repohead-details-container clearfix container">

      <ul class="pagehead-actions">
  <li>
      <a href="/login?return_to=%2Fkindsoft%2Fkindeditor"
    class="btn btn-sm btn-with-count tooltipped tooltipped-n"
    aria-label="You must be signed in to watch a repository" rel="nofollow">
    <svg aria-hidden="true" class="octicon octicon-eye" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"/></svg>
    Watch
  </a>
  <a class="social-count" href="/kindsoft/kindeditor/watchers"
     aria-label="127 users are watching this repository">
    127
  </a>

  </li>

  <li>
      <a href="/login?return_to=%2Fkindsoft%2Fkindeditor"
    class="btn btn-sm btn-with-count tooltipped tooltipped-n"
    aria-label="You must be signed in to star a repository" rel="nofollow">
    <svg aria-hidden="true" class="octicon octicon-star" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74z"/></svg>
    Star
  </a>

    <a class="social-count js-social-count" href="/kindsoft/kindeditor/stargazers"
      aria-label="1147 users starred this repository">
      1,147
    </a>

  </li>

  <li>
      <a href="/login?return_to=%2Fkindsoft%2Fkindeditor"
        class="btn btn-sm btn-with-count tooltipped tooltipped-n"
        aria-label="You must be signed in to fork a repository" rel="nofollow">
        <svg aria-hidden="true" class="octicon octicon-repo-forked" height="16" version="1.1" viewBox="0 0 10 16" width="10"><path fill-rule="evenodd" d="M8 1a1.993 1.993 0 0 0-1 3.72V6L5 8 3 6V4.72A1.993 1.993 0 0 0 2 1a1.993 1.993 0 0 0-1 3.72V6.5l3 3v1.78A1.993 1.993 0 0 0 5 15a1.993 1.993 0 0 0 1-3.72V9.5l3-3V4.72A1.993 1.993 0 0 0 8 1zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3 10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3-10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"/></svg>
        Fork
      </a>

    <a href="/kindsoft/kindeditor/network" class="social-count"
       aria-label="448 users forked this repository">
      448
    </a>
  </li>
</ul>

      <h1 class="public ">
  <svg aria-hidden="true" class="octicon octicon-repo" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"/></svg>
  <span class="author" itemprop="author"><a href="/kindsoft" class="url fn" rel="author">kindsoft</a></span><!--
--><span class="path-divider">/</span><!--
--><strong itemprop="name"><a href="/kindsoft/kindeditor" data-pjax="#js-repo-pjax-container">kindeditor</a></strong>

</h1>

    </div>
    
<nav class="reponav js-repo-nav js-sidenav-container-pjax container"
     itemscope
     itemtype="http://schema.org/BreadcrumbList"
     role="navigation"
     data-pjax="#js-repo-pjax-container">

  <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a href="/kindsoft/kindeditor" class="js-selected-navigation-item selected reponav-item" data-hotkey="g c" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches repo_packages /kindsoft/kindeditor" itemprop="url">
      <svg aria-hidden="true" class="octicon octicon-code" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"/></svg>
      <span itemprop="name">Code</span>
      <meta itemprop="position" content="1">
</a>  </span>

    <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
      <a href="/kindsoft/kindeditor/issues" class="js-selected-navigation-item reponav-item" data-hotkey="g i" data-selected-links="repo_issues repo_labels repo_milestones /kindsoft/kindeditor/issues" itemprop="url">
        <svg aria-hidden="true" class="octicon octicon-issue-opened" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg>
        <span itemprop="name">Issues</span>
        <span class="Counter">104</span>
        <meta itemprop="position" content="2">
</a>    </span>

  <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a href="/kindsoft/kindeditor/pulls" class="js-selected-navigation-item reponav-item" data-hotkey="g p" data-selected-links="repo_pulls /kindsoft/kindeditor/pulls" itemprop="url">
      <svg aria-hidden="true" class="octicon octicon-git-pull-request" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"/></svg>
      <span itemprop="name">Pull requests</span>
      <span class="Counter">1</span>
      <meta itemprop="position" content="3">
</a>  </span>

    <a href="/kindsoft/kindeditor/projects" class="js-selected-navigation-item reponav-item" data-hotkey="g b" data-selected-links="repo_projects new_repo_project repo_project /kindsoft/kindeditor/projects">
      <svg aria-hidden="true" class="octicon octicon-project" height="16" version="1.1" viewBox="0 0 15 16" width="15"><path fill-rule="evenodd" d="M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z"/></svg>
      Projects
      <span class="Counter" >0</span>
</a>


  <a href="/kindsoft/kindeditor/pulse" class="js-selected-navigation-item reponav-item" data-selected-links="repo_graphs repo_contributors dependency_graph pulse /kindsoft/kindeditor/pulse">
    <svg aria-hidden="true" class="octicon octicon-graph" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M16 14v1H0V0h1v14h15zM5 13H3V8h2v5zm4 0H7V3h2v10zm4 0h-2V6h2v7z"/></svg>
    Insights
</a>

</nav>


  </div>

<div class="container new-discussion-timeline experiment-repo-nav ">
  <div class="repository-content ">

    
  <a href="/kindsoft/kindeditor/blob/a0daa900e105c97da8206de33d8bb519ab48e5fa/kindeditor-all-min.js" class="d-none js-permalink-shortcut" data-hotkey="y">Permalink</a>

  <!-- blob contrib key: blob_contributors:v21:a3c931daddf012d54ab75b048336df04 -->

  <div class="file-navigation js-zeroclipboard-container">
    
<div class="select-menu branch-select-menu js-menu-container js-select-menu float-left">
  <button class=" btn btn-sm select-menu-button js-menu-target css-truncate" data-hotkey="w"
    
    type="button" aria-label="Switch branches or tags" aria-expanded="false" aria-haspopup="true">
      <i>Branch:</i>
      <span class="js-select-button css-truncate-target">master</span>
  </button>

  <div class="select-menu-modal-holder js-menu-content js-navigation-container" data-pjax>

    <div class="select-menu-modal">
      <div class="select-menu-header">
        <svg aria-label="Close" class="octicon octicon-x js-menu-close" height="16" role="img" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"/></svg>
        <span class="select-menu-title">Switch branches/tags</span>
      </div>

      <div class="select-menu-filters">
        <div class="select-menu-text-filter">
          <input type="text" aria-label="Filter branches/tags" id="context-commitish-filter-field" class="form-control js-filterable-field js-navigation-enable" placeholder="Filter branches/tags">
        </div>
        <div class="select-menu-tabs">
          <ul>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="branches" data-filter-placeholder="Filter branches/tags" class="js-select-menu-tab" role="tab">Branches</a>
            </li>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="tags" data-filter-placeholder="Find a tag…" class="js-select-menu-tab" role="tab">Tags</a>
            </li>
          </ul>
        </div>
      </div>

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="branches" role="menu">

        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <a class="select-menu-item js-navigation-item js-navigation-open "
               href="/kindsoft/kindeditor/blob/gh-pages/kindeditor-all-min.js"
               data-name="gh-pages"
               data-skip-pjax="true"
               rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target js-select-menu-filter-text">
                gh-pages
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open selected"
               href="/kindsoft/kindeditor/blob/master/kindeditor-all-min.js"
               data-name="master"
               data-skip-pjax="true"
               rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target js-select-menu-filter-text">
                master
              </span>
            </a>
        </div>

          <div class="select-menu-no-results">Nothing to show</div>
      </div>

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="tags">
        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/kindsoft/kindeditor/tree/v4.1.11/kindeditor-all-min.js"
              data-name="v4.1.11"
              data-skip-pjax="true"
              rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v4.1.11">
                v4.1.11
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/kindsoft/kindeditor/tree/v4.1.10/kindeditor-all-min.js"
              data-name="v4.1.10"
              data-skip-pjax="true"
              rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v4.1.10">
                v4.1.10
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/kindsoft/kindeditor/tree/v4.1.9/kindeditor-all-min.js"
              data-name="v4.1.9"
              data-skip-pjax="true"
              rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v4.1.9">
                v4.1.9
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/kindsoft/kindeditor/tree/v4.1.6/kindeditor-all-min.js"
              data-name="v4.1.6"
              data-skip-pjax="true"
              rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v4.1.6">
                v4.1.6
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/kindsoft/kindeditor/tree/v4.1.5/kindeditor-all-min.js"
              data-name="v4.1.5"
              data-skip-pjax="true"
              rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v4.1.5">
                v4.1.5
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/kindsoft/kindeditor/tree/v4.1.4/kindeditor-all-min.js"
              data-name="v4.1.4"
              data-skip-pjax="true"
              rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v4.1.4">
                v4.1.4
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/kindsoft/kindeditor/tree/v4.1.3/kindeditor-all-min.js"
              data-name="v4.1.3"
              data-skip-pjax="true"
              rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v4.1.3">
                v4.1.3
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/kindsoft/kindeditor/tree/v4.1.2/kindeditor-all-min.js"
              data-name="v4.1.2"
              data-skip-pjax="true"
              rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v4.1.2">
                v4.1.2
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/kindsoft/kindeditor/tree/v4.1.1/kindeditor-all-min.js"
              data-name="v4.1.1"
              data-skip-pjax="true"
              rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v4.1.1">
                v4.1.1
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/kindsoft/kindeditor/tree/v4.1/kindeditor-all-min.js"
              data-name="v4.1"
              data-skip-pjax="true"
              rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v4.1">
                v4.1
              </span>
            </a>
        </div>

        <div class="select-menu-no-results">Nothing to show</div>
      </div>

    </div>
  </div>
</div>

    <div class="BtnGroup float-right">
      <a href="/kindsoft/kindeditor/find/master"
            class="js-pjax-capture-input btn btn-sm BtnGroup-item"
            data-pjax
            data-hotkey="t">
        Find file
      </a>
      <button aria-label="Copy file path to clipboard" class="js-zeroclipboard btn btn-sm BtnGroup-item tooltipped tooltipped-s" data-copied-hint="Copied!" type="button">Copy path</button>
    </div>
    <div class="breadcrumb js-zeroclipboard-target">
      <span class="repo-root js-repo-root"><span class="js-path-segment"><a href="/kindsoft/kindeditor"><span>kindeditor</span></a></span></span><span class="separator">/</span><strong class="final-path">kindeditor-all-min.js</strong>
    </div>
  </div>


  
  <div class="commit-tease">
      <span class="float-right">
        <a class="commit-tease-sha" href="/kindsoft/kindeditor/commit/2a79da80f2d3e39b891ddaa93155b3042d52d2a0" data-pjax>
          2a79da8
        </a>
        <relative-time datetime="2017-04-12T09:44:59Z">Apr 12, 2017</relative-time>
      </span>
      <div>
        <img alt="@luolonghao" class="avatar" height="20" src="https://avatars1.githubusercontent.com/u/15987?s=40&amp;v=4" width="20" />
        <a href="/luolonghao" class="user-mention" rel="contributor">luolonghao</a>
          <a href="/kindsoft/kindeditor/commit/2a79da80f2d3e39b891ddaa93155b3042d52d2a0" class="message" data-pjax="true" title="build 4.1.12">build 4.1.12</a>
      </div>

    <div class="commit-tease-contributors">
      <button type="button" class="btn-link muted-link contributors-toggle" data-facebox="#blob_contributors_box">
        <strong>3</strong>
         contributors
      </button>
          <a class="avatar-link tooltipped tooltipped-s" aria-label="luolonghao" href="/kindsoft/kindeditor/commits/master/kindeditor-all-min.js?author=luolonghao"><img alt="@luolonghao" class="avatar" height="20" src="https://avatars1.githubusercontent.com/u/15987?s=40&amp;v=4" width="20" /> </a>
    <a class="avatar-link tooltipped tooltipped-s" aria-label="leo108" href="/kindsoft/kindeditor/commits/master/kindeditor-all-min.js?author=leo108"><img alt="@leo108" class="avatar" height="20" src="https://avatars2.githubusercontent.com/u/1551716?s=40&amp;v=4" width="20" /> </a>
    <a class="avatar-link tooltipped tooltipped-s" aria-label="ecranesoft" href="/kindsoft/kindeditor/commits/master/kindeditor-all-min.js?author=ecranesoft"><img alt="@ecranesoft" class="avatar" height="20" src="https://avatars1.githubusercontent.com/u/3053826?s=40&amp;v=4" width="20" /> </a>


    </div>

    <div id="blob_contributors_box" style="display:none">
      <h2 class="facebox-header" data-facebox-id="facebox-header">Users who have contributed to this file</h2>
      <ul class="facebox-user-list" data-facebox-id="facebox-description">
          <li class="facebox-user-list-item">
            <img alt="@luolonghao" height="24" src="https://avatars0.githubusercontent.com/u/15987?s=48&amp;v=4" width="24" />
            <a href="/luolonghao">luolonghao</a>
          </li>
          <li class="facebox-user-list-item">
            <img alt="@leo108" height="24" src="https://avatars3.githubusercontent.com/u/1551716?s=48&amp;v=4" width="24" />
            <a href="/leo108">leo108</a>
          </li>
          <li class="facebox-user-list-item">
            <img alt="@ecranesoft" height="24" src="https://avatars0.githubusercontent.com/u/3053826?s=48&amp;v=4" width="24" />
            <a href="/ecranesoft">ecranesoft</a>
          </li>
      </ul>
    </div>
  </div>


  <div class="file">
    <div class="file-header">
  <div class="file-actions">

    <div class="BtnGroup">
      <a href="/kindsoft/kindeditor/raw/master/kindeditor-all-min.js" class="btn btn-sm BtnGroup-item" id="raw-url">Raw</a>
        <a href="/kindsoft/kindeditor/blame/master/kindeditor-all-min.js" class="btn btn-sm js-update-url-with-hash BtnGroup-item" data-hotkey="b">Blame</a>
      <a href="/kindsoft/kindeditor/commits/master/kindeditor-all-min.js" class="btn btn-sm BtnGroup-item" rel="nofollow">History</a>
    </div>


        <button type="button" class="btn-octicon disabled tooltipped tooltipped-nw"
          aria-label="You must be signed in to make or propose changes">
          <svg aria-hidden="true" class="octicon octicon-pencil" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M0 12v3h3l8-8-3-3-8 8zm3 2H1v-2h1v1h1v1zm10.3-9.3L12 6 9 3l1.3-1.3a.996.996 0 0 1 1.41 0l1.59 1.59c.39.39.39 1.02 0 1.41z"/></svg>
        </button>
        <button type="button" class="btn-octicon btn-octicon-danger disabled tooltipped tooltipped-nw"
          aria-label="You must be signed in to make or propose changes">
          <svg aria-hidden="true" class="octicon octicon-trashcan" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M11 2H9c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1H2c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1v9c0 .55.45 1 1 1h7c.55 0 1-.45 1-1V5c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm-1 12H3V5h1v8h1V5h1v8h1V5h1v8h1V5h1v9zm1-10H2V3h9v1z"/></svg>
        </button>
  </div>

  <div class="file-info">
      7 lines (7 sloc)
      <span class="file-info-divider"></span>
    182 KB
  </div>
</div>

    

  <div itemprop="text" class="blob-wrapper data type-javascript">
      <table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tr>
        <td id="L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="LC1" class="blob-code blob-code-inner js-file-line">/* KindEditor 4.1.12 (2017-04-12), Copyright (C) kindsoft.net, Licence: http://kindeditor.net/license.php */</td>
      </tr>
      <tr>
        <td id="L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="LC2" class="blob-code blob-code-inner js-file-line">!function(window,undefined){function _isArray(a){return a?&quot;[object Array]&quot;===Object.prototype.toString.call(a):!1}function _isFunction(a){return a?&quot;[object Function]&quot;===Object.prototype.toString.call(a):!1}function _inArray(a,b){for(var c=0,d=b.length;d&gt;c;c++)if(a===b[c])return c;return-1}function _each(a,b){if(_isArray(a))for(var c=0,d=a.length;d&gt;c&amp;&amp;b.call(a[c],c,a[c])!==!1;c++);else for(var e in a)if(a.hasOwnProperty(e)&amp;&amp;b.call(a[e],e,a[e])===!1)break}function _trim(a){return a.replace(/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,&quot;&quot;)}function _inString(a,b,c){return c=c===undefined?&quot;,&quot;:c,(c+b+c).indexOf(c+a+c)&gt;=0}function _addUnit(a,b){return b=b||&quot;px&quot;,a&amp;&amp;/^-?\d+(?:\.\d+)?$/.test(a)?a+b:a}function _removeUnit(a){var b;return a&amp;&amp;(b=/(\d+)/.exec(a))?parseInt(b[1],10):0}function _escape(a){return a.replace(/&amp;/g,&quot;&amp;amp;&quot;).replace(/&lt;/g,&quot;&amp;lt;&quot;).replace(/&gt;/g,&quot;&amp;gt;&quot;).replace(/&quot;/g,&quot;&amp;quot;&quot;)}function _unescape(a){return a.replace(/&amp;lt;/g,&quot;&lt;&quot;).replace(/&amp;gt;/g,&quot;&gt;&quot;).replace(/&amp;quot;/g,&#39;&quot;&#39;).replace(/&amp;amp;/g,&quot;&amp;&quot;)}function _toCamel(a){var b=a.split(&quot;-&quot;);return a=&quot;&quot;,_each(b,function(b,c){a+=b&gt;0?c.charAt(0).toUpperCase()+c.substr(1):c}),a}function _toHex(a){function b(a){var b=parseInt(a,10).toString(16).toUpperCase();return b.length&gt;1?b:&quot;0&quot;+b}return a.replace(/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/gi,function(a,c,d,e){return&quot;#&quot;+b(c)+b(d)+b(e)})}function _toMap(a,b){b=b===undefined?&quot;,&quot;:b;var c,d={},e=_isArray(a)?a:a.split(b);return _each(e,function(a,b){if(c=/^(\d+)\.\.(\d+)$/.exec(b))for(var e=parseInt(c[1],10);e&lt;=parseInt(c[2],10);e++)d[e.toString()]=!0;else d[b]=!0}),d}function _toArray(a,b){return Array.prototype.slice.call(a,b||0)}function _undef(a,b){return a===undefined?b:a}function _invalidUrl(a){return!a||/[&lt;&gt;&quot;]/.test(a)}function _addParam(a,b){return a.indexOf(&quot;?&quot;)&gt;=0?a+&quot;&amp;&quot;+b:a+&quot;?&quot;+b}function _extend(a,b,c){c||(c=b,b=null);var d;if(b){var e=function(){};e.prototype=b.prototype,d=new e,_each(c,function(a,b){d[a]=b})}else d=c;d.constructor=a,a.prototype=d,a.parent=b?b.prototype:null}function _json(text){var match;(match=/\{[\s\S]*\}|\[[\s\S]*\]/.exec(text))&amp;&amp;(text=match[0]);var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;if(cx.lastIndex=0,cx.test(text)&amp;&amp;(text=text.replace(cx,function(a){return&quot;\\u&quot;+(&quot;0000&quot;+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:[&quot;\\\/bfnrt]|u[0-9a-fA-F]{4})/g,&quot;@&quot;).replace(/&quot;[^&quot;\\\n\r]*&quot;|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,&quot;]&quot;).replace(/(?:^|:|,)(?:\s*\[)+/g,&quot;&quot;)))return eval(&quot;(&quot;+text+&quot;)&quot;);throw&quot;JSON parse error&quot;}function _getBasePath(){for(var a,b=document.getElementsByTagName(&quot;script&quot;),c=0,d=b.length;d&gt;c;c++)if(a=b[c].src||&quot;&quot;,/kindeditor[\w\-\.]*\.js/.test(a))return a.substring(0,a.lastIndexOf(&quot;/&quot;)+1);return&quot;&quot;}function _bindEvent(a,b,c){a.addEventListener?a.addEventListener(b,c,_useCapture):a.attachEvent&amp;&amp;a.attachEvent(&quot;on&quot;+b,c)}function _unbindEvent(a,b,c){a.removeEventListener?a.removeEventListener(b,c,_useCapture):a.detachEvent&amp;&amp;a.detachEvent(&quot;on&quot;+b,c)}function KEvent(a,b){this.init(a,b)}function _getId(a){return a[_eventExpendo]||null}function _setId(a){return a[_eventExpendo]=++_eventId,_eventId}function _removeId(a){try{delete a[_eventExpendo]}catch(b){a.removeAttribute&amp;&amp;a.removeAttribute(_eventExpendo)}}function _bind(a,b,c){if(b.indexOf(&quot;,&quot;)&gt;=0)return void _each(b.split(&quot;,&quot;),function(){_bind(a,this,c)});var d=_getId(a);d||(d=_setId(a)),_eventData[d]===undefined&amp;&amp;(_eventData[d]={});var e=_eventData[d][b];e&amp;&amp;e.length&gt;0?_unbindEvent(a,b,e[0]):(_eventData[d][b]=[],_eventData[d].el=a),e=_eventData[d][b],0===e.length&amp;&amp;(e[0]=function(b){var c=b?new KEvent(a,b):undefined;_each(e,function(b,d){b&gt;0&amp;&amp;d&amp;&amp;d.call(a,c)})}),_inArray(c,e)&lt;0&amp;&amp;e.push(c),_bindEvent(a,b,e[0])}function _unbind(a,b,c){if(b&amp;&amp;b.indexOf(&quot;,&quot;)&gt;=0)return void _each(b.split(&quot;,&quot;),function(){_unbind(a,this,c)});var d=_getId(a);if(d){if(b===undefined)return void(d in _eventData&amp;&amp;(_each(_eventData[d],function(b,c){&quot;el&quot;!=b&amp;&amp;c.length&gt;0&amp;&amp;_unbindEvent(a,b,c[0])}),delete _eventData[d],_removeId(a)));if(_eventData[d]){var e=_eventData[d][b];if(e&amp;&amp;e.length&gt;0){c===undefined?(_unbindEvent(a,b,e[0]),delete _eventData[d][b]):(_each(e,function(a,b){a&gt;0&amp;&amp;b===c&amp;&amp;e.splice(a,1)}),1==e.length&amp;&amp;(_unbindEvent(a,b,e[0]),delete _eventData[d][b]));var f=0;_each(_eventData[d],function(){f++}),2&gt;f&amp;&amp;(delete _eventData[d],_removeId(a))}}}}function _fire(a,b){if(b.indexOf(&quot;,&quot;)&gt;=0)return void _each(b.split(&quot;,&quot;),function(){_fire(a,this)});var c=_getId(a);if(c){var d=_eventData[c][b];_eventData[c]&amp;&amp;d&amp;&amp;d.length&gt;0&amp;&amp;d[0]()}}function _ctrl(a,b,c){b=/^\d{2,}$/.test(b)?b:b.toUpperCase().charCodeAt(0),_bind(a,&quot;keydown&quot;,function(d){!d.ctrlKey||d.which!=b||d.shiftKey||d.altKey||(c.call(a),d.stop())})}function _ready(a){function b(){e||(e=!0,a(KindEditor),_readyFinished=!0)}function c(){if(!e){try{document.documentElement.doScroll(&quot;left&quot;)}catch(a){return void setTimeout(c,100)}b()}}function d(){&quot;complete&quot;===document.readyState&amp;&amp;b()}if(_readyFinished)return void a(KindEditor);var e=!1;if(document.addEventListener)_bind(document,&quot;DOMContentLoaded&quot;,b);else if(document.attachEvent){_bind(document,&quot;readystatechange&quot;,d);var f=!1;try{f=null==window.frameElement}catch(g){}document.documentElement.doScroll&amp;&amp;f&amp;&amp;c()}_bind(window,&quot;load&quot;,b)}function _getCssList(a){a=a.replace(/&amp;quot;/g,&#39;&quot;&#39;);for(var b,c={},d=/\s*([\w\-]+)\s*:([^;]*)(;|$)/g;b=d.exec(a);){var e=_trim(b[1].toLowerCase()),f=_trim(_toHex(b[2]));c[e]=f}return c}function _getAttrList(a){for(var b,c={},d=/\s+(?:([\w\-:]+)|(?:([\w\-:]+)=([^\s&quot;&#39;&lt;&gt;]+))|(?:([\w\-:&quot;]+)=&quot;([^&quot;]*)&quot;)|(?:([\w\-:&quot;]+)=&#39;([^&#39;]*)&#39;))(?=(?:\s|\/|&gt;)+)/g;b=d.exec(a);){var e=(b[1]||b[2]||b[4]||b[6]).toLowerCase(),f=(b[2]?b[3]:b[4]?b[5]:b[7])||&quot;&quot;;c[e]=f}return c}function _addClassToTag(a,b){return a=/\s+class\s*=/.test(a)?a.replace(/(\s+class=[&quot;&#39;]?)([^&quot;&#39;]*)([&quot;&#39;]?[\s&gt;])/,function(a,c,d,e){return(&quot; &quot;+d+&quot; &quot;).indexOf(&quot; &quot;+b+&quot; &quot;)&lt;0?&quot;&quot;===d?c+b+e:c+d+&quot; &quot;+b+e:a}):a.substr(0,a.length-1)+&#39; class=&quot;&#39;+b+&#39;&quot;&gt;&#39;}function _formatCss(a){var b=&quot;&quot;;return _each(_getCssList(a),function(a,c){b+=a+&quot;:&quot;+c+&quot;;&quot;}),b}function _formatUrl(a,b,c,d){function e(a){for(var b=a.split(&quot;/&quot;),c=[],d=0,e=b.length;e&gt;d;d++){var f=b[d];&quot;..&quot;==f?c.length&gt;0&amp;&amp;c.pop():&quot;&quot;!==f&amp;&amp;&quot;.&quot;!=f&amp;&amp;c.push(f)}return&quot;/&quot;+c.join(&quot;/&quot;)}function f(b,c){if(a.substr(0,b.length)===b){for(var e=[],g=0;c&gt;g;g++)e.push(&quot;..&quot;);var i=&quot;.&quot;;return e.length&gt;0&amp;&amp;(i+=&quot;/&quot;+e.join(&quot;/&quot;)),&quot;/&quot;==d&amp;&amp;(i+=&quot;/&quot;),i+a.substr(b.length)}return(h=/^(.*)\//.exec(b))?f(h[1],++c):void 0}if(b=_undef(b,&quot;&quot;).toLowerCase(),&quot;data:&quot;!=a.substr(0,5)&amp;&amp;(a=a.replace(/([^:])\/\//g,&quot;$1/&quot;)),_inArray(b,[&quot;absolute&quot;,&quot;relative&quot;,&quot;domain&quot;])&lt;0)return a;if(c=c||location.protocol+&quot;//&quot;+location.host,d===undefined){var g=location.pathname.match(/^(\/.*)\//);d=g?g[1]:&quot;&quot;}var h;if(h=/^(\w+:\/\/[^\/]*)/.exec(a)){if(h[1]!==c)return a}else if(/^\w+:/.test(a))return a;return/^\//.test(a)?a=c+e(a.substr(1)):/^\w+:\/\//.test(a)||(a=c+e(d+&quot;/&quot;+a)),&quot;relative&quot;===b?a=f(c+d,0).substr(2):&quot;absolute&quot;===b&amp;&amp;a.substr(0,c.length)===c&amp;&amp;(a=a.substr(c.length)),a}function _formatHtml(a,b,c,d,e){null==a&amp;&amp;(a=&quot;&quot;),c=c||&quot;&quot;,d=_undef(d,!1),e=_undef(e,&quot;	&quot;);var f=&quot;xx-small,x-small,small,medium,large,x-large,xx-large&quot;.split(&quot;,&quot;);a=a.replace(/(&lt;(?:pre|pre\s[^&gt;]*)&gt;)([\s\S]*?)(&lt;\/pre&gt;)/gi,function(a,b,c,d){return b+c.replace(/&lt;(?:br|br\s[^&gt;]*)&gt;/gi,&quot;\n&quot;)+d}),a=a.replace(/&lt;(?:br|br\s[^&gt;]*)\s*\/?&gt;\s*&lt;\/p&gt;/gi,&quot;&lt;/p&gt;&quot;),a=a.replace(/(&lt;(?:p|p\s[^&gt;]*)&gt;)\s*(&lt;\/p&gt;)/gi,&quot;$1&lt;br /&gt;$2&quot;),a=a.replace(/\u200B/g,&quot;&quot;),a=a.replace(/\u00A9/g,&quot;&amp;copy;&quot;),a=a.replace(/\u00AE/g,&quot;&amp;reg;&quot;),a=a.replace(/\u2003/g,&quot;&amp;emsp;&quot;),a=a.replace(/\u3000/g,&quot;&amp;emsp;&quot;),a=a.replace(/&lt;[^&gt;]+/g,function(a){return a.replace(/\s+/g,&quot; &quot;)});var g={};b&amp;&amp;(_each(b,function(a,b){for(var c=a.split(&quot;,&quot;),d=0,e=c.length;e&gt;d;d++)g[c[d]]=_toMap(b)}),g.script||(a=a.replace(/(&lt;(?:script|script\s[^&gt;]*)&gt;)([\s\S]*?)(&lt;\/script&gt;)/gi,&quot;&quot;)),g.style||(a=a.replace(/(&lt;(?:style|style\s[^&gt;]*)&gt;)([\s\S]*?)(&lt;\/style&gt;)/gi,&quot;&quot;)));var h=/(\s*)&lt;(\/)?([\w\-:]+)((?:\s+|(?:\s+[\w\-:]+)|(?:\s+[\w\-:]+=[^\s&quot;&#39;&lt;&gt;]+)|(?:\s+[\w\-:&quot;]+=&quot;[^&quot;]*&quot;)|(?:\s+[\w\-:&quot;]+=&#39;[^&#39;]*&#39;))*)(\/)?&gt;(\s*)/g,i=[];return a=a.replace(h,function(a,h,j,k,l,m,n){var o=a,p=h||&quot;&quot;,q=j||&quot;&quot;,r=k.toLowerCase(),s=l||&quot;&quot;,t=m?&quot; &quot;+m:&quot;&quot;,u=n||&quot;&quot;;if(b&amp;&amp;!g[r])return&quot;&quot;;if(&quot;&quot;===t&amp;&amp;_SINGLE_TAG_MAP[r]&amp;&amp;(t=&quot; /&quot;),_INLINE_TAG_MAP[r]&amp;&amp;(p&amp;&amp;(p=&quot; &quot;),u&amp;&amp;(u=&quot; &quot;)),_PRE_TAG_MAP[r]&amp;&amp;(q?u=&quot;\n&quot;:p=&quot;\n&quot;),d&amp;&amp;&quot;br&quot;==r&amp;&amp;(u=&quot;\n&quot;),_BLOCK_TAG_MAP[r]&amp;&amp;!_PRE_TAG_MAP[r])if(d){q&amp;&amp;i.length&gt;0&amp;&amp;i[i.length-1]===r?i.pop():i.push(r),p=&quot;\n&quot;,u=&quot;\n&quot;;for(var v=0,w=q?i.length:i.length-1;w&gt;v;v++)p+=e,q||(u+=e);t?i.pop():q||(u+=e)}else p=u=&quot;&quot;;if(&quot;&quot;!==s){var x=_getAttrList(o);if(&quot;font&quot;===r){var y={},z=&quot;&quot;;_each(x,function(a,b){&quot;color&quot;===a&amp;&amp;(y.color=b,delete x[a]),&quot;size&quot;===a&amp;&amp;(y[&quot;font-size&quot;]=f[parseInt(b,10)-1]||&quot;&quot;,delete x[a]),&quot;face&quot;===a&amp;&amp;(y[&quot;font-family&quot;]=b,delete x[a]),&quot;style&quot;===a&amp;&amp;(z=b)}),z&amp;&amp;!/;$/.test(z)&amp;&amp;(z+=&quot;;&quot;),_each(y,function(a,b){&quot;&quot;!==b&amp;&amp;(/\s/.test(b)&amp;&amp;(b=&quot;&#39;&quot;+b+&quot;&#39;&quot;),z+=a+&quot;:&quot;+b+&quot;;&quot;)}),x.style=z}_each(x,function(a,d){if(_FILL_ATTR_MAP[a]&amp;&amp;(x[a]=a),_inArray(a,[&quot;src&quot;,&quot;href&quot;])&gt;=0&amp;&amp;(x[a]=_formatUrl(d,c)),(b&amp;&amp;&quot;style&quot;!==a&amp;&amp;!g[r][&quot;*&quot;]&amp;&amp;!g[r][a]||&quot;body&quot;===r&amp;&amp;&quot;contenteditable&quot;===a||/^kindeditor_\d+$/.test(a))&amp;&amp;delete x[a],&quot;style&quot;===a&amp;&amp;&quot;&quot;!==d){var e=_getCssList(d);_each(e,function(a){!b||g[r].style||g[r][&quot;.&quot;+a]||delete e[a]});var f=&quot;&quot;;_each(e,function(a,b){f+=a+&quot;:&quot;+b+&quot;;&quot;}),x.style=f}}),s=&quot;&quot;,_each(x,function(a,b){(&quot;style&quot;!==a||&quot;&quot;!==b)&amp;&amp;(b=b.replace(/&quot;/g,&quot;&amp;quot;&quot;),s+=&quot; &quot;+a+&#39;=&quot;&#39;+b+&#39;&quot;&#39;)})}return&quot;font&quot;===r&amp;&amp;(r=&quot;span&quot;),p+&quot;&lt;&quot;+q+r+s+t+&quot;&gt;&quot;+u}),a=a.replace(/(&lt;(?:pre|pre\s[^&gt;]*)&gt;)([\s\S]*?)(&lt;\/pre&gt;)/gi,function(a,b,c,d){return b+c.replace(/\n/g,&#39;&lt;span id=&quot;__kindeditor_pre_newline__&quot;&gt;\n&#39;)+d}),a=a.replace(/\n\s*\n/g,&quot;\n&quot;),a=a.replace(/&lt;span id=&quot;__kindeditor_pre_newline__&quot;&gt;\n/g,&quot;\n&quot;),_trim(a)}function _clearMsWord(a,b){return a=a.replace(/&lt;meta[\s\S]*?&gt;/gi,&quot;&quot;).replace(/&lt;![\s\S]*?&gt;/gi,&quot;&quot;).replace(/&lt;style[^&gt;]*&gt;[\s\S]*?&lt;\/style&gt;/gi,&quot;&quot;).replace(/&lt;script[^&gt;]*&gt;[\s\S]*?&lt;\/script&gt;/gi,&quot;&quot;).replace(/&lt;w:[^&gt;]+&gt;[\s\S]*?&lt;\/w:[^&gt;]+&gt;/gi,&quot;&quot;).replace(/&lt;o:[^&gt;]+&gt;[\s\S]*?&lt;\/o:[^&gt;]+&gt;/gi,&quot;&quot;).replace(/&lt;xml&gt;[\s\S]*?&lt;\/xml&gt;/gi,&quot;&quot;).replace(/&lt;(?:table|td)[^&gt;]*&gt;/gi,function(a){return a.replace(/border-bottom:([#\w\s]+)/gi,&quot;border:$1&quot;)}),_formatHtml(a,b)}function _mediaType(a){return/\.(rm|rmvb)(\?|$)/i.test(a)?&quot;audio/x-pn-realaudio-plugin&quot;:/\.(swf|flv)(\?|$)/i.test(a)?&quot;application/x-shockwave-flash&quot;:&quot;video/x-ms-asf-plugin&quot;}function _mediaClass(a){return/realaudio/i.test(a)?&quot;ke-rm&quot;:/flash/i.test(a)?&quot;ke-flash&quot;:&quot;ke-media&quot;}function _mediaAttrs(a){return _getAttrList(unescape(a))}function _mediaEmbed(a){var b=&quot;&lt;embed &quot;;return _each(a,function(a,c){b+=a+&#39;=&quot;&#39;+c+&#39;&quot; &#39;}),b+=&quot;/&gt;&quot;}function _mediaImg(a,b){var c=b.width,d=b.height,e=b.type||_mediaType(b.src),f=_mediaEmbed(b),g=&quot;&quot;;/\D/.test(c)?g+=&quot;width:&quot;+c+&quot;;&quot;:c&gt;0&amp;&amp;(g+=&quot;width:&quot;+c+&quot;px;&quot;),/\D/.test(d)?g+=&quot;height:&quot;+d+&quot;;&quot;:d&gt;0&amp;&amp;(g+=&quot;height:&quot;+d+&quot;px;&quot;);var h=&#39;&lt;img class=&quot;&#39;+_mediaClass(e)+&#39;&quot; src=&quot;&#39;+a+&#39;&quot; &#39;;return&quot;&quot;!==g&amp;&amp;(h+=&#39;style=&quot;&#39;+g+&#39;&quot; &#39;),h+=&#39;data-ke-tag=&quot;&#39;+escape(f)+&#39;&quot; alt=&quot;&quot; /&gt;&#39;}function _tmpl(a,b){var c=new Function(&quot;obj&quot;,&quot;var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push(&#39;&quot;+a.replace(/[\r\t\n]/g,&quot; &quot;).split(&quot;&lt;%&quot;).join(&quot;	&quot;).replace(/((^|%&gt;)[^\t]*)&#39;/g,&quot;$1\r&quot;).replace(/\t=(.*?)%&gt;/g,&quot;&#39;,$1,&#39;&quot;).split(&quot;	&quot;).join(&quot;&#39;);&quot;).split(&quot;%&gt;&quot;).join(&quot;p.push(&#39;&quot;).split(&quot;\r&quot;).join(&quot;\\&#39;&quot;)+&quot;&#39;);}return p.join(&#39;&#39;);&quot;);return b?c(b):c}function _contains(a,b){if(9==a.nodeType&amp;&amp;9!=b.nodeType)return!0;for(;b=b.parentNode;)if(b==a)return!0;return!1}function _getAttr(a,b){b=b.toLowerCase();var c=null;if(_GET_SET_ATTRIBUTE||&quot;script&quot;==a.nodeName.toLowerCase())try{c=a.getAttribute(b,2)}catch(d){c=a.getAttribute(b,1)}else{var e=a.ownerDocument.createElement(&quot;div&quot;);e.appendChild(a.cloneNode(!1));var f=_getAttrList(_unescape(e.innerHTML));b in f&amp;&amp;(c=f[b])}return&quot;style&quot;===b&amp;&amp;null!==c&amp;&amp;(c=_formatCss(c)),c}function _queryAll(a,b){function c(a){return&quot;string&quot;!=typeof a?a:a.replace(/([^\w\-])/g,&quot;\\$1&quot;)}function d(a){return a.replace(/\\/g,&quot;&quot;)}function e(a,b){return&quot;*&quot;===a||a.toLowerCase()===c(b.toLowerCase())}function f(a,b,c){var f=[],g=c.ownerDocument||c,h=g.getElementById(d(a));return h&amp;&amp;e(b,h.nodeName)&amp;&amp;_contains(c,h)&amp;&amp;f.push(h),f}function g(a,b,c){var f,g,h,i,j=c.ownerDocument||c,k=[];if(c.getElementsByClassName)for(f=c.getElementsByClassName(d(a)),g=0,h=f.length;h&gt;g;g++)i=f[g],e(b,i.nodeName)&amp;&amp;k.push(i);else if(j.querySelectorAll)for(f=j.querySelectorAll((&quot;#document&quot;!==c.nodeName?c.nodeName+&quot; &quot;:&quot;&quot;)+b+&quot;.&quot;+a),g=0,h=f.length;h&gt;g;g++)i=f[g],_contains(c,i)&amp;&amp;k.push(i);else for(f=c.getElementsByTagName(b),a=&quot; &quot;+a+&quot; &quot;,g=0,h=f.length;h&gt;g;g++)if(i=f[g],1==i.nodeType){var l=i.className;l&amp;&amp;(&quot; &quot;+l+&quot; &quot;).indexOf(a)&gt;-1&amp;&amp;k.push(i)}return k}function h(a,b,c){for(var f,g=[],h=c.ownerDocument||c,i=h.getElementsByName(d(a)),j=0,k=i.length;k&gt;j;j++)f=i[j],e(b,f.nodeName)&amp;&amp;_contains(c,f)&amp;&amp;null!==f.getAttribute(&quot;name&quot;)&amp;&amp;g.push(f);return g}function i(a,b,d,e){for(var f,g=[],h=e.getElementsByTagName(d),i=0,j=h.length;j&gt;i;i++)f=h[i],1==f.nodeType&amp;&amp;(null===b?null!==_getAttr(f,a)&amp;&amp;g.push(f):b===c(_getAttr(f,a))&amp;&amp;g.push(f));return g}function j(a,b){var c,d=[];c=/^((?:\\.|[^.#\s\[&lt;&gt;])+)/.exec(a);var e=c?c[1]:&quot;*&quot;;if(c=/#((?:[\w\-]|\\.)+)$/.exec(a))d=f(c[1],e,b);else if(c=/\.((?:[\w\-]|\\.)+)$/.exec(a))d=g(c[1],e,b);else if(c=/\[((?:[\w\-]|\\.)+)\]/.exec(a))d=i(c[1].toLowerCase(),null,e,b);else if(c=/\[((?:[\w\-]|\\.)+)\s*=\s*[&#39;&quot;]?((?:\\.|[^&#39;&quot;]+)+)[&#39;&quot;]?\]/.exec(a)){var j=c[1].toLowerCase(),k=c[2];d=&quot;id&quot;===j?f(k,e,b):&quot;class&quot;===j?g(k,e,b):&quot;name&quot;===j?h(k,e,b):i(j,k,e,b)}else for(var l,m=b.getElementsByTagName(e),n=0,o=m.length;o&gt;n;n++)l=m[n],1==l.nodeType&amp;&amp;d.push(l);return d}var k=a.split(&quot;,&quot;);if(k.length&gt;1){var l=[];return _each(k,function(){_each(_queryAll(this,b),function(){_inArray(this,l)&lt;0&amp;&amp;l.push(this)})}),l}b=b||document;for(var m,n=[],o=/((?:\\.|[^\s&gt;])+|[\s&gt;])/g;m=o.exec(a);)&quot; &quot;!==m[1]&amp;&amp;n.push(m[1]);var p=[];if(1==n.length)return j(n[0],b);var q,r,s,t,u,v,w,x,y,z,A=!1;for(v=0,lenth=n.length;v&lt;lenth;v++)if(q=n[v],&quot;&gt;&quot;!==q){if(v&gt;0){for(r=[],w=0,y=p.length;y&gt;w;w++)for(t=p[w],s=j(q,t),x=0,z=s.length;z&gt;x;x++)u=s[x],A?t===u.parentNode&amp;&amp;r.push(u):r.push(u);p=r}else p=j(q,b);if(0===p.length)return[]}else A=!0;return p}function _query(a,b){var c=_queryAll(a,b);return c.length&gt;0?c[0]:null}function _get(a){return K(a)[0]}function _getDoc(a){return a?a.ownerDocument||a.document||a:document}function _getWin(a){if(!a)return window;var b=_getDoc(a);return b.parentWindow||b.defaultView}function _setHtml(a,b){if(1==a.nodeType){var c=_getDoc(a);try{a.innerHTML=&#39;&lt;img id=&quot;__kindeditor_temp_tag__&quot; width=&quot;0&quot; height=&quot;0&quot; style=&quot;display:none;&quot; /&gt;&#39;+b;var d=c.getElementById(&quot;__kindeditor_temp_tag__&quot;);d.parentNode.removeChild(d)}catch(e){K(a).empty(),K(&quot;@&quot;+b,c).each(function(){a.appendChild(this)})}}}function _hasClass(a,b){return _inString(b,a.className,&quot; &quot;)}function _setAttr(a,b,c){_IE&amp;&amp;8&gt;_V&amp;&amp;&quot;class&quot;==b.toLowerCase()&amp;&amp;(b=&quot;className&quot;),a.setAttribute(b,&quot;&quot;+c)}function _removeAttr(a,b){_IE&amp;&amp;8&gt;_V&amp;&amp;&quot;class&quot;==b.toLowerCase()&amp;&amp;(b=&quot;className&quot;),_setAttr(a,b,&quot;&quot;),a.removeAttribute(b)}function _getNodeName(a){return a&amp;&amp;a.nodeName?a.nodeName.toLowerCase():&quot;&quot;}function _computedCss(a,b){var c=_getWin(a),d=_toCamel(b),e=&quot;&quot;;if(c.getComputedStyle){var f=c.getComputedStyle(a,null);e=f[d]||f.getPropertyValue(b)||a.style[d]}else a.currentStyle&amp;&amp;(e=a.currentStyle[d]||a.style[d]);return e}function _hasVal(a){return!!_VALUE_TAG_MAP[_getNodeName(a)]}function _docElement(a){return a=a||document,_QUIRKS?a.body:a.documentElement}function _docHeight(a){var b=_docElement(a);return Math.max(b.scrollHeight,b.clientHeight)}function _docWidth(a){var b=_docElement(a);return Math.max(b.scrollWidth,b.clientWidth)}function _getScrollPos(a){a=a||document;var b,c;return _IE||_NEWIE||_OPERA?(b=_docElement(a).scrollLeft,c=_docElement(a).scrollTop):(b=_getWin(a).scrollX,c=_getWin(a).scrollY),{x:b,y:c}}function KNode(a){this.init(a)}function _updateCollapsed(a){return a.collapsed=a.startContainer===a.endContainer&amp;&amp;a.startOffset===a.endOffset,a}function _copyAndDelete(a,b,c){function d(d,e,f){var g,i=d.nodeValue.length;if(b){var j=d.cloneNode(!0);g=e&gt;0?j.splitText(e):j,i&gt;f&amp;&amp;g.splitText(f-e)}if(c){var k=d;if(e&gt;0&amp;&amp;(k=d.splitText(e),a.setStart(d,e)),i&gt;f){var l=k.splitText(f-e);a.setEnd(l,0)}h.push(k)}return g}function e(){c&amp;&amp;a.up().collapse(!0);for(var b=0,d=h.length;d&gt;b;b++){var e=h[b];e.parentNode&amp;&amp;e.parentNode.removeChild(e)}}function f(e,n){for(var o,p=e.firstChild;p;){var q=new KRange(g).selectNode(p);if(j=q.compareBoundaryPoints(_START_TO_END,a),j&gt;=0&amp;&amp;0&gt;=k&amp;&amp;(k=q.compareBoundaryPoints(_START_TO_START,a)),k&gt;=0&amp;&amp;0&gt;=l&amp;&amp;(l=q.compareBoundaryPoints(_END_TO_END,a)),l&gt;=0&amp;&amp;0&gt;=m&amp;&amp;(m=q.compareBoundaryPoints(_END_TO_START,a)),m&gt;=0)return!1;if(o=p.nextSibling,j&gt;0)if(1==p.nodeType)if(k&gt;=0&amp;&amp;0&gt;=l)b&amp;&amp;n.appendChild(p.cloneNode(!0)),c&amp;&amp;h.push(p);else{var r;if(b&amp;&amp;(r=p.cloneNode(!1),n.appendChild(r)),f(p,r)===!1)return!1}else if(3==p.nodeType){var s;if(s=p==i.startContainer?d(p,i.startOffset,p.nodeValue.length):p==i.endContainer?d(p,0,i.endOffset):d(p,0,p.nodeValue.length),b)try{n.appendChild(s)}catch(t){}}p=o}}var g=a.doc,h=[],i=a.cloneRange().down(),j=-1,k=-1,l=-1,m=-1,n=a.commonAncestor(),o=g.createDocumentFragment();if(3==n.nodeType){var p=d(n,a.startOffset,a.endOffset);return b&amp;&amp;o.appendChild(p),e(),b?o:a}f(n,o),c&amp;&amp;a.up().collapse(!0);for(var q=0,r=h.length;r&gt;q;q++){var s=h[q];s.parentNode&amp;&amp;s.parentNode.removeChild(s)}return b?o:a}function _moveToElementText(a,b){for(var c=b;c;){var d=K(c);if(&quot;marquee&quot;==d.name||&quot;select&quot;==d.name)return;c=c.parentNode}try{a.moveToElementText(b)}catch(e){}}function _getStartEnd(a,b){var c=a.parentElement().ownerDocument,d=a.duplicate();d.collapse(b);var e=d.parentElement(),f=e.childNodes;if(0===f.length)return{node:e.parentNode,offset:K(e).index()};var g=c,h=0,i=-1,j=a.duplicate();_moveToElementText(j,e);for(var k=0,l=f.length;l&gt;k;k++){var m=f[k];if(i=j.compareEndPoints(&quot;StartToStart&quot;,d),0===i)return{node:m.parentNode,offset:k};if(1==m.nodeType){var n,o=a.duplicate(),p=K(m),q=m;p.isControl()&amp;&amp;(n=c.createElement(&quot;span&quot;),p.after(n),q=n,h+=p.text().replace(/\r\n|\n|\r/g,&quot;&quot;).length),_moveToElementText(o,q),j.setEndPoint(&quot;StartToEnd&quot;,o),i&gt;0?h+=o.text.replace(/\r\n|\n|\r/g,&quot;&quot;).length:h=0,n&amp;&amp;K(n).remove()}else 3==m.nodeType&amp;&amp;(j.moveStart(&quot;character&quot;,m.nodeValue.length),h+=m.nodeValue.length);0&gt;i&amp;&amp;(g=m)}if(0&gt;i&amp;&amp;1==g.nodeType)return{node:e,offset:K(e.lastChild).index()+1};if(i&gt;0)for(;g.nextSibling&amp;&amp;1==g.nodeType;)g=g.nextSibling;if(j=a.duplicate(),_moveToElementText(j,e),j.setEndPoint(&quot;StartToEnd&quot;,d),h-=j.text.replace(/\r\n|\n|\r/g,&quot;&quot;).length,i&gt;0&amp;&amp;3==g.nodeType)for(var r=g.previousSibling;r&amp;&amp;3==r.nodeType;)h-=r.nodeValue.length,r=r.previousSibling;return{node:g,offset:h}}function _getEndRange(a,b){var c=a.ownerDocument||a,d=c.body.createTextRange();if(c==a)return d.collapse(!0),d;if(1==a.nodeType&amp;&amp;a.childNodes.length&gt;0){var e,f,g=a.childNodes;if(0===b?(f=g[0],e=!0):(f=g[b-1],e=!1),!f)return d;if(&quot;head&quot;===K(f).name)return 1===b&amp;&amp;(e=!0),2===b&amp;&amp;(e=!1),d.collapse(e),d;if(1==f.nodeType){var h,i=K(f);return i.isControl()&amp;&amp;(h=c.createElement(&quot;span&quot;),e?i.before(h):i.after(h),f=h),_moveToElementText(d,f),d.collapse(e),h&amp;&amp;K(h).remove(),d}a=f,b=e?0:f.nodeValue.length}var j=c.createElement(&quot;span&quot;);return K(a).before(j),_moveToElementText(d,j),d.moveStart(&quot;character&quot;,b),K(j).remove(),d}function _toRange(a){function b(a){&quot;tr&quot;==K(a.node).name&amp;&amp;(a.node=a.node.cells[a.offset],a.offset=0)}var c,d;if(_IERANGE){if(a.item)return c=_getDoc(a.item(0)),d=new KRange(c),d.selectNode(a.item(0)),d;c=a.parentElement().ownerDocument;var e=_getStartEnd(a,!0),f=_getStartEnd(a,!1);return b(e),b(f),d=new KRange(c),d.setStart(e.node,e.offset),d.setEnd(f.node,f.offset),d}var g=a.startContainer;return c=g.ownerDocument||g,d=new KRange(c),d.setStart(g,a.startOffset),d.setEnd(a.endContainer,a.endOffset),d}function KRange(a){this.init(a)}function _range(a){return a.nodeName?new KRange(a):a.constructor===KRange?a:_toRange(a)}function _nativeCommand(a,b,c){try{a.execCommand(b,!1,c)}catch(d){}}function _nativeCommandValue(a,b){var c=&quot;&quot;;try{c=a.queryCommandValue(b)}catch(d){}return&quot;string&quot;!=typeof c&amp;&amp;(c=&quot;&quot;),c}function _getSel(a){var b=_getWin(a);return _IERANGE?a.selection:b.getSelection()}function _getRng(a){var b,c=_getSel(a);try{b=c.rangeCount&gt;0?c.getRangeAt(0):c.createRange()}catch(d){}return!_IERANGE||b&amp;&amp;(b.item||b.parentElement().ownerDocument===a)?b:null}function _singleKeyMap(a){var b,c,d={};return _each(a,function(a,e){b=a.split(&quot;,&quot;);for(var f=0,g=b.length;g&gt;f;f++)c=b[f],d[c]=e}),d}function _hasAttrOrCss(a,b){return _hasAttrOrCssByKey(a,b,&quot;*&quot;)||_hasAttrOrCssByKey(a,b)}function _hasAttrOrCssByKey(a,b,c){if(c=c||a.name,1!==a.type)return!1;var d=_singleKeyMap(b);if(!d[c])return!1;for(var e=d[c].split(&quot;,&quot;),f=0,g=e.length;g&gt;f;f++){var h=e[f];if(&quot;*&quot;===h)return!0;var i=/^(\.?)([^=]+)(?:=([^=]*))?$/.exec(h),j=i[1]?&quot;css&quot;:&quot;attr&quot;;h=i[2];var k=i[3]||&quot;&quot;;if(&quot;&quot;===k&amp;&amp;&quot;&quot;!==a[j](h))return!0;if(&quot;&quot;!==k&amp;&amp;a[j](h)===k)return!0}return!1}function _removeAttrOrCss(a,b){1==a.type&amp;&amp;(_removeAttrOrCssByKey(a,b,&quot;*&quot;),_removeAttrOrCssByKey(a,b))}function _removeAttrOrCssByKey(a,b,c){if(c=c||a.name,1===a.type){var d=_singleKeyMap(b);if(d[c]){for(var e=d[c].split(&quot;,&quot;),f=!1,g=0,h=e.length;h&gt;g;g++){var i=e[g];if(&quot;*&quot;===i){f=!0;break}var j=/^(\.?)([^=]+)(?:=([^=]*))?$/.exec(i);i=j[2],j[1]?(i=_toCamel(i),a[0].style[i]&amp;&amp;(a[0].style[i]=&quot;&quot;)):a.removeAttr(i)}f&amp;&amp;a.remove(!0)}}}function _getInnerNode(a){for(var b=a;b.first();)b=b.first();return b}function _isEmptyNode(a){return 1!=a.type||a.isSingle()?!1:&quot;&quot;===a.html().replace(/&lt;[^&gt;]+&gt;/g,&quot;&quot;)}function _mergeWrapper(a,b){a=a.clone(!0);for(var c=_getInnerNode(a),d=a,e=!1;b;){for(;d;)d.name===b.name&amp;&amp;(_mergeAttrs(d,b.attr(),b.css()),e=!0),d=d.first();e||c.append(b.clone(!1)),e=!1,b=b.first()}return a}function _wrapNode(a,b){if(b=b.clone(!0),3==a.type)return _getInnerNode(b).append(a.clone(!1)),a.replaceWith(b),b;for(var c,d=a;(c=a.first())&amp;&amp;1==c.children().length;)a=c;c=a.first();for(var e=a.doc.createDocumentFragment();c;)e.appendChild(c[0]),c=c.next();return b=_mergeWrapper(d,b),e.firstChild&amp;&amp;_getInnerNode(b).append(e),d.replaceWith(b),b}function _mergeAttrs(a,b,c){_each(b,function(b,c){&quot;style&quot;!==b&amp;&amp;a.attr(b,c)}),_each(c,function(b,c){a.css(b,c)})}function _inPreElement(a){for(;a&amp;&amp;&quot;body&quot;!=a.name;){if(_PRE_TAG_MAP[a.name]||&quot;div&quot;==a.name&amp;&amp;a.hasClass(&quot;ke-script&quot;))return!0;a=a.parent()}return!1}function KCmd(a){this.init(a)}function _cmd(a){if(a.nodeName){var b=_getDoc(a);a=_range(b).selectNodeContents(b.body).collapse(!1)}return new KCmd(a)}function _drag(a){var b=a.moveEl,c=a.moveFn,d=a.clickEl||b,e=a.beforeDrag,f=a.iframeFix===undefined?!0:a.iframeFix,g=[document];f&amp;&amp;K(&quot;iframe&quot;).each(function(){var a=_formatUrl(this.src||&quot;&quot;,&quot;absolute&quot;);if(!/^https?:\/\//.test(a)){var b;try{b=_iframeDoc(this)}catch(c){}if(b){var d=K(this).pos();K(b).data(&quot;pos-x&quot;,d.x),K(b).data(&quot;pos-y&quot;,d.y),g.push(b)}}}),d.mousedown(function(a){function f(a){a.preventDefault();var b=K(_getDoc(a.target)),e=_round((b.data(&quot;pos-x&quot;)||0)+a.pageX-o),f=_round((b.data(&quot;pos-y&quot;)||0)+a.pageY-p);c.call(d,k,l,m,n,e,f)}function h(a){a.preventDefault()}function i(a){a.preventDefault(),K(g).unbind(&quot;mousemove&quot;,f).unbind(&quot;mouseup&quot;,i).unbind(&quot;selectstart&quot;,h),j.releaseCapture&amp;&amp;j.releaseCapture()}if(0===a.button||1===a.button){a.stopPropagation();var j=d.get(),k=_removeUnit(b.css(&quot;left&quot;)),l=_removeUnit(b.css(&quot;top&quot;)),m=b.width(),n=b.height(),o=a.pageX,p=a.pageY;e&amp;&amp;e(),K(g).mousemove(f).mouseup(i).bind(&quot;selectstart&quot;,h),j.setCapture&amp;&amp;j.setCapture()}})}function KWidget(a){this.init(a)}function _widget(a){return new KWidget(a)}function _iframeDoc(a){return a=_get(a),a.contentDocument||a.contentWindow.document}function _getInitHtml(a,b,c,d){var e=[&quot;&quot;===_direction?&quot;&lt;html&gt;&quot;:&#39;&lt;html dir=&quot;&#39;+_direction+&#39;&quot;&gt;&#39;,&#39;&lt;head&gt;&lt;meta charset=&quot;utf-8&quot; /&gt;&lt;title&gt;&lt;/title&gt;&#39;,&quot;&lt;style&gt;&quot;,&quot;html {margin:0;padding:0;}&quot;,&quot;body {margin:0;padding:5px;}&quot;,&#39;body, td {font:12px/1.5 &quot;sans serif&quot;,tahoma,verdana,helvetica;}&#39;,&quot;body, p, div {word-wrap: break-word;}&quot;,&quot;p {margin:5px 0;}&quot;,&quot;table {border-collapse:collapse;}&quot;,&quot;img {border:0;}&quot;,&quot;noscript {display:none;}&quot;,&quot;table.ke-zeroborder td {border:1px dotted #AAA;}&quot;,&quot;img.ke-flash {&quot;,&quot;	border:1px solid #AAA;&quot;,&quot;	background-image:url(&quot;+a+&quot;common/flash.gif);&quot;,&quot;	background-position:center center;&quot;,&quot;	background-repeat:no-repeat;&quot;,&quot;	width:100px;&quot;,&quot;	height:100px;&quot;,&quot;}&quot;,&quot;img.ke-rm {&quot;,&quot;	border:1px solid #AAA;&quot;,&quot;	background-image:url(&quot;+a+&quot;common/rm.gif);&quot;,&quot;	background-position:center center;&quot;,&quot;	background-repeat:no-repeat;&quot;,&quot;	width:100px;&quot;,&quot;	height:100px;&quot;,&quot;}&quot;,&quot;img.ke-media {&quot;,&quot;	border:1px solid #AAA;&quot;,&quot;	background-image:url(&quot;+a+&quot;common/media.gif);&quot;,&quot;	background-position:center center;&quot;,&quot;	background-repeat:no-repeat;&quot;,&quot;	width:100px;&quot;,&quot;	height:100px;&quot;,&quot;}&quot;,&quot;img.ke-anchor {&quot;,&quot;	border:1px dashed #666;&quot;,&quot;	width:16px;&quot;,&quot;	height:16px;&quot;,&quot;}&quot;,&quot;.ke-script, .ke-noscript, .ke-display-none {&quot;,&quot;	display:none;&quot;,&quot;	font-size:0;&quot;,&quot;	width:0;&quot;,&quot;	height:0;&quot;,&quot;}&quot;,&quot;.ke-pagebreak {&quot;,&quot;	border:1px dotted #AAA;&quot;,&quot;	font-size:0;&quot;,&quot;	height:2px;&quot;,&quot;}&quot;,&quot;&lt;/style&gt;&quot;];return _isArray(c)||(c=[c]),_each(c,function(a,b){b&amp;&amp;e.push(&#39;&lt;link href=&quot;&#39;+b+&#39;&quot; rel=&quot;stylesheet&quot; /&gt;&#39;)}),d&amp;&amp;e.push(&quot;&lt;style&gt;&quot;+d+&quot;&lt;/style&gt;&quot;),e.push(&quot;&lt;/head&gt;&lt;body &quot;+(b?&#39;class=&quot;&#39;+b+&#39;&quot;&#39;:&quot;&quot;)+&quot;&gt;&lt;/body&gt;&lt;/html&gt;&quot;),e.join(&quot;\n&quot;)}function _elementVal(a,b){if(a.hasVal()){if(b===undefined){var c=a.val();return c=c.replace(/(&lt;(?:p|p\s[^&gt;]*)&gt;) *(&lt;\/p&gt;)/gi,&quot;&quot;)}return a.val(b)}return a.html(b)}function KEdit(a){this.init(a)}function _edit(a){return new KEdit(a)}function _selectToolbar(a,b){var c=this,d=c.get(a);if(d){if(d.hasClass(&quot;ke-disabled&quot;))return;b(d)}}function KToolbar(a){this.init(a)}function _toolbar(a){return new KToolbar(a)}function KMenu(a){this.init(a)}function _menu(a){return new KMenu(a)}function KColorPicker(a){this.init(a)}function _colorpicker(a){return new KColorPicker(a)}function KUploadButton(a){this.init(a)}function _uploadbutton(a){return new KUploadButton(a)}function _createButton(a){a=a||{};var b=a.name||&quot;&quot;,c=K(&#39;&lt;span class=&quot;ke-button-common ke-button-outer&quot; title=&quot;&#39;+b+&#39;&quot;&gt;&lt;/span&gt;&#39;),d=K(&#39;&lt;input class=&quot;ke-button-common ke-button&quot; type=&quot;button&quot; value=&quot;&#39;+b+&#39;&quot; /&gt;&#39;);return a.click&amp;&amp;d.click(a.click),c.append(d),c}function KDialog(a){this.init(a)}function _dialog(a){return new KDialog(a)}function _tabs(a){var b=_widget(a),c=b.remove,d=a.afterSelect,e=b.div,f=[];e.addClass(&quot;ke-tabs&quot;).bind(&quot;contextmenu,mousedown,mousemove&quot;,function(a){a.preventDefault()});var g=K(&#39;&lt;ul class=&quot;ke-tabs-ul ke-clearfix&quot;&gt;&lt;/ul&gt;&#39;);return e.append(g),b.add=function(a){var b=K(&#39;&lt;li class=&quot;ke-tabs-li&quot;&gt;&#39;+a.title+&quot;&lt;/li&gt;&quot;);b.data(&quot;tab&quot;,a),f.push(b),g.append(b)},b.selectedIndex=0,b.select=function(a){b.selectedIndex=a,_each(f,function(c,d){d.unbind(),c===a?(d.addClass(&quot;ke-tabs-li-selected&quot;),K(d.data(&quot;tab&quot;).panel).show(&quot;&quot;)):(d.removeClass(&quot;ke-tabs-li-selected&quot;).removeClass(&quot;ke-tabs-li-on&quot;).mouseover(function(){K(this).addClass(&quot;ke-tabs-li-on&quot;)}).mouseout(function(){K(this).removeClass(&quot;ke-tabs-li-on&quot;)}).click(function(){b.select(c)}),K(d.data(&quot;tab&quot;).panel).hide())}),d&amp;&amp;d.call(b,a)},b.remove=function(){_each(f,function(){this.remove()}),g.remove(),c.call(b)},b}function _loadScript(a,b){var c=document.getElementsByTagName(&quot;head&quot;)[0]||(_QUIRKS?document.body:document.documentElement),d=document.createElement(&quot;script&quot;);c.appendChild(d),d.src=a,d.charset=&quot;utf-8&quot;,d.onload=d.onreadystatechange=function(){this.readyState&amp;&amp;&quot;loaded&quot;!==this.readyState||(b&amp;&amp;b(),d.onload=d.onreadystatechange=null,c.removeChild(d))}}function _chopQuery(a){var b=a.indexOf(&quot;?&quot;);return b&gt;0?a.substr(0,b):a}function _loadStyle(a){for(var b=document.getElementsByTagName(&quot;head&quot;)[0]||(_QUIRKS?document.body:document.documentElement),c=document.createElement(&quot;link&quot;),d=_chopQuery(_formatUrl(a,&quot;absolute&quot;)),e=K(&#39;link[rel=&quot;stylesheet&quot;]&#39;,b),f=0,g=e.length;g&gt;f;f++)if(_chopQuery(_formatUrl(e[f].href,&quot;absolute&quot;))===d)return;b.appendChild(c),c.href=a,c.rel=&quot;stylesheet&quot;}function _ajax(a,b,c,d,e){c=c||&quot;GET&quot;,e=e||&quot;json&quot;;var f=window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);if(f.open(c,a,!0),f.onreadystatechange=function(){if(4==f.readyState&amp;&amp;200==f.status&amp;&amp;b){var a=_trim(f.responseText);&quot;json&quot;==e&amp;&amp;(a=_json(a)),b(a)}},&quot;POST&quot;==c){var g=[];_each(d,function(a,b){g.push(encodeURIComponent(a)+&quot;=&quot;+encodeURIComponent(b))});try{f.setRequestHeader(&quot;Content-Type&quot;,&quot;application/x-www-form-urlencoded&quot;)}catch(h){}f.send(g.join(&quot;&amp;&quot;))}else f.send(null)}function _plugin(a,b){return a===undefined?_plugins:b?void(_plugins[a]=b):_plugins[a]}function _parseLangKey(a){var b,c=&quot;core&quot;;return(b=/^(\w+)\.(\w+)$/.exec(a))&amp;&amp;(c=b[1],a=b[2]),{ns:c,key:a}}function _lang(a,b){if(b=b===undefined?K.options.langType:b,&quot;string&quot;==typeof a){if(!_language[b])return&quot;no language&quot;;var c=a.length-1;if(&quot;.&quot;===a.substr(c))return _language[b][a.substr(0,c)];var d=_parseLangKey(a);return _language[b][d.ns][d.key]}_each(a,function(a,c){var d=_parseLangKey(a);_language[b]||(_language[b]={}),_language[b][d.ns]||(_language[b][d.ns]={}),_language[b][d.ns][d.key]=c})}function _getImageFromRange(a,b){if(!a.collapsed){a=a.cloneRange().up();var c=a.startContainer,d=a.startOffset;if(_WEBKIT||a.isControl()){var e=K(c.childNodes[d]);if(e&amp;&amp;&quot;img&quot;==e.name)return b(e)?e:void 0}}}function _bindContextmenuEvent(){var a=this,b=a.edit.doc;K(b).contextmenu(function(b){if(a.menu&amp;&amp;a.hideMenu(),!a.useContextmenu)return void b.preventDefault();if(0!==a._contextmenus.length){var c=0,d=[];for(_each(a._contextmenus,function(){return&quot;-&quot;==this.title?void d.push(this):void(this.cond&amp;&amp;this.cond()&amp;&amp;(d.push(this),this.width&amp;&amp;this.width&gt;c&amp;&amp;(c=this.width)))});d.length&gt;0&amp;&amp;&quot;-&quot;==d[0].title;)d.shift();for(;d.length&gt;0&amp;&amp;&quot;-&quot;==d[d.length-1].title;)d.pop();var e=null;if(_each(d,function(a){&quot;-&quot;==this.title&amp;&amp;&quot;-&quot;==e.title&amp;&amp;delete d[a],e=this}),d.length&gt;0){b.preventDefault();var f=K(a.edit.iframe).pos(),g=_menu({x:f.x+b.clientX,y:f.y+b.clientY,width:c,css:{visibility:&quot;hidden&quot;},shadowMode:a.shadowMode});_each(d,function(){this.title&amp;&amp;g.addItem(this)});var h=_docElement(g.doc),i=g.div.height();b.clientY+i&gt;=h.clientHeight-100&amp;&amp;g.pos(g.x,_removeUnit(g.y)-i),g.div.css(&quot;visibility&quot;,&quot;visible&quot;),a.menu=g}}})}function _bindNewlineEvent(){function a(a){for(var b=K(a.commonAncestor());b&amp;&amp;(1!=b.type||b.isStyle());)b=b.parent();return b.name}var b=this,c=b.edit.doc,d=b.newlineTag;if(!(_IE&amp;&amp;&quot;br&quot;!==d||_GECKO&amp;&amp;3&gt;_V&amp;&amp;&quot;p&quot;!==d||_OPERA&amp;&amp;9&gt;_V)){var e=_toMap(&quot;h1,h2,h3,h4,h5,h6,pre,li&quot;),f=_toMap(&quot;p,h1,h2,h3,h4,h5,h6,pre,li,blockquote&quot;);K(c).keydown(function(g){if(!(13!=g.which||g.shiftKey||g.ctrlKey||g.altKey)){b.cmd.selection();var h=a(b.cmd.range);if(&quot;marquee&quot;!=h&amp;&amp;&quot;select&quot;!=h)return&quot;br&quot;!==d||e[h]?void(f[h]||_nativeCommand(c,&quot;formatblock&quot;,&quot;&lt;p&gt;&quot;)):(g.preventDefault(),void b.insertHtml(&quot;&lt;br /&gt;&quot;+(_IE&amp;&amp;9&gt;_V?&quot;&quot;:&quot;​&quot;)))}}),K(c).keyup(function(e){if(!(13!=e.which||e.shiftKey||e.ctrlKey||e.altKey)&amp;&amp;&quot;br&quot;!=d){if(_GECKO){var g=b.cmd.commonAncestor(&quot;p&quot;),h=b.cmd.commonAncestor(&quot;a&quot;);return void(h&amp;&amp;&quot;&quot;==h.text()&amp;&amp;(h.remove(!0),b.cmd.range.selectNodeContents(g[0]).collapse(!0),b.cmd.select()))}b.cmd.selection();var i=a(b.cmd.range);if(&quot;marquee&quot;!=i&amp;&amp;&quot;select&quot;!=i){f[i]||_nativeCommand(c,&quot;formatblock&quot;,&quot;&lt;p&gt;&quot;);var j=b.cmd.commonAncestor(&quot;div&quot;);if(j){for(var k=K(&quot;&lt;p&gt;&lt;/p&gt;&quot;),l=j[0].firstChild;l;){var m=l.nextSibling;k.append(l),l=m}j.before(k),j.remove(),b.cmd.range.selectNodeContents(k[0]),b.cmd.select()}}}})}}function _bindTabEvent(){var a=this,b=a.edit.doc;K(b).keydown(function(c){if(9==c.which){if(c.preventDefault(),a.afterTab)return void a.afterTab.call(a,c);var d=a.cmd,e=d.range;e.shrink(),e.collapsed&amp;&amp;1==e.startContainer.nodeType&amp;&amp;(e.insertNode(K(&quot;@&amp;nbsp;&quot;,b)[0]),d.select()),a.insertHtml(&quot;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&quot;)}})}function _bindFocusEvent(){var a=this;K(a.edit.textarea[0],a.edit.win).focus(function(b){a.afterFocus&amp;&amp;a.afterFocus.call(a,b)}).blur(function(b){a.afterBlur&amp;&amp;a.afterBlur.call(a,b)})}function _removeBookmarkTag(a){return _trim(a.replace(/&lt;span [^&gt;]*id=&quot;?__kindeditor_bookmark_\w+_\d+__&quot;?[^&gt;]*&gt;&lt;\/span&gt;/gi,&quot;&quot;))}function _removeTempTag(a){return a.replace(/&lt;div[^&gt;]+class=&quot;?__kindeditor_paste__&quot;?[^&gt;]*&gt;[\s\S]*?&lt;\/div&gt;/gi,&quot;&quot;)}function _addBookmarkToStack(a,b){if(0===a.length)return void a.push(b);var c=a[a.length-1];_removeBookmarkTag(b.html)!==_removeBookmarkTag(c.html)&amp;&amp;a.push(b)}function _undoToRedo(a,b){var c,d,e=this,f=e.edit,g=f.doc.body;if(0===a.length)return e;</td>
      </tr>
      <tr>
        <td id="L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="LC3" class="blob-code blob-code-inner js-file-line">f.designMode?(c=e.cmd.range,d=c.createBookmark(!0),d.html=g.innerHTML):d={html:g.innerHTML},_addBookmarkToStack(b,d);var h=a.pop();return _removeBookmarkTag(d.html)===_removeBookmarkTag(h.html)&amp;&amp;a.length&gt;0&amp;&amp;(h=a.pop()),f.designMode?(f.html(h.html),h.start&amp;&amp;(c.moveToBookmark(h),e.select())):K(g).html(_removeBookmarkTag(h.html)),e}function KEditor(a){function b(a,b){KEditor.prototype[a]===undefined&amp;&amp;(c[a]=b),c.options[a]=b}var c=this;c.options={},_each(a,function(c){b(c,a[c])}),_each(K.options,function(a,d){c[a]===undefined&amp;&amp;b(a,d)});var d=K(c.srcElement||&quot;&lt;textarea/&gt;&quot;);c.width||(c.width=d[0].style.width||d.width()),c.height||(c.height=d[0].style.height||d.height()),b(&quot;width&quot;,_undef(c.width,c.minWidth)),b(&quot;height&quot;,_undef(c.height,c.minHeight)),b(&quot;width&quot;,_addUnit(c.width)),b(&quot;height&quot;,_addUnit(c.height)),_MOBILE&amp;&amp;(!_IOS||534&gt;_V)&amp;&amp;(c.designMode=!1),c.srcElement=d,c.initContent=&quot;&quot;,c.plugin={},c.isCreated=!1,c._handlers={},c._contextmenus=[],c._undoStack=[],c._redoStack=[],c._firstAddBookmark=!0,c.menu=c.contextmenu=null,c.dialogs=[]}function _editor(a){return new KEditor(a)}function _create(a,b){function c(a){return _each(_plugins,function(b,c){_isFunction(c)&amp;&amp;(c.call(a,KindEditor),a._pluginStatus||(a._pluginStatus={}),a._pluginStatus[b]=&quot;inited&quot;)}),a.create()}if(b=b||{},b.basePath=_undef(b.basePath,K.basePath),b.themesPath=_undef(b.themesPath,b.basePath+&quot;themes/&quot;),b.langPath=_undef(b.langPath,b.basePath+&quot;lang/&quot;),b.pluginsPath=_undef(b.pluginsPath,b.basePath+&quot;plugins/&quot;),_undef(b.loadStyleMode,K.options.loadStyleMode)){var d=_undef(b.themeType,K.options.themeType);_loadStyle(b.themesPath+&quot;default/default.css&quot;),_loadStyle(b.themesPath+d+&quot;/&quot;+d+&quot;.css&quot;)}var e=K(a);if(e&amp;&amp;0!==e.length){if(e.length&gt;1)return e.each(function(){_create(this,b)}),_instances[0];b.srcElement=e[0];var f=new KEditor(b);return _instances.push(f),_language[f.langType]?c(f):(_loadScript(f.langPath+f.langType+&quot;.js?ver=&quot;+encodeURIComponent(K.DEBUG?_TIME:_VERSION),function(){c(f)}),f)}}function _eachEditor(a,b){K(a).each(function(a,c){K.each(_instances,function(a,d){return d&amp;&amp;d.srcElement[0]==c?(b.call(d,a),!1):void 0})})}if(!window.KindEditor){window.console||(window.console={}),console.log||(console.log=function(){});var _VERSION=&quot;4.1.12 (2017-04-12)&quot;,_ua=navigator.userAgent.toLowerCase(),_IE=_ua.indexOf(&quot;msie&quot;)&gt;-1&amp;&amp;-1==_ua.indexOf(&quot;opera&quot;),_NEWIE=-1==_ua.indexOf(&quot;msie&quot;)&amp;&amp;_ua.indexOf(&quot;trident&quot;)&gt;-1,_GECKO=_ua.indexOf(&quot;gecko&quot;)&gt;-1&amp;&amp;-1==_ua.indexOf(&quot;khtml&quot;),_WEBKIT=_ua.indexOf(&quot;applewebkit&quot;)&gt;-1,_OPERA=_ua.indexOf(&quot;opera&quot;)&gt;-1,_MOBILE=_ua.indexOf(&quot;mobile&quot;)&gt;-1,_IOS=/ipad|iphone|ipod/.test(_ua),_QUIRKS=&quot;CSS1Compat&quot;!=document.compatMode,_IERANGE=!window.getSelection,_matches=/(?:msie|firefox|webkit|opera)[\/:\s](\d+)/.exec(_ua),_V=_matches?_matches[1]:&quot;0&quot;,_TIME=(new Date).getTime(),_round=Math.round,K={DEBUG:!1,VERSION:_VERSION,IE:_IE,GECKO:_GECKO,WEBKIT:_WEBKIT,OPERA:_OPERA,V:_V,TIME:_TIME,each:_each,isArray:_isArray,isFunction:_isFunction,inArray:_inArray,inString:_inString,trim:_trim,addUnit:_addUnit,removeUnit:_removeUnit,escape:_escape,unescape:_unescape,toCamel:_toCamel,toHex:_toHex,toMap:_toMap,toArray:_toArray,undef:_undef,invalidUrl:_invalidUrl,addParam:_addParam,extend:_extend,json:_json},_INLINE_TAG_MAP=_toMap(&quot;a,abbr,acronym,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,img,input,ins,kbd,label,map,q,s,samp,select,small,span,strike,strong,sub,sup,textarea,tt,u,var&quot;),_BLOCK_TAG_MAP=_toMap(&quot;address,applet,blockquote,body,center,dd,dir,div,dl,dt,fieldset,form,frameset,h1,h2,h3,h4,h5,h6,head,hr,html,iframe,ins,isindex,li,map,menu,meta,noframes,noscript,object,ol,p,pre,script,style,table,tbody,td,tfoot,th,thead,title,tr,ul&quot;),_SINGLE_TAG_MAP=_toMap(&quot;area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed&quot;),_STYLE_TAG_MAP=_toMap(&quot;b,basefont,big,del,em,font,i,s,small,span,strike,strong,sub,sup,u&quot;),_CONTROL_TAG_MAP=_toMap(&quot;img,table,input,textarea,button&quot;),_PRE_TAG_MAP=_toMap(&quot;pre,style,script&quot;),_NOSPLIT_TAG_MAP=_toMap(&quot;html,head,body,td,tr,table,ol,ul,li&quot;),_AUTOCLOSE_TAG_MAP=_toMap(&quot;colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr&quot;),_FILL_ATTR_MAP=_toMap(&quot;checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected&quot;),_VALUE_TAG_MAP=_toMap(&quot;input,button,textarea,select&quot;);K.basePath=_getBasePath(),K.options={designMode:!0,fullscreenMode:!1,filterMode:!0,wellFormatMode:!0,shadowMode:!0,loadStyleMode:!0,basePath:K.basePath,themesPath:K.basePath+&quot;themes/&quot;,langPath:K.basePath+&quot;lang/&quot;,pluginsPath:K.basePath+&quot;plugins/&quot;,themeType:&quot;default&quot;,langType:&quot;zh-CN&quot;,urlType:&quot;&quot;,newlineTag:&quot;p&quot;,resizeType:2,syncType:&quot;form&quot;,pasteType:2,dialogAlignType:&quot;page&quot;,useContextmenu:!0,fullscreenShortcut:!1,bodyClass:&quot;ke-content&quot;,indentChar:&quot;	&quot;,cssPath:&quot;&quot;,cssData:&quot;&quot;,minWidth:650,minHeight:100,minChangeSize:50,zIndex:811213,items:[&quot;source&quot;,&quot;|&quot;,&quot;undo&quot;,&quot;redo&quot;,&quot;|&quot;,&quot;preview&quot;,&quot;print&quot;,&quot;template&quot;,&quot;code&quot;,&quot;cut&quot;,&quot;copy&quot;,&quot;paste&quot;,&quot;plainpaste&quot;,&quot;wordpaste&quot;,&quot;|&quot;,&quot;justifyleft&quot;,&quot;justifycenter&quot;,&quot;justifyright&quot;,&quot;justifyfull&quot;,&quot;insertorderedlist&quot;,&quot;insertunorderedlist&quot;,&quot;indent&quot;,&quot;outdent&quot;,&quot;subscript&quot;,&quot;superscript&quot;,&quot;clearhtml&quot;,&quot;quickformat&quot;,&quot;selectall&quot;,&quot;|&quot;,&quot;fullscreen&quot;,&quot;/&quot;,&quot;formatblock&quot;,&quot;fontname&quot;,&quot;fontsize&quot;,&quot;|&quot;,&quot;forecolor&quot;,&quot;hilitecolor&quot;,&quot;bold&quot;,&quot;italic&quot;,&quot;underline&quot;,&quot;strikethrough&quot;,&quot;lineheight&quot;,&quot;removeformat&quot;,&quot;|&quot;,&quot;image&quot;,&quot;multiimage&quot;,&quot;flash&quot;,&quot;media&quot;,&quot;insertfile&quot;,&quot;table&quot;,&quot;hr&quot;,&quot;emoticons&quot;,&quot;baidumap&quot;,&quot;pagebreak&quot;,&quot;anchor&quot;,&quot;link&quot;,&quot;unlink&quot;,&quot;|&quot;,&quot;about&quot;],noDisableItems:[&quot;source&quot;,&quot;fullscreen&quot;],colorTable:[[&quot;#E53333&quot;,&quot;#E56600&quot;,&quot;#FF9900&quot;,&quot;#64451D&quot;,&quot;#DFC5A4&quot;,&quot;#FFE500&quot;],[&quot;#009900&quot;,&quot;#006600&quot;,&quot;#99BB00&quot;,&quot;#B8D100&quot;,&quot;#60D978&quot;,&quot;#00D5FF&quot;],[&quot;#337FE5&quot;,&quot;#003399&quot;,&quot;#4C33E5&quot;,&quot;#9933E5&quot;,&quot;#CC33E5&quot;,&quot;#EE33EE&quot;],[&quot;#FFFFFF&quot;,&quot;#CCCCCC&quot;,&quot;#999999&quot;,&quot;#666666&quot;,&quot;#333333&quot;,&quot;#000000&quot;]],fontSizeTable:[&quot;9px&quot;,&quot;10px&quot;,&quot;12px&quot;,&quot;14px&quot;,&quot;16px&quot;,&quot;18px&quot;,&quot;24px&quot;,&quot;32px&quot;],htmlTags:{font:[&quot;id&quot;,&quot;class&quot;,&quot;color&quot;,&quot;size&quot;,&quot;face&quot;,&quot;.background-color&quot;],span:[&quot;id&quot;,&quot;class&quot;,&quot;.color&quot;,&quot;.background-color&quot;,&quot;.font-size&quot;,&quot;.font-family&quot;,&quot;.background&quot;,&quot;.font-weight&quot;,&quot;.font-style&quot;,&quot;.text-decoration&quot;,&quot;.vertical-align&quot;,&quot;.line-height&quot;],div:[&quot;id&quot;,&quot;class&quot;,&quot;align&quot;,&quot;.border&quot;,&quot;.margin&quot;,&quot;.padding&quot;,&quot;.text-align&quot;,&quot;.color&quot;,&quot;.background-color&quot;,&quot;.font-size&quot;,&quot;.font-family&quot;,&quot;.font-weight&quot;,&quot;.background&quot;,&quot;.font-style&quot;,&quot;.text-decoration&quot;,&quot;.vertical-align&quot;,&quot;.margin-left&quot;],table:[&quot;id&quot;,&quot;class&quot;,&quot;border&quot;,&quot;cellspacing&quot;,&quot;cellpadding&quot;,&quot;width&quot;,&quot;height&quot;,&quot;align&quot;,&quot;bordercolor&quot;,&quot;.padding&quot;,&quot;.margin&quot;,&quot;.border&quot;,&quot;bgcolor&quot;,&quot;.text-align&quot;,&quot;.color&quot;,&quot;.background-color&quot;,&quot;.font-size&quot;,&quot;.font-family&quot;,&quot;.font-weight&quot;,&quot;.font-style&quot;,&quot;.text-decoration&quot;,&quot;.background&quot;,&quot;.width&quot;,&quot;.height&quot;,&quot;.border-collapse&quot;],&quot;td,th&quot;:[&quot;id&quot;,&quot;class&quot;,&quot;align&quot;,&quot;valign&quot;,&quot;width&quot;,&quot;height&quot;,&quot;colspan&quot;,&quot;rowspan&quot;,&quot;bgcolor&quot;,&quot;.text-align&quot;,&quot;.color&quot;,&quot;.background-color&quot;,&quot;.font-size&quot;,&quot;.font-family&quot;,&quot;.font-weight&quot;,&quot;.font-style&quot;,&quot;.text-decoration&quot;,&quot;.vertical-align&quot;,&quot;.background&quot;,&quot;.border&quot;],a:[&quot;id&quot;,&quot;class&quot;,&quot;href&quot;,&quot;target&quot;,&quot;name&quot;],embed:[&quot;id&quot;,&quot;class&quot;,&quot;src&quot;,&quot;width&quot;,&quot;height&quot;,&quot;type&quot;,&quot;loop&quot;,&quot;autostart&quot;,&quot;quality&quot;,&quot;.width&quot;,&quot;.height&quot;,&quot;align&quot;,&quot;allowscriptaccess&quot;,&quot;wmode&quot;],img:[&quot;id&quot;,&quot;class&quot;,&quot;src&quot;,&quot;width&quot;,&quot;height&quot;,&quot;border&quot;,&quot;alt&quot;,&quot;title&quot;,&quot;align&quot;,&quot;.width&quot;,&quot;.height&quot;,&quot;.border&quot;],&quot;p,ol,ul,li,blockquote,h1,h2,h3,h4,h5,h6&quot;:[&quot;id&quot;,&quot;class&quot;,&quot;align&quot;,&quot;.text-align&quot;,&quot;.color&quot;,&quot;.background-color&quot;,&quot;.font-size&quot;,&quot;.font-family&quot;,&quot;.background&quot;,&quot;.font-weight&quot;,&quot;.font-style&quot;,&quot;.text-decoration&quot;,&quot;.vertical-align&quot;,&quot;.text-indent&quot;,&quot;.margin-left&quot;],pre:[&quot;id&quot;,&quot;class&quot;],hr:[&quot;id&quot;,&quot;class&quot;,&quot;.page-break-after&quot;],&quot;br,tbody,tr,strong,b,sub,sup,em,i,u,strike,s,del&quot;:[&quot;id&quot;,&quot;class&quot;],iframe:[&quot;id&quot;,&quot;class&quot;,&quot;src&quot;,&quot;frameborder&quot;,&quot;width&quot;,&quot;height&quot;,&quot;.width&quot;,&quot;.height&quot;]},layout:&#39;&lt;div class=&quot;container&quot;&gt;&lt;div class=&quot;toolbar&quot;&gt;&lt;/div&gt;&lt;div class=&quot;edit&quot;&gt;&lt;/div&gt;&lt;div class=&quot;statusbar&quot;&gt;&lt;/div&gt;&lt;/div&gt;&#39;};var _useCapture=!1,_INPUT_KEY_MAP=_toMap(&quot;8,9,13,32,46,48..57,59,61,65..90,106,109..111,188,190..192,219..222&quot;),_CURSORMOVE_KEY_MAP=_toMap(&quot;33..40&quot;),_CHANGE_KEY_MAP={};_each(_INPUT_KEY_MAP,function(a,b){_CHANGE_KEY_MAP[a]=b}),_each(_CURSORMOVE_KEY_MAP,function(a,b){_CHANGE_KEY_MAP[a]=b});var _EVENT_PROPS=&quot;altKey,attrChange,attrName,bubbles,button,cancelable,charCode,clientX,clientY,ctrlKey,currentTarget,data,detail,eventPhase,fromElement,handler,keyCode,metaKey,newValue,offsetX,offsetY,originalTarget,pageX,pageY,prevValue,relatedNode,relatedTarget,screenX,screenY,shiftKey,srcElement,target,toElement,view,wheelDelta,which&quot;.split(&quot;,&quot;);_extend(KEvent,{init:function(a,b){var c=this,d=a.ownerDocument||a.document||a;if(c.event=b,_each(_EVENT_PROPS,function(a,d){c[d]=b[d]}),c.target||(c.target=c.srcElement||d),3===c.target.nodeType&amp;&amp;(c.target=c.target.parentNode),!c.relatedTarget&amp;&amp;c.fromElement&amp;&amp;(c.relatedTarget=c.fromElement===c.target?c.toElement:c.fromElement),null==c.pageX&amp;&amp;null!=c.clientX){var e=d.documentElement,f=d.body;c.pageX=c.clientX+(e&amp;&amp;e.scrollLeft||f&amp;&amp;f.scrollLeft||0)-(e&amp;&amp;e.clientLeft||f&amp;&amp;f.clientLeft||0),c.pageY=c.clientY+(e&amp;&amp;e.scrollTop||f&amp;&amp;f.scrollTop||0)-(e&amp;&amp;e.clientTop||f&amp;&amp;f.clientTop||0)}switch(!c.which&amp;&amp;(c.charCode||0===c.charCode?c.charCode:c.keyCode)&amp;&amp;(c.which=c.charCode||c.keyCode),!c.metaKey&amp;&amp;c.ctrlKey&amp;&amp;(c.metaKey=c.ctrlKey),c.which||c.button===undefined||(c.which=1&amp;c.button?1:2&amp;c.button?3:4&amp;c.button?2:0),c.which){case 186:c.which=59;break;case 187:case 107:case 43:c.which=61;break;case 189:case 45:c.which=109;break;case 42:c.which=106;break;case 47:c.which=111;break;case 78:c.which=110}c.which&gt;=96&amp;&amp;c.which&lt;=105&amp;&amp;(c.which-=48)},preventDefault:function(){var a=this.event;a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation:function(){var a=this.event;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},stop:function(){this.preventDefault(),this.stopPropagation()}});var _eventExpendo=&quot;kindeditor_&quot;+_TIME,_eventId=0,_eventData={},_readyFinished=!1;window.attachEvent&amp;&amp;window.attachEvent(&quot;onunload&quot;,function(){_each(_eventData,function(a,b){b.el&amp;&amp;_unbind(b.el)})}),K.ctrl=_ctrl,K.ready=_ready,K.formatUrl=_formatUrl,K.formatHtml=_formatHtml,K.getCssList=_getCssList,K.getAttrList=_getAttrList,K.mediaType=_mediaType,K.mediaAttrs=_mediaAttrs,K.mediaEmbed=_mediaEmbed,K.mediaImg=_mediaImg,K.clearMsWord=_clearMsWord,K.tmpl=_tmpl;var _getSetAttrDiv=document.createElement(&quot;div&quot;);_getSetAttrDiv.setAttribute(&quot;className&quot;,&quot;t&quot;);var _GET_SET_ATTRIBUTE=&quot;t&quot;!==_getSetAttrDiv.className;K.query=_query,K.queryAll=_queryAll,_extend(KNode,{init:function(a){var b=this;a=_isArray(a)?a:[a];for(var c=0,d=0,e=a.length;e&gt;d;d++)a[d]&amp;&amp;(b[d]=a[d].constructor===KNode?a[d][0]:a[d],c++);b.length=c,b.doc=_getDoc(b[0]),b.name=_getNodeName(b[0]),b.type=b.length&gt;0?b[0].nodeType:null,b.win=_getWin(b[0])},each:function(a){for(var b=this,c=0;c&lt;b.length;c++)if(a.call(b[c],c,b[c])===!1)return b;return b},bind:function(a,b){return this.each(function(){_bind(this,a,b)}),this},unbind:function(a,b){return this.each(function(){_unbind(this,a,b)}),this},fire:function(a){return this.length&lt;1?this:(_fire(this[0],a),this)},hasAttr:function(a){return this.length&lt;1?!1:!!_getAttr(this[0],a)},attr:function(a,b){var c=this;return a===undefined?_getAttrList(c.outer()):&quot;object&quot;==typeof a?(_each(a,function(a,b){c.attr(a,b)}),c):b===undefined?(b=c.length&lt;1?null:_getAttr(c[0],a),null===b?&quot;&quot;:b):(c.each(function(){_setAttr(this,a,b)}),c)},removeAttr:function(a){return this.each(function(){_removeAttr(this,a)}),this},get:function(a){return this.length&lt;1?null:this[a||0]},eq:function(a){return this.length&lt;1?null:this[a]?new KNode(this[a]):null},hasClass:function(a){return this.length&lt;1?!1:_hasClass(this[0],a)},addClass:function(a){return this.each(function(){_hasClass(this,a)||(this.className=_trim(this.className+&quot; &quot;+a))}),this},removeClass:function(a){return this.each(function(){_hasClass(this,a)&amp;&amp;(this.className=_trim(this.className.replace(new RegExp(&quot;(^|\\s)&quot;+a+&quot;(\\s|$)&quot;),&quot; &quot;)))}),this},html:function(a){var b=this;return a===undefined?b.length&lt;1||1!=b.type?&quot;&quot;:_formatHtml(b[0].innerHTML):(b.each(function(){_setHtml(this,a)}),b)},text:function(){var a=this;return a.length&lt;1?&quot;&quot;:_IE?a[0].innerText:a[0].textContent},hasVal:function(){return this.length&lt;1?!1:_hasVal(this[0])},val:function(a){var b=this;return a===undefined?b.length&lt;1?&quot;&quot;:b.hasVal()?b[0].value:b.attr(&quot;value&quot;):(b.each(function(){_hasVal(this)?this.value=a:_setAttr(this,&quot;value&quot;,a)}),b)},css:function(a,b){var c=this;return a===undefined?_getCssList(c.attr(&quot;style&quot;)):&quot;object&quot;==typeof a?(_each(a,function(a,b){c.css(a,b)}),c):b===undefined?c.length&lt;1?&quot;&quot;:c[0].style[_toCamel(a)]||_computedCss(c[0],a)||&quot;&quot;:(c.each(function(){this.style[_toCamel(a)]=b}),c)},width:function(a){var b=this;return a===undefined?b.length&lt;1?0:b[0].offsetWidth:b.css(&quot;width&quot;,_addUnit(a))},height:function(a){var b=this;return a===undefined?b.length&lt;1?0:b[0].offsetHeight:b.css(&quot;height&quot;,_addUnit(a))},opacity:function(a){return this.each(function(){this.style.opacity===undefined?this.style.filter=1==a?&quot;&quot;:&quot;alpha(opacity=&quot;+100*a+&quot;)&quot;:this.style.opacity=1==a?&quot;&quot;:a}),this},data:function(a,b){var c=this;return a=&quot;kindeditor_data_&quot;+a,b===undefined?c.length&lt;1?null:c[0][a]:(this.each(function(){this[a]=b}),c)},pos:function(){var a=this,b=a[0],c=0,d=0;if(b)if(b.getBoundingClientRect){var e=b.getBoundingClientRect(),f=_getScrollPos(a.doc);c=e.left+f.x,d=e.top+f.y}else for(;b;)c+=b.offsetLeft,d+=b.offsetTop,b=b.offsetParent;return{x:_round(c),y:_round(d)}},clone:function(a){return new KNode(this.length&lt;1?[]:this[0].cloneNode(a))},append:function(a){return this.each(function(){this.appendChild&amp;&amp;this.appendChild(_get(a))}),this},appendTo:function(a){return this.each(function(){_get(a).appendChild(this)}),this},before:function(a){return this.each(function(){this.parentNode.insertBefore(_get(a),this)}),this},after:function(a){return this.each(function(){this.nextSibling?this.parentNode.insertBefore(_get(a),this.nextSibling):this.parentNode.appendChild(_get(a))}),this},replaceWith:function(a){var b=[];return this.each(function(c,d){_unbind(d);var e=_get(a);d.parentNode.replaceChild(e,d),b.push(e)}),K(b)},empty:function(){var a=this;return a.each(function(a,b){for(var c=b.firstChild;c;){if(!b.parentNode)return;var d=c.nextSibling;c.parentNode.removeChild(c),c=d}}),a},remove:function(a){var b=this;return b.each(function(c,d){if(d.parentNode){if(_unbind(d),a)for(var e=d.firstChild;e;){var f=e.nextSibling;d.parentNode.insertBefore(e,d),e=f}d.parentNode.removeChild(d),delete b[c]}}),b.length=0,b},show:function(a){var b=this;return a===undefined&amp;&amp;(a=b._originDisplay||&quot;&quot;),&quot;none&quot;!=b.css(&quot;display&quot;)?b:b.css(&quot;display&quot;,a)},hide:function(){var a=this;return a.length&lt;1?a:(a._originDisplay=a[0].style.display,a.css(&quot;display&quot;,&quot;none&quot;))},outer:function(){var a=this;if(a.length&lt;1)return&quot;&quot;;var b,c=a.doc.createElement(&quot;div&quot;);return c.appendChild(a[0].cloneNode(!0)),b=_formatHtml(c.innerHTML),c=null,b},isSingle:function(){return!!_SINGLE_TAG_MAP[this.name]},isInline:function(){return!!_INLINE_TAG_MAP[this.name]},isBlock:function(){return!!_BLOCK_TAG_MAP[this.name]},isStyle:function(){return!!_STYLE_TAG_MAP[this.name]},isControl:function(){return!!_CONTROL_TAG_MAP[this.name]},contains:function(a){return this.length&lt;1?!1:_contains(this[0],_get(a))},parent:function(){if(this.length&lt;1)return null;var a=this[0].parentNode;return a?new KNode(a):null},children:function(){if(this.length&lt;1)return new KNode([]);for(var a=[],b=this[0].firstChild;b;)(3!=b.nodeType||&quot;&quot;!==_trim(b.nodeValue))&amp;&amp;a.push(b),b=b.nextSibling;return new KNode(a)},first:function(){var a=this.children();return a.length&gt;0?a.eq(0):null},last:function(){var a=this.children();return a.length&gt;0?a.eq(a.length-1):null},index:function(){if(this.length&lt;1)return-1;for(var a=-1,b=this[0];b;)a++,b=b.previousSibling;return a},prev:function(){if(this.length&lt;1)return null;var a=this[0].previousSibling;return a?new KNode(a):null},next:function(){if(this.length&lt;1)return null;var a=this[0].nextSibling;return a?new KNode(a):null},scan:function(a,b){function c(d){for(var e=b?d.firstChild:d.lastChild;e;){var f=b?e.nextSibling:e.previousSibling;if(a(e)===!1)return!1;if(c(e)===!1)return!1;e=f}}if(!(this.length&lt;1))return b=b===undefined?!0:b,c(this[0]),this}}),_each(&quot;blur,focus,focusin,focusout,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error,contextmenu&quot;.split(&quot;,&quot;),function(a,b){KNode.prototype[b]=function(a){return a?this.bind(b,a):this.fire(b)}});var _K=K;K=function(a,b){function c(a){return a[0]||(a=[]),new KNode(a)}if(a!==undefined&amp;&amp;null!==a){if(&quot;string&quot;==typeof a){b&amp;&amp;(b=_get(b));var d=a.length;if(&quot;@&quot;===a.charAt(0)&amp;&amp;(a=a.substr(1)),a.length!==d||/&lt;.+&gt;/.test(a)){var e=b?b.ownerDocument||b:document,f=e.createElement(&quot;div&quot;),g=[];f.innerHTML=&#39;&lt;img id=&quot;__kindeditor_temp_tag__&quot; width=&quot;0&quot; height=&quot;0&quot; style=&quot;display:none;&quot; /&gt;&#39;+a;for(var h=0,i=f.childNodes.length;i&gt;h;h++){var j=f.childNodes[h];&quot;__kindeditor_temp_tag__&quot;!=j.id&amp;&amp;g.push(j)}return c(g)}return c(_queryAll(a,b))}return a&amp;&amp;a.constructor===KNode?a:(a.toArray&amp;&amp;(a=a.toArray()),c(_isArray(a)?a:_toArray(arguments)))}},_each(_K,function(a,b){K[a]=b}),K.NodeClass=KNode,window.KindEditor=K;var _START_TO_START=0,_START_TO_END=1,_END_TO_END=2,_END_TO_START=3,_BOOKMARK_ID=0;_extend(KRange,{init:function(a){var b=this;b.startContainer=a,b.startOffset=0,b.endContainer=a,b.endOffset=0,b.collapsed=!0,b.doc=a},commonAncestor:function(){function a(a){for(var b=[];a;)b.push(a),a=a.parentNode;return b}for(var b,c,d=a(this.startContainer),e=a(this.endContainer),f=0,g=d.length,h=e.length;++f&amp;&amp;(b=d[g-f],c=e[h-f],b&amp;&amp;c&amp;&amp;b===c););return d[g-f+1]},setStart:function(a,b){var c=this,d=c.doc;return c.startContainer=a,c.startOffset=b,c.endContainer===d&amp;&amp;(c.endContainer=a,c.endOffset=b),_updateCollapsed(this)},setEnd:function(a,b){var c=this,d=c.doc;return c.endContainer=a,c.endOffset=b,c.startContainer===d&amp;&amp;(c.startContainer=a,c.startOffset=b),_updateCollapsed(this)},setStartBefore:function(a){return this.setStart(a.parentNode||this.doc,K(a).index())},setStartAfter:function(a){return this.setStart(a.parentNode||this.doc,K(a).index()+1)},setEndBefore:function(a){return this.setEnd(a.parentNode||this.doc,K(a).index())},setEndAfter:function(a){return this.setEnd(a.parentNode||this.doc,K(a).index()+1)},selectNode:function(a){return this.setStartBefore(a).setEndAfter(a)},selectNodeContents:function(a){var b=K(a);if(3==b.type||b.isSingle())return this.selectNode(a);var c=b.children();return c.length&gt;0?this.setStartBefore(c[0]).setEndAfter(c[c.length-1]):this.setStart(a,0).setEnd(a,0)},collapse:function(a){return a?this.setEnd(this.startContainer,this.startOffset):this.setStart(this.endContainer,this.endOffset)},compareBoundaryPoints:function(a,b){var c=this.get(),d=b.get();if(!_IERANGE)return c.compareBoundaryPoints(a,d);var e={};e[_START_TO_START]=&quot;StartToStart&quot;,e[_START_TO_END]=&quot;EndToStart&quot;,e[_END_TO_END]=&quot;EndToEnd&quot;,e[_END_TO_START]=&quot;StartToEnd&quot;;var f=c.compareEndPoints(e[a],d);if(0!==f)return f;var g,h,i,j,k;if((a===_START_TO_START||a===_END_TO_START)&amp;&amp;(g=this.startContainer,j=this.startOffset),(a===_START_TO_END||a===_END_TO_END)&amp;&amp;(g=this.endContainer,j=this.endOffset),(a===_START_TO_START||a===_START_TO_END)&amp;&amp;(h=b.startContainer,k=b.startOffset),(a===_END_TO_END||a===_END_TO_START)&amp;&amp;(h=b.endContainer,k=b.endOffset),g===h){var l=j-k;return l&gt;0?1:0&gt;l?-1:0}for(i=h;i&amp;&amp;i.parentNode!==g;)i=i.parentNode;if(i)return K(i).index()&gt;=j?-1:1;for(i=g;i&amp;&amp;i.parentNode!==h;)i=i.parentNode;return i?K(i).index()&gt;=k?1:-1:(i=K(h).next(),i&amp;&amp;i.contains(g)?1:(i=K(g).next(),i&amp;&amp;i.contains(h)?-1:void 0))},cloneRange:function(){return new KRange(this.doc).setStart(this.startContainer,this.startOffset).setEnd(this.endContainer,this.endOffset)},toString:function(){var a=this.get(),b=_IERANGE?a.text:a.toString();return b.replace(/\r\n|\n|\r/g,&quot;&quot;)},cloneContents:function(){return _copyAndDelete(this,!0,!1)},deleteContents:function(){return _copyAndDelete(this,!1,!0)},extractContents:function(){return _copyAndDelete(this,!0,!0)},insertNode:function(a){var b,c,d,e=this,f=e.startContainer,g=e.startOffset,h=e.endContainer,i=e.endOffset,j=1;return&quot;#document-fragment&quot;===a.nodeName.toLowerCase()&amp;&amp;(b=a.firstChild,c=a.lastChild,j=a.childNodes.length),1==f.nodeType?(d=f.childNodes[g],d?(f.insertBefore(a,d),f===h&amp;&amp;(i+=j)):f.appendChild(a)):3==f.nodeType&amp;&amp;(0===g?(f.parentNode.insertBefore(a,f),f.parentNode===h&amp;&amp;(i+=j)):g&gt;=f.nodeValue.length?f.nextSibling?f.parentNode.insertBefore(a,f.nextSibling):f.parentNode.appendChild(a):(d=g&gt;0?f.splitText(g):f,f.parentNode.insertBefore(a,d),f===h&amp;&amp;(h=d,i-=g))),b?e.setStartBefore(b).setEndAfter(c):e.selectNode(a),e.compareBoundaryPoints(_END_TO_END,e.cloneRange().setEnd(h,i))&gt;=1?e:e.setEnd(h,i)},surroundContents:function(a){return a.appendChild(this.extractContents()),this.insertNode(a).selectNode(a)},isControl:function(){var a=this,b=a.startContainer,c=a.startOffset,d=a.endContainer,e=a.endOffset;return 1==b.nodeType&amp;&amp;b===d&amp;&amp;c+1===e&amp;&amp;K(b.childNodes[c]).isControl()},get:function(a){var b,c=this,d=c.doc;if(!_IERANGE){b=d.createRange();try{b.setStart(c.startContainer,c.startOffset),b.setEnd(c.endContainer,c.endOffset)}catch(e){}return b}if(a&amp;&amp;c.isControl())return b=d.body.createControlRange(),b.addElement(c.startContainer.childNodes[c.startOffset]),b;var f=c.cloneRange().down();return b=d.body.createTextRange(),b.setEndPoint(&quot;StartToStart&quot;,_getEndRange(f.startContainer,f.startOffset)),b.setEndPoint(&quot;EndToStart&quot;,_getEndRange(f.endContainer,f.endOffset)),b},html:function(){return K(this.cloneContents()).outer()},down:function(){function a(a,c,d){if(1==a.nodeType){var e=K(a).children();if(0!==e.length){var f,g,h,i;c&gt;0&amp;&amp;(f=e.eq(c-1)),c&lt;e.length&amp;&amp;(g=e.eq(c)),f&amp;&amp;3==f.type&amp;&amp;(h=f[0],i=h.nodeValue.length),g&amp;&amp;3==g.type&amp;&amp;(h=g[0],i=0),h&amp;&amp;(d?b.setStart(h,i):b.setEnd(h,i))}}}var b=this;return a(b.startContainer,b.startOffset,!0),a(b.endContainer,b.endOffset,!1),b},up:function(){function a(a,c,d){3==a.nodeType&amp;&amp;(0===c?d?b.setStartBefore(a):b.setEndBefore(a):c==a.nodeValue.length&amp;&amp;(d?b.setStartAfter(a):b.setEndAfter(a)))}var b=this;return a(b.startContainer,b.startOffset,!0),a(b.endContainer,b.endOffset,!1),b},enlarge:function(a){function b(b,d,e){var f,g=K(b);if(!(3==g.type||_NOSPLIT_TAG_MAP[g.name]||!a&amp;&amp;g.isBlock()))if(0===d){for(;!g.prev()&amp;&amp;(f=g.parent(),f&amp;&amp;!_NOSPLIT_TAG_MAP[f.name]&amp;&amp;(a||!f.isBlock()));)g=f;e?c.setStartBefore(g[0]):c.setEndBefore(g[0])}else if(d==g.children().length){for(;!g.next()&amp;&amp;(f=g.parent(),f&amp;&amp;!_NOSPLIT_TAG_MAP[f.name]&amp;&amp;(a||!f.isBlock()));)g=f;e?c.setStartAfter(g[0]):c.setEndAfter(g[0])}}var c=this;return c.up(),b(c.startContainer,c.startOffset,!0),b(c.endContainer,c.endOffset,!1),c},shrink:function(){for(var a,b=this,c=b.collapsed;1==b.startContainer.nodeType&amp;&amp;(a=b.startContainer.childNodes[b.startOffset])&amp;&amp;1==a.nodeType&amp;&amp;!K(a).isSingle();)b.setStart(a,0);if(c)return b.collapse(c);for(;1==b.endContainer.nodeType&amp;&amp;b.endOffset&gt;0&amp;&amp;(a=b.endContainer.childNodes[b.endOffset-1])&amp;&amp;1==a.nodeType&amp;&amp;!K(a).isSingle();)b.setEnd(a,a.childNodes.length);return b},createBookmark:function(a){var b,c=this,d=c.doc,e=K(&#39;&lt;span style=&quot;display:none;&quot;&gt;&lt;/span&gt;&#39;,d)[0];return e.id=&quot;__kindeditor_bookmark_start_&quot;+_BOOKMARK_ID++ +&quot;__&quot;,c.collapsed||(b=e.cloneNode(!0),b.id=&quot;__kindeditor_bookmark_end_&quot;+_BOOKMARK_ID++ +&quot;__&quot;),b&amp;&amp;c.cloneRange().collapse(!1).insertNode(b).setEndBefore(b),c.insertNode(e).setStartAfter(e),{start:a?&quot;#&quot;+e.id:e,end:b?a?&quot;#&quot;+b.id:b:null}},moveToBookmark:function(a){var b=this,c=b.doc,d=K(a.start,c),e=a.end?K(a.end,c):null;return!d||d.length&lt;1?b:(b.setStartBefore(d[0]),d.remove(),e&amp;&amp;e.length&gt;0?(b.setEndBefore(e[0]),e.remove()):b.collapse(!0),b)},dump:function(){console.log(&quot;--------------------&quot;),console.log(3==this.startContainer.nodeType?this.startContainer.nodeValue:this.startContainer,this.startOffset),console.log(3==this.endContainer.nodeType?this.endContainer.nodeValue:this.endContainer,this.endOffset)}}),K.RangeClass=KRange,K.range=_range,K.START_TO_START=_START_TO_START,K.START_TO_END=_START_TO_END,K.END_TO_END=_END_TO_END,K.END_TO_START=_END_TO_START,_extend(KCmd,{init:function(a){var b=this,c=a.doc;b.doc=c,b.win=_getWin(c),b.sel=_getSel(c),b.range=a},selection:function(a){var b=this,c=b.doc,d=_getRng(c);return b.sel=_getSel(c),d?(b.range=_range(d),&quot;html&quot;==K(b.range.startContainer).name&amp;&amp;b.range.selectNodeContents(c.body).collapse(!1),b):(a&amp;&amp;b.range.selectNodeContents(c.body).collapse(!1),b)},select:function(a){a=_undef(a,!0);var b,c=this,d=c.sel,e=c.range.cloneRange().shrink(),f=e.startContainer,g=e.startOffset,h=(e.endContainer,e.endOffset,_getDoc(f)),i=c.win,j=!1;if(a&amp;&amp;1==f.nodeType&amp;&amp;e.collapsed){if(_IERANGE){var k=K(&quot;&lt;span&gt;&amp;nbsp;&lt;/span&gt;&quot;,h);e.insertNode(k[0]),b=h.body.createTextRange();try{b.moveToElementText(k[0])}catch(l){}return b.collapse(!1),b.select(),k.remove(),i.focus(),c}if(_WEBKIT){var m=f.childNodes;(K(f).isInline()||g&gt;0&amp;&amp;K(m[g-1]).isInline()||m[g]&amp;&amp;K(m[g]).isInline())&amp;&amp;(e.insertNode(h.createTextNode(&quot;​&quot;)),j=!0)}}if(_IERANGE)try{b=e.get(!0),b.select()}catch(n){}else if(j&amp;&amp;e.collapse(!1),b=e.get(!0),d.removeAllRanges(),d.addRange(b),h!==document){var o=K(b.endContainer).pos();i.scrollTo(o.x,o.y)}return i.focus(),c},wrap:function(a){var b,c=this,d=c.doc,e=c.range;if(b=K(a,d),e.collapsed)return e.shrink(),e.insertNode(b[0]).selectNodeContents(b[0]),c;if(b.isBlock()){for(var f=b.clone(!0),g=f;g.first();)g=g.first();return g.append(e.extractContents()),e.insertNode(f[0]).selectNode(f[0]),c}e.enlarge();var h=e.createBookmark(),i=e.commonAncestor(),j=!1;return K(i).scan(function(a){if(!j&amp;&amp;a==h.start)return void(j=!0);if(j){if(a==h.end)return!1;var c=K(a);if(_inPreElement(c))return;if(3==c.type&amp;&amp;_trim(a.nodeValue).length&gt;0){for(var d;(d=c.parent())&amp;&amp;d.isStyle()&amp;&amp;1==d.children().length;)c=d;_wrapNode(c,b)}}}),e.moveToBookmark(h),c},split:function(a,b){for(var c,d=this.range,e=d.doc,f=d.cloneRange().collapse(a),g=f.startContainer,h=f.startOffset,i=3==g.nodeType?g.parentNode:g,j=!1;i&amp;&amp;i.parentNode;){if(c=K(i),b){if(!c.isStyle())break;if(!_hasAttrOrCss(c,b))break}else if(_NOSPLIT_TAG_MAP[c.name])break;j=!0,i=i.parentNode}if(j){var k=e.createElement(&quot;span&quot;);d.cloneRange().collapse(!a).insertNode(k),a?f.setStartBefore(i.firstChild).setEnd(g,h):f.setStart(g,h).setEndAfter(i.lastChild);var l=f.extractContents(),m=l.firstChild,n=l.lastChild;a?(f.insertNode(l),d.setStartAfter(n).setEndBefore(k)):(i.appendChild(l),d.setStartBefore(k).setEndBefore(m));var o=k.parentNode;if(o==d.endContainer){var p=K(k).prev(),q=K(k).next();p&amp;&amp;q&amp;&amp;3==p.type&amp;&amp;3==q.type?d.setEnd(p[0],p[0].nodeValue.length):a||d.setEnd(d.endContainer,d.endOffset-1)}o.removeChild(k)}return this},remove:function(a){var b=this,c=b.doc,d=b.range;if(d.enlarge(),0===d.startOffset){for(var e,f=K(d.startContainer);(e=f.parent())&amp;&amp;e.isStyle()&amp;&amp;1==e.children().length;)f=e;d.setStart(f[0],0),f=K(d.startContainer),f.isBlock()&amp;&amp;_removeAttrOrCss(f,a);var g=f.parent();g&amp;&amp;g.isBlock()&amp;&amp;_removeAttrOrCss(g,a)}var h,i;if(d.collapsed){if(b.split(!0,a),h=d.startContainer,i=d.startOffset,i&gt;0){var j=K(h.childNodes[i-1]);j&amp;&amp;_isEmptyNode(j)&amp;&amp;(j.remove(),d.setStart(h,i-1))}var k=K(h.childNodes[i]);return k&amp;&amp;_isEmptyNode(k)&amp;&amp;k.remove(),_isEmptyNode(h)&amp;&amp;(d.startBefore(h),h.remove()),d.collapse(!0),b}b.split(!0,a),b.split(!1,a);var l=c.createElement(&quot;span&quot;),m=c.createElement(&quot;span&quot;);d.cloneRange().collapse(!1).insertNode(m),d.cloneRange().collapse(!0).insertNode(l);var n=[],o=!1;K(d.commonAncestor()).scan(function(a){return o||a!=l?a==m?!1:void(o&amp;&amp;n.push(a)):void(o=!0)}),K(l).remove(),K(m).remove(),h=d.startContainer,i=d.startOffset;var p=d.endContainer,q=d.endOffset;if(i&gt;0){var r=K(h.childNodes[i-1]);r&amp;&amp;_isEmptyNode(r)&amp;&amp;(r.remove(),d.setStart(h,i-1),h==p&amp;&amp;d.setEnd(p,q-1));var s=K(h.childNodes[i]);s&amp;&amp;_isEmptyNode(s)&amp;&amp;(s.remove(),h==p&amp;&amp;d.setEnd(p,q-1))}var t=K(p.childNodes[d.endOffset]);t&amp;&amp;_isEmptyNode(t)&amp;&amp;t.remove();var u=d.createBookmark(!0);return _each(n,function(b,c){_removeAttrOrCss(K(c),a)}),d.moveToBookmark(u),b},commonNode:function(a){function b(b){for(var c=b,d=b;d;){if(_hasAttrOrCss(K(d),a))return K(d);d=d.parentNode}for(;c&amp;&amp;(c=c.lastChild);)if(_hasAttrOrCss(K(c),a))return K(c);return null}var c=this.range,d=c.endContainer,e=c.endOffset,f=3==d.nodeType||0===e?d:d.childNodes[e-1],g=b(f);if(g)return g;if(1==f.nodeType||3==d.nodeType&amp;&amp;0===e){var h=K(f).prev();if(h)return b(h)}return null},commonAncestor:function(a){function b(b){for(;b;){if(1==b.nodeType&amp;&amp;b.tagName.toLowerCase()===a)return b;b=b.parentNode}return null}var c=this.range,d=c.startContainer,e=c.startOffset,f=c.endContainer,g=c.endOffset,h=3==d.nodeType||0===e?d:d.childNodes[e-1],i=3==f.nodeType||0===g?f:f.childNodes[g-1],j=b(h),k=b(i);return j&amp;&amp;k&amp;&amp;j===k?K(j):null},state:function(a){var b=this,c=b.doc,d=!1;try{d=c.queryCommandState(a)}catch(e){}return d},val:function(a){function b(a){return a.toLowerCase()}{var c=this,d=c.doc;c.range}a=b(a);var e,f=&quot;&quot;;return&quot;fontfamily&quot;===a||&quot;fontname&quot;===a?(f=_nativeCommandValue(d,&quot;fontname&quot;),f=f.replace(/[&#39;&quot;]/g,&quot;&quot;),b(f)):&quot;formatblock&quot;===a?(f=_nativeCommandValue(d,a),&quot;&quot;===f&amp;&amp;(e=c.commonNode({&quot;h1,h2,h3,h4,h5,h6,p,div,pre,address&quot;:&quot;*&quot;}),e&amp;&amp;(f=e.name)),&quot;Normal&quot;===f&amp;&amp;(f=&quot;p&quot;),b(f)):&quot;fontsize&quot;===a?(e=c.commonNode({&quot;*&quot;:&quot;.font-size&quot;}),e&amp;&amp;(f=e.css(&quot;font-size&quot;)),b(f)):&quot;forecolor&quot;===a?(e=c.commonNode({&quot;*&quot;:&quot;.color&quot;}),e&amp;&amp;(f=e.css(&quot;color&quot;)),f=_toHex(f),&quot;&quot;===f&amp;&amp;(f=&quot;default&quot;),b(f)):&quot;hilitecolor&quot;===a?(e=c.commonNode({&quot;*&quot;:&quot;.background-color&quot;}),e&amp;&amp;(f=e.css(&quot;background-color&quot;)),f=_toHex(f),&quot;&quot;===f&amp;&amp;(f=&quot;default&quot;),b(f)):f},toggle:function(a,b){var c=this;return c.commonNode(b)?c.remove(b):c.wrap(a),c.select()},bold:function(){return this.toggle(&quot;&lt;strong&gt;&lt;/strong&gt;&quot;,{span:&quot;.font-weight=bold&quot;,strong:&quot;*&quot;,b:&quot;*&quot;})},italic:function(){return this.toggle(&quot;&lt;em&gt;&lt;/em&gt;&quot;,{span:&quot;.font-style=italic&quot;,em:&quot;*&quot;,i:&quot;*&quot;})},underline:function(){return this.toggle(&quot;&lt;u&gt;&lt;/u&gt;&quot;,{span:&quot;.text-decoration=underline&quot;,u:&quot;*&quot;})},strikethrough:function(){return this.toggle(&quot;&lt;s&gt;&lt;/s&gt;&quot;,{span:&quot;.text-decoration=line-through&quot;,s:&quot;*&quot;})},forecolor:function(a){return this.wrap(&#39;&lt;span style=&quot;color:&#39;+a+&#39;;&quot;&gt;&lt;/span&gt;&#39;).select()},hilitecolor:function(a){return this.wrap(&#39;&lt;span style=&quot;background-color:&#39;+a+&#39;;&quot;&gt;&lt;/span&gt;&#39;).select()},fontsize:function(a){return this.wrap(&#39;&lt;span style=&quot;font-size:&#39;+a+&#39;;&quot;&gt;&lt;/span&gt;&#39;).select()},fontname:function(a){return this.fontfamily(a)},fontfamily:function(a){return this.wrap(&#39;&lt;span style=&quot;font-family:&#39;+a+&#39;;&quot;&gt;&lt;/span&gt;&#39;).select()},removeformat:function(){var a={&quot;*&quot;:&quot;.font-weight,.font-style,.text-decoration,.color,.background-color,.font-size,.font-family,.text-indent&quot;},b=_STYLE_TAG_MAP;return _each(b,function(b){a[b]=&quot;*&quot;}),this.remove(a),this.select()},inserthtml:function(a,b){function c(a,b){b=&#39;&lt;img id=&quot;__kindeditor_temp_tag__&quot; width=&quot;0&quot; height=&quot;0&quot; style=&quot;display:none;&quot; /&gt;&#39;+b;var c=a.get();c.item?c.item(0).outerHTML=b:c.pasteHTML(b);var d=a.doc.getElementById(&quot;__kindeditor_temp_tag__&quot;);d.parentNode.removeChild(d);var f=_toRange(c);a.setEnd(f.endContainer,f.endOffset),a.collapse(!1),e.select(!1)}function d(a,b){var c=a.doc,d=c.createDocumentFragment();K(&quot;@&quot;+b,c).each(function(){d.appendChild(this)}),a.deleteContents(),a.insertNode(d),a.collapse(!1),e.select(!1)}var e=this,f=e.range;if(&quot;&quot;===a)return e;if(_IERANGE&amp;&amp;b){try{c(f,a)}catch(g){d(f,a)}return e}return d(f,a),e},hr:function(){return this.inserthtml(&quot;&lt;hr /&gt;&quot;)},print:function(){return this.win.print(),this},insertimage:function(a,b,c,d,e,f){b=_undef(b,&quot;&quot;),e=_undef(e,0);var g=&#39;&lt;img src=&quot;&#39;+_escape(a)+&#39;&quot; data-ke-src=&quot;&#39;+_escape(a)+&#39;&quot; &#39;;return c&amp;&amp;(g+=&#39;width=&quot;&#39;+_escape(c)+&#39;&quot; &#39;),d&amp;&amp;(g+=&#39;height=&quot;&#39;+_escape(d)+&#39;&quot; &#39;),b&amp;&amp;(g+=&#39;title=&quot;&#39;+_escape(b)+&#39;&quot; &#39;),f&amp;&amp;(g+=&#39;align=&quot;&#39;+_escape(f)+&#39;&quot; &#39;),g+=&#39;alt=&quot;&#39;+_escape(b)+&#39;&quot; &#39;,g+=&quot;/&gt;&quot;,this.inserthtml(g)},createlink:function(a,b){function c(a,b,c){K(a).attr(&quot;href&quot;,b).attr(&quot;data-ke-src&quot;,b),c?K(a).attr(&quot;target&quot;,c):K(a).removeAttr(&quot;target&quot;)}var d=this,e=d.doc,f=d.range;d.select();var g=d.commonNode({a:&quot;*&quot;});g&amp;&amp;!f.isControl()&amp;&amp;(f.selectNode(g.get()),d.select());var h=&#39;&lt;a href=&quot;&#39;+_escape(a)+&#39;&quot; data-ke-src=&quot;&#39;+_escape(a)+&#39;&quot; &#39;;if(b&amp;&amp;(h+=&#39; target=&quot;&#39;+_escape(b)+&#39;&quot;&#39;),f.collapsed)return h+=&quot;&gt;&quot;+_escape(a)+&quot;&lt;/a&gt;&quot;,d.inserthtml(h);if(f.isControl()){var i=K(f.startContainer.childNodes[f.startOffset]);return h+=&quot;&gt;&lt;/a&gt;&quot;,i.after(K(h,e)),i.next().append(i),f.selectNode(i[0]),d.select()}var j=f.startContainer,k=f.startOffset,l=f.endContainer,m=f.endOffset;</td>
      </tr>
      <tr>
        <td id="L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="LC4" class="blob-code blob-code-inner js-file-line">if(1==j.nodeType&amp;&amp;j===l&amp;&amp;k+1===m){var n=j.childNodes[k];if(&quot;a&quot;==n.nodeName.toLowerCase())return c(n,a,b),d}return _nativeCommand(e,&quot;createlink&quot;,&quot;__kindeditor_temp_url__&quot;),K(&#39;a[href=&quot;__kindeditor_temp_url__&quot;]&#39;,e).each(function(){c(this,a,b)}),d},unlink:function(){var a=this,b=a.doc,c=a.range;if(a.select(),c.collapsed){var d=a.commonNode({a:&quot;*&quot;});if(d&amp;&amp;(c.selectNode(d.get()),a.select()),_nativeCommand(b,&quot;unlink&quot;,null),_WEBKIT&amp;&amp;&quot;img&quot;===K(c.startContainer).name){var e=K(c.startContainer).parent();&quot;a&quot;===e.name&amp;&amp;e.remove(!0)}}else _nativeCommand(b,&quot;unlink&quot;,null);return a}}),_each(&quot;formatblock,selectall,justifyleft,justifycenter,justifyright,justifyfull,insertorderedlist,insertunorderedlist,indent,outdent,subscript,superscript&quot;.split(&quot;,&quot;),function(a,b){KCmd.prototype[b]=function(a){var c=this;return c.select(),_nativeCommand(c.doc,b,a),_IERANGE&amp;&amp;_inArray(b,&quot;justifyleft,justifycenter,justifyright,justifyfull&quot;.split(&quot;,&quot;))&gt;=0&amp;&amp;c.selection(),(!_IERANGE||_inArray(b,&quot;formatblock,selectall,insertorderedlist,insertunorderedlist&quot;.split(&quot;,&quot;))&gt;=0)&amp;&amp;c.selection(),c}}),_each(&quot;cut,copy,paste&quot;.split(&quot;,&quot;),function(a,b){KCmd.prototype[b]=function(){var a=this;if(!a.doc.queryCommandSupported(b))throw&quot;not supported&quot;;return a.select(),_nativeCommand(a.doc,b,null),a}}),K.CmdClass=KCmd,K.cmd=_cmd,_extend(KWidget,{init:function(a){var b=this;if(b.name=a.name||&quot;&quot;,b.doc=a.doc||document,b.win=_getWin(b.doc),b.x=_addUnit(a.x),b.y=_addUnit(a.y),b.z=a.z,b.width=_addUnit(a.width),b.height=_addUnit(a.height),b.div=K(&#39;&lt;div style=&quot;display:block;&quot;&gt;&lt;/div&gt;&#39;),b.options=a,b._alignEl=a.alignEl,b.width&amp;&amp;b.div.css(&quot;width&quot;,b.width),b.height&amp;&amp;b.div.css(&quot;height&quot;,b.height),b.z&amp;&amp;b.div.css({position:&quot;absolute&quot;,left:b.x,top:b.y,&quot;z-index&quot;:b.z}),!b.z||b.x!==undefined&amp;&amp;b.y!==undefined||b.autoPos(b.width,b.height),a.cls&amp;&amp;b.div.addClass(a.cls),a.shadowMode&amp;&amp;b.div.addClass(&quot;ke-shadow&quot;),a.css&amp;&amp;b.div.css(a.css),a.src?K(a.src).replaceWith(b.div):K(b.doc.body).append(b.div),a.html&amp;&amp;b.div.html(a.html),a.autoScroll)if(_IE&amp;&amp;7&gt;_V||_QUIRKS){var c=_getScrollPos();K(b.win).bind(&quot;scroll&quot;,function(){var a=_getScrollPos(),d=a.x-c.x,e=a.y-c.y;b.pos(_removeUnit(b.x)+d,_removeUnit(b.y)+e,!1)})}else b.div.css(&quot;position&quot;,&quot;fixed&quot;)},pos:function(a,b,c){var d=this;return c=_undef(c,!0),null!==a&amp;&amp;(a=0&gt;a?0:_addUnit(a),d.div.css(&quot;left&quot;,a),c&amp;&amp;(d.x=a)),null!==b&amp;&amp;(b=0&gt;b?0:_addUnit(b),d.div.css(&quot;top&quot;,b),c&amp;&amp;(d.y=b)),d},autoPos:function(a,b){var c,d,e=this,f=_removeUnit(a)||0,g=_removeUnit(b)||0,h=_getScrollPos();if(e._alignEl){var i=K(e._alignEl),j=i.pos(),k=_round(i[0].clientWidth/2-f/2),l=_round(i[0].clientHeight/2-g/2);c=0&gt;k?j.x:j.x+k,d=0&gt;l?j.y:j.y+l}else{var m=_docElement(e.doc);c=_round(h.x+(m.clientWidth-f)/2),d=_round(h.y+(m.clientHeight-g)/2)}return _IE&amp;&amp;7&gt;_V||_QUIRKS||(c-=h.x,d-=h.y),e.pos(c,d)},remove:function(){var a=this;return(_IE&amp;&amp;7&gt;_V||_QUIRKS)&amp;&amp;K(a.win).unbind(&quot;scroll&quot;),a.div.remove(),_each(a,function(b){a[b]=null}),this},show:function(){return this.div.show(),this},hide:function(){return this.div.hide(),this},draggable:function(a){var b=this;return a=a||{},a.moveEl=b.div,a.moveFn=function(a,c,d,e,f,g){(a+=f)&lt;0&amp;&amp;(a=0),(c+=g)&lt;0&amp;&amp;(c=0),b.pos(a,c)},_drag(a),b}}),K.WidgetClass=KWidget,K.widget=_widget;var html,_direction=&quot;&quot;;(html=document.getElementsByTagName(&quot;html&quot;))&amp;&amp;(_direction=html[0].dir),_extend(KEdit,KWidget,{init:function(a){function b(){var b=_iframeDoc(c.iframe);b.open(),h&amp;&amp;(b.domain=document.domain),b.write(_getInitHtml(d,e,f,g)),b.close(),c.win=c.iframe[0].contentWindow,c.doc=b;var i=_cmd(b);c.afterChange(function(){i.selection()}),_WEBKIT&amp;&amp;K(b).click(function(a){&quot;img&quot;===K(a.target).name&amp;&amp;(i.selection(!0),i.range.selectNode(a.target),i.select())}),_IE&amp;&amp;(c._mousedownHandler=function(){var a=i.range.cloneRange();a.shrink(),a.isControl()&amp;&amp;c.blur()},K(document).mousedown(c._mousedownHandler),K(b).keydown(function(a){if(8==a.which){i.selection();var b=i.range;b.isControl()&amp;&amp;(b.collapse(!0),K(b.startContainer.childNodes[b.startOffset]).remove(),a.preventDefault())}})),c.cmd=i,c.html(_elementVal(c.srcElement)),_IE?(b.body.disabled=!0,b.body.contentEditable=!0,b.body.removeAttribute(&quot;disabled&quot;)):b.designMode=&quot;on&quot;,a.afterCreate&amp;&amp;a.afterCreate.call(c)}var c=this;KEdit.parent.init.call(c,a),c.srcElement=K(a.srcElement),c.div.addClass(&quot;ke-edit&quot;),c.designMode=_undef(a.designMode,!0),c.beforeGetHtml=a.beforeGetHtml,c.beforeSetHtml=a.beforeSetHtml,c.afterSetHtml=a.afterSetHtml;var d=_undef(a.themesPath,&quot;&quot;),e=a.bodyClass,f=a.cssPath,g=a.cssData,h=&quot;res:&quot;!=location.protocol&amp;&amp;location.host.replace(/:\d+/,&quot;&quot;)!==document.domain,i=&quot;document.open();&quot;+(h?&#39;document.domain=&quot;&#39;+document.domain+&#39;&quot;;&#39;:&quot;&quot;)+&quot;document.close();&quot;,j=_IE?&#39; src=&quot;javascript:void(function(){&#39;+encodeURIComponent(i)+&#39;}())&quot;&#39;:&quot;&quot;;c.iframe=K(&#39;&lt;iframe class=&quot;ke-edit-iframe&quot; hidefocus=&quot;true&quot; frameborder=&quot;0&quot;&#39;+j+&quot;&gt;&lt;/iframe&gt;&quot;).css(&quot;width&quot;,&quot;100%&quot;),c.textarea=K(&#39;&lt;textarea class=&quot;ke-edit-textarea&quot; hidefocus=&quot;true&quot;&gt;&lt;/textarea&gt;&#39;).css(&quot;width&quot;,&quot;100%&quot;),c.tabIndex=isNaN(parseInt(a.tabIndex,10))?c.srcElement.attr(&quot;tabindex&quot;):parseInt(a.tabIndex,10),c.iframe.attr(&quot;tabindex&quot;,c.tabIndex),c.textarea.attr(&quot;tabindex&quot;,c.tabIndex),c.width&amp;&amp;c.setWidth(c.width),c.height&amp;&amp;c.setHeight(c.height),c.designMode?c.textarea.hide():c.iframe.hide(),h&amp;&amp;c.iframe.bind(&quot;load&quot;,function(){c.iframe.unbind(&quot;load&quot;),_IE?b():setTimeout(b,0)}),c.div.append(c.iframe),c.div.append(c.textarea),c.srcElement.hide(),!h&amp;&amp;b()},setWidth:function(a){var b=this;return a=_addUnit(a),b.width=a,b.div.css(&quot;width&quot;,a),b},setHeight:function(a){var b=this;return a=_addUnit(a),b.height=a,b.div.css(&quot;height&quot;,a),b.iframe.css(&quot;height&quot;,a),(_IE&amp;&amp;8&gt;_V||_QUIRKS)&amp;&amp;(a=_addUnit(_removeUnit(a)-2)),b.textarea.css(&quot;height&quot;,a),b},remove:function(){var a=this,b=a.doc;K(b.body).unbind(),K(b).unbind(),K(a.win).unbind(),a._mousedownHandler&amp;&amp;K(document).unbind(&quot;mousedown&quot;,a._mousedownHandler),_elementVal(a.srcElement,a.html()),a.srcElement.show(),a.iframe.unbind(),a.textarea.unbind(),KEdit.parent.remove.call(a)},html:function(a,b){var c=this,d=c.doc;if(c.designMode){var e=d.body;return a===undefined?(a=b?&quot;&lt;!doctype html&gt;&lt;html&gt;&quot;+e.parentNode.innerHTML+&quot;&lt;/html&gt;&quot;:e.innerHTML,c.beforeGetHtml&amp;&amp;(a=c.beforeGetHtml(a)),_GECKO&amp;&amp;&quot;&lt;br /&gt;&quot;==a&amp;&amp;(a=&quot;&quot;),a):(c.beforeSetHtml&amp;&amp;(a=c.beforeSetHtml(a)),_IE&amp;&amp;_V&gt;=9&amp;&amp;(a=a.replace(/(&lt;.*?checked=&quot;)checked(&quot;.*&gt;)/gi,&quot;$1$2&quot;)),K(e).html(a),c.afterSetHtml&amp;&amp;c.afterSetHtml(),c)}return a===undefined?c.textarea.val():(c.textarea.val(a),c)},design:function(a){var b,c=this;if(a===undefined?!c.designMode:a){if(!c.designMode){b=c.html(),c.designMode=!0,c.textarea.hide(),c.html(b);var d=c.iframe,e=_removeUnit(c.height);d.height(e-2),d.show(),setTimeout(function(){d.height(e)},0)}}else c.designMode&amp;&amp;(b=c.html(),c.designMode=!1,c.html(b),c.iframe.hide(),c.textarea.show());return c.focus()},focus:function(){var a=this;return a.designMode?a.win.focus():a.textarea[0].focus(),a},blur:function(){var a=this;if(_IE){var b=K(&#39;&lt;input type=&quot;text&quot; style=&quot;float:left;width:0;height:0;padding:0;margin:0;border:0;&quot; value=&quot;&quot; /&gt;&#39;,a.div);a.div.append(b),b[0].focus(),b.remove()}else a.designMode?a.win.blur():a.textarea[0].blur();return a},afterChange:function(a){function b(b){setTimeout(function(){a(b)},1)}var c=this,d=c.doc,e=d.body;return K(d).keyup(function(b){b.ctrlKey||b.altKey||!_CHANGE_KEY_MAP[b.which]||a(b)}),K(d).mouseup(a).contextmenu(a),K(c.win).blur(a),K(e).bind(&quot;paste&quot;,b),K(e).bind(&quot;cut&quot;,b),c}}),K.EditClass=KEdit,K.edit=_edit,K.iframeDoc=_iframeDoc,_extend(KToolbar,KWidget,{init:function(a){function b(a){var b=K(a);return b.hasClass(&quot;ke-outline&quot;)?b:b.hasClass(&quot;ke-toolbar-icon&quot;)?b.parent():void 0}function c(a,c){var d=b(a.target);if(d){if(d.hasClass(&quot;ke-disabled&quot;))return;if(d.hasClass(&quot;ke-selected&quot;))return;d[c](&quot;ke-on&quot;)}}var d=this;KToolbar.parent.init.call(d,a),d.disableMode=_undef(a.disableMode,!1),d.noDisableItemMap=_toMap(_undef(a.noDisableItems,[])),d._itemMap={},d.div.addClass(&quot;ke-toolbar&quot;).bind(&quot;contextmenu,mousedown,mousemove&quot;,function(a){a.preventDefault()}).attr(&quot;unselectable&quot;,&quot;on&quot;),d.div.mouseover(function(a){c(a,&quot;addClass&quot;)}).mouseout(function(a){c(a,&quot;removeClass&quot;)}).click(function(a){var c=b(a.target);if(c){if(c.hasClass(&quot;ke-disabled&quot;))return;d.options.click.call(this,a,c.attr(&quot;data-name&quot;))}})},get:function(a){return this._itemMap[a]?this._itemMap[a]:this._itemMap[a]=K(&quot;span.ke-icon-&quot;+a,this.div).parent()},select:function(a){return _selectToolbar.call(this,a,function(a){a.addClass(&quot;ke-selected&quot;)}),self},unselect:function(a){return _selectToolbar.call(this,a,function(a){a.removeClass(&quot;ke-selected&quot;).removeClass(&quot;ke-on&quot;)}),self},enable:function(a){var b=this,c=a.get?a:b.get(a);return c&amp;&amp;(c.removeClass(&quot;ke-disabled&quot;),c.opacity(1)),b},disable:function(a){var b=this,c=a.get?a:b.get(a);return c&amp;&amp;(c.removeClass(&quot;ke-selected&quot;).addClass(&quot;ke-disabled&quot;),c.opacity(.5)),b},disableAll:function(a,b){var c=this,d=c.noDisableItemMap;return b&amp;&amp;(d=_toMap(b)),(a===undefined?!c.disableMode:a)?(K(&quot;span.ke-outline&quot;,c.div).each(function(){var a=K(this),b=a[0].getAttribute(&quot;data-name&quot;,2);d[b]||c.disable(a)}),c.disableMode=!0):(K(&quot;span.ke-outline&quot;,c.div).each(function(){var a=K(this),b=a[0].getAttribute(&quot;data-name&quot;,2);d[b]||c.enable(a)}),c.disableMode=!1),c}}),K.ToolbarClass=KToolbar,K.toolbar=_toolbar,_extend(KMenu,KWidget,{init:function(a){var b=this;a.z=a.z||811213,KMenu.parent.init.call(b,a),b.centerLineMode=_undef(a.centerLineMode,!0),b.div.addClass(&quot;ke-menu&quot;).bind(&quot;click,mousedown&quot;,function(a){a.stopPropagation()}).attr(&quot;unselectable&quot;,&quot;on&quot;)},addItem:function(a){var b=this;if(&quot;-&quot;===a.title)return void b.div.append(K(&#39;&lt;div class=&quot;ke-menu-separator&quot;&gt;&lt;/div&gt;&#39;));var c=K(&#39;&lt;div class=&quot;ke-menu-item&quot; unselectable=&quot;on&quot;&gt;&lt;/div&gt;&#39;),d=K(&#39;&lt;div class=&quot;ke-inline-block ke-menu-item-left&quot;&gt;&lt;/div&gt;&#39;),e=K(&#39;&lt;div class=&quot;ke-inline-block ke-menu-item-right&quot;&gt;&lt;/div&gt;&#39;),f=_addUnit(a.height),g=_undef(a.iconClass,&quot;&quot;);b.div.append(c),f&amp;&amp;(c.css(&quot;height&quot;,f),e.css(&quot;line-height&quot;,f));var h;return b.centerLineMode&amp;&amp;(h=K(&#39;&lt;div class=&quot;ke-inline-block ke-menu-item-center&quot;&gt;&lt;/div&gt;&#39;),f&amp;&amp;h.css(&quot;height&quot;,f)),c.mouseover(function(){K(this).addClass(&quot;ke-menu-item-on&quot;),h&amp;&amp;h.addClass(&quot;ke-menu-item-center-on&quot;)}).mouseout(function(){K(this).removeClass(&quot;ke-menu-item-on&quot;),h&amp;&amp;h.removeClass(&quot;ke-menu-item-center-on&quot;)}).click(function(b){a.click.call(K(this)),b.stopPropagation()}).append(d),h&amp;&amp;c.append(h),c.append(e),a.checked&amp;&amp;(g=&quot;ke-icon-checked&quot;),&quot;&quot;!==g&amp;&amp;d.html(&#39;&lt;span class=&quot;ke-inline-block ke-toolbar-icon ke-toolbar-icon-url &#39;+g+&#39;&quot;&gt;&lt;/span&gt;&#39;),e.html(a.title),b},remove:function(){var a=this;return a.options.beforeRemove&amp;&amp;a.options.beforeRemove.call(a),K(&quot;.ke-menu-item&quot;,a.div[0]).unbind(),KMenu.parent.remove.call(a),a}}),K.MenuClass=KMenu,K.menu=_menu,_extend(KColorPicker,KWidget,{init:function(a){var b=this;a.z=a.z||811213,KColorPicker.parent.init.call(b,a);var c=a.colors||[[&quot;#E53333&quot;,&quot;#E56600&quot;,&quot;#FF9900&quot;,&quot;#64451D&quot;,&quot;#DFC5A4&quot;,&quot;#FFE500&quot;],[&quot;#009900&quot;,&quot;#006600&quot;,&quot;#99BB00&quot;,&quot;#B8D100&quot;,&quot;#60D978&quot;,&quot;#00D5FF&quot;],[&quot;#337FE5&quot;,&quot;#003399&quot;,&quot;#4C33E5&quot;,&quot;#9933E5&quot;,&quot;#CC33E5&quot;,&quot;#EE33EE&quot;],[&quot;#FFFFFF&quot;,&quot;#CCCCCC&quot;,&quot;#999999&quot;,&quot;#666666&quot;,&quot;#333333&quot;,&quot;#000000&quot;]];b.selectedColor=(a.selectedColor||&quot;&quot;).toLowerCase(),b._cells=[],b.div.addClass(&quot;ke-colorpicker&quot;).bind(&quot;click,mousedown&quot;,function(a){a.stopPropagation()}).attr(&quot;unselectable&quot;,&quot;on&quot;);var d=b.doc.createElement(&quot;table&quot;);b.div.append(d),d.className=&quot;ke-colorpicker-table&quot;,d.cellPadding=0,d.cellSpacing=0,d.border=0;var e=d.insertRow(0),f=e.insertCell(0);f.colSpan=c[0].length,b._addAttr(f,&quot;&quot;,&quot;ke-colorpicker-cell-top&quot;);for(var g=0;g&lt;c.length;g++){e=d.insertRow(g+1);for(var h=0;h&lt;c[g].length;h++)f=e.insertCell(h),b._addAttr(f,c[g][h],&quot;ke-colorpicker-cell&quot;)}},_addAttr:function(a,b,c){var d=this;a=K(a).addClass(c),d.selectedColor===b.toLowerCase()&amp;&amp;a.addClass(&quot;ke-colorpicker-cell-selected&quot;),a.attr(&quot;title&quot;,b||d.options.noColor),a.mouseover(function(){K(this).addClass(&quot;ke-colorpicker-cell-on&quot;)}),a.mouseout(function(){K(this).removeClass(&quot;ke-colorpicker-cell-on&quot;)}),a.click(function(a){a.stop(),d.options.click.call(K(this),b)}),b?a.append(K(&#39;&lt;div class=&quot;ke-colorpicker-cell-color&quot; unselectable=&quot;on&quot;&gt;&lt;/div&gt;&#39;).css(&quot;background-color&quot;,b)):a.html(d.options.noColor),K(a).attr(&quot;unselectable&quot;,&quot;on&quot;),d._cells.push(a)},remove:function(){var a=this;return _each(a._cells,function(){this.unbind()}),KColorPicker.parent.remove.call(a),a}}),K.ColorPickerClass=KColorPicker,K.colorpicker=_colorpicker,_extend(KUploadButton,{init:function(a){var b=this,c=K(a.button),d=a.fieldName||&quot;file&quot;,e=a.url||&quot;&quot;,f=c.val(),g=a.extraParams||{},h=c[0].className||&quot;&quot;,i=a.target||&quot;kindeditor_upload_iframe_&quot;+(new Date).getTime();a.afterError=a.afterError||function(a){alert(a)};var j=[];for(var k in g)j.push(&#39;&lt;input type=&quot;hidden&quot; name=&quot;&#39;+k+&#39;&quot; value=&quot;&#39;+g[k]+&#39;&quot; /&gt;&#39;);var l=[&#39;&lt;div class=&quot;ke-inline-block &#39;+h+&#39;&quot;&gt;&#39;,a.target?&quot;&quot;:&#39;&lt;iframe name=&quot;&#39;+i+&#39;&quot; style=&quot;display:none;&quot;&gt;&lt;/iframe&gt;&#39;,a.form?&#39;&lt;div class=&quot;ke-upload-area&quot;&gt;&#39;:&#39;&lt;form class=&quot;ke-upload-area ke-form&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot; target=&quot;&#39;+i+&#39;&quot; action=&quot;&#39;+e+&#39;&quot;&gt;&#39;,&#39;&lt;span class=&quot;ke-button-common&quot;&gt;&#39;,j.join(&quot;&quot;),&#39;&lt;input type=&quot;button&quot; class=&quot;ke-button-common ke-button&quot; value=&quot;&#39;+f+&#39;&quot; /&gt;&#39;,&quot;&lt;/span&gt;&quot;,&#39;&lt;input type=&quot;file&quot; class=&quot;ke-upload-file&quot; name=&quot;&#39;+d+&#39;&quot; tabindex=&quot;-1&quot; /&gt;&#39;,a.form?&quot;&lt;/div&gt;&quot;:&quot;&lt;/form&gt;&quot;,&quot;&lt;/div&gt;&quot;].join(&quot;&quot;),m=K(l,c.doc);c.hide(),c.before(m),b.div=m,b.button=c,b.iframe=a.target?K(&#39;iframe[name=&quot;&#39;+i+&#39;&quot;]&#39;):K(&quot;iframe&quot;,m),b.form=a.form?K(a.form):K(&quot;form&quot;,m),b.fileBox=K(&quot;.ke-upload-file&quot;,m);var n=a.width||K(&quot;.ke-button-common&quot;,m).width();K(&quot;.ke-upload-area&quot;,m).width(n),b.options=a},submit:function(){var a=this,b=a.iframe;return b.bind(&quot;load&quot;,function(){b.unbind();var c=document.createElement(&quot;form&quot;);a.fileBox.before(c),K(c).append(a.fileBox),c.reset(),K(c).remove(!0);var d,e=K.iframeDoc(b),f=e.getElementsByTagName(&quot;pre&quot;)[0],g=&quot;&quot;;g=f?f.innerHTML:e.body.innerHTML,g=_unescape(g),b[0].src=&quot;javascript:false&quot;;try{d=K.json(g)}catch(h){a.options.afterError.call(a,&quot;&lt;!doctype html&gt;&lt;html&gt;&quot;+e.body.parentNode.innerHTML+&quot;&lt;/html&gt;&quot;)}d&amp;&amp;a.options.afterUpload.call(a,d)}),a.form[0].submit(),a},remove:function(){var a=this;return a.fileBox&amp;&amp;a.fileBox.unbind(),a.iframe.remove(),a.div.remove(),a.button.show(),a}}),K.UploadButtonClass=KUploadButton,K.uploadbutton=_uploadbutton,_extend(KDialog,KWidget,{init:function(a){var b=this,c=_undef(a.shadowMode,!0);a.z=a.z||811213,a.shadowMode=!1,a.autoScroll=_undef(a.autoScroll,!0),KDialog.parent.init.call(b,a);var d=a.title,e=K(a.body,b.doc),f=a.previewBtn,g=a.yesBtn,h=a.noBtn,i=a.closeBtn,j=_undef(a.showMask,!0);b.div.addClass(&quot;ke-dialog&quot;).bind(&quot;click,mousedown&quot;,function(a){a.stopPropagation()});var k=K(&#39;&lt;div class=&quot;ke-dialog-content&quot;&gt;&lt;/div&gt;&#39;).appendTo(b.div);_IE&amp;&amp;7&gt;_V?b.iframeMask=K(&#39;&lt;iframe src=&quot;about:blank&quot; class=&quot;ke-dialog-shadow&quot;&gt;&lt;/iframe&gt;&#39;).appendTo(b.div):c&amp;&amp;K(&#39;&lt;div class=&quot;ke-dialog-shadow&quot;&gt;&lt;/div&gt;&#39;).appendTo(b.div);var l=K(&#39;&lt;div class=&quot;ke-dialog-header&quot;&gt;&lt;/div&gt;&#39;);k.append(l),l.html(d),b.closeIcon=K(&#39;&lt;span class=&quot;ke-dialog-icon-close&quot; title=&quot;&#39;+i.name+&#39;&quot;&gt;&lt;/span&gt;&#39;).click(i.click),l.append(b.closeIcon),b.draggable({clickEl:l,beforeDrag:a.beforeDrag});var m=K(&#39;&lt;div class=&quot;ke-dialog-body&quot;&gt;&lt;/div&gt;&#39;);k.append(m),m.append(e);var n=K(&#39;&lt;div class=&quot;ke-dialog-footer&quot;&gt;&lt;/div&gt;&#39;);if((f||g||h)&amp;&amp;k.append(n),_each([{btn:f,name:&quot;preview&quot;},{btn:g,name:&quot;yes&quot;},{btn:h,name:&quot;no&quot;}],function(){if(this.btn){var a=_createButton(this.btn);a.addClass(&quot;ke-dialog-&quot;+this.name),n.append(a)}}),b.height&amp;&amp;m.height(_removeUnit(b.height)-l.height()-n.height()),b.div.width(b.div.width()),b.div.height(b.div.height()),b.mask=null,j){var o=_docElement(b.doc),p=Math.max(o.scrollWidth,o.clientWidth),q=Math.max(o.scrollHeight,o.clientHeight);b.mask=_widget({x:0,y:0,z:b.z-1,cls:&quot;ke-dialog-mask&quot;,width:p,height:q})}b.autoPos(b.div.width(),b.div.height()),b.footerDiv=n,b.bodyDiv=m,b.headerDiv=l,b.isLoading=!1},setMaskIndex:function(a){var b=this;b.mask.div.css(&quot;z-index&quot;,a)},showLoading:function(a){a=_undef(a,&quot;&quot;);var b=this,c=b.bodyDiv;return b.loading=K(&#39;&lt;div class=&quot;ke-dialog-loading&quot;&gt;&lt;div class=&quot;ke-inline-block ke-dialog-loading-content&quot; style=&quot;margin-top:&#39;+Math.round(c.height()/3)+&#39;px;&quot;&gt;&#39;+a+&quot;&lt;/div&gt;&lt;/div&gt;&quot;).width(c.width()).height(c.height()).css(&quot;top&quot;,b.headerDiv.height()+&quot;px&quot;),c.css(&quot;visibility&quot;,&quot;hidden&quot;).after(b.loading),b.isLoading=!0,b},hideLoading:function(){return this.loading&amp;&amp;this.loading.remove(),this.bodyDiv.css(&quot;visibility&quot;,&quot;visible&quot;),this.isLoading=!1,this},remove:function(){var a=this;return a.options.beforeRemove&amp;&amp;a.options.beforeRemove.call(a),a.mask&amp;&amp;a.mask.remove(),a.iframeMask&amp;&amp;a.iframeMask.remove(),a.closeIcon.unbind(),K(&quot;input&quot;,a.div).unbind(),K(&quot;button&quot;,a.div).unbind(),a.footerDiv.unbind(),a.bodyDiv.unbind(),a.headerDiv.unbind(),K(&quot;iframe&quot;,a.div).each(function(){K(this).remove()}),KDialog.parent.remove.call(a),a}}),K.DialogClass=KDialog,K.dialog=_dialog,K.tabs=_tabs,K.loadScript=_loadScript,K.loadStyle=_loadStyle,K.ajax=_ajax;var _plugins={},_language={};KEditor.prototype={lang:function(a){return _lang(a,this.langType)},loadPlugin:function(a,b){var c=this,d=this._pluginStatus;return d||(d=this._pluginStatus={}),_plugins[a]?_isFunction(_plugins[a])?(d[a]||(_plugins[a].call(c,KindEditor),d[a]=&quot;inited&quot;),b&amp;&amp;b.call(c),c):(setTimeout(function(){c.loadPlugin(a,b)},100),c):(_plugins[a]=&quot;loading&quot;,_loadScript(c.pluginsPath+a+&quot;/&quot;+a+&quot;.js?ver=&quot;+encodeURIComponent(K.DEBUG?_TIME:_VERSION),function(){setTimeout(function(){_plugins[a]&amp;&amp;c.loadPlugin(a,b)},0)}),c)},handler:function(a,b){var c=this;return c._handlers[a]||(c._handlers[a]=[]),_isFunction(b)?(c._handlers[a].push(b),c):(_each(c._handlers[a],function(){b=this.call(c,b)}),b)},clickToolbar:function(a,b){var c=this,d=&quot;clickToolbar&quot;+a;return b===undefined?c._handlers[d]?c.handler(d):(c.loadPlugin(a,function(){c.handler(d)}),c):c.handler(d,b)},updateState:function(){var a=this;return _each(&quot;justifyleft,justifycenter,justifyright,justifyfull,insertorderedlist,insertunorderedlist,subscript,superscript,bold,italic,underline,strikethrough&quot;.split(&quot;,&quot;),function(b,c){a.cmd.state(c)?a.toolbar.select(c):a.toolbar.unselect(c)}),a},addContextmenu:function(a){return this._contextmenus.push(a),this},afterCreate:function(a){return this.handler(&quot;afterCreate&quot;,a)},beforeRemove:function(a){return this.handler(&quot;beforeRemove&quot;,a)},beforeGetHtml:function(a){return this.handler(&quot;beforeGetHtml&quot;,a)},beforeSetHtml:function(a){return this.handler(&quot;beforeSetHtml&quot;,a)},afterSetHtml:function(a){return this.handler(&quot;afterSetHtml&quot;,a)},create:function(){function a(){return 0===i.height()?void setTimeout(a,100):void b.resize(d,e,!1)}var b=this,c=b.fullscreenMode;if(b.isCreated)return b;if(b.srcElement.data(&quot;kindeditor&quot;))return b;b.srcElement.data(&quot;kindeditor&quot;,&quot;true&quot;),_docElement().style.overflow=c?&quot;hidden&quot;:&quot;&quot;;var d=c?_docElement().clientWidth+&quot;px&quot;:b.width,e=c?_docElement().clientHeight+&quot;px&quot;:b.height;(_IE&amp;&amp;8&gt;_V||_QUIRKS)&amp;&amp;(e=_addUnit(_removeUnit(e)+2));var f=b.container=K(b.layout);c?K(document.body).append(f):b.srcElement.before(f);var g=K(&quot;.toolbar&quot;,f),h=K(&quot;.edit&quot;,f),i=b.statusbar=K(&quot;.statusbar&quot;,f);f.removeClass(&quot;container&quot;).addClass(&quot;ke-container ke-container-&quot;+b.themeType).css(&quot;width&quot;,d),c?(f.css({position:&quot;absolute&quot;,left:0,top:0,&quot;z-index&quot;:811211}),_GECKO||(b._scrollPos=_getScrollPos()),window.scrollTo(0,0),K(document.body).css({height:&quot;1px&quot;,overflow:&quot;hidden&quot;}),K(document.body.parentNode).css(&quot;overflow&quot;,&quot;hidden&quot;),b._fullscreenExecuted=!0):(b._fullscreenExecuted&amp;&amp;(K(document.body).css({height:&quot;&quot;,overflow:&quot;&quot;}),K(document.body.parentNode).css(&quot;overflow&quot;,&quot;&quot;)),b._scrollPos&amp;&amp;window.scrollTo(b._scrollPos.x,b._scrollPos.y));var j=[];K.each(b.items,function(a,c){&quot;|&quot;==c?j.push(&#39;&lt;span class=&quot;ke-inline-block ke-separator&quot;&gt;&lt;/span&gt;&#39;):&quot;/&quot;==c?j.push(&#39;&lt;div class=&quot;ke-hr&quot;&gt;&lt;/div&gt;&#39;):(j.push(&#39;&lt;span class=&quot;ke-outline&quot; data-name=&quot;&#39;+c+&#39;&quot; title=&quot;&#39;+b.lang(c)+&#39;&quot; unselectable=&quot;on&quot;&gt;&#39;),j.push(&#39;&lt;span class=&quot;ke-toolbar-icon ke-toolbar-icon-url ke-icon-&#39;+c+&#39;&quot; unselectable=&quot;on&quot;&gt;&lt;/span&gt;&lt;/span&gt;&#39;))});var k=b.toolbar=_toolbar({src:g,html:j.join(&quot;&quot;),noDisableItems:b.noDisableItems,click:function(a,c){if(a.stop(),b.menu){var d=b.menu.name;if(b.hideMenu(),d===c)return}b.clickToolbar(c)}}),l=_removeUnit(e)-k.div.height(),m=b.edit=_edit({height:l&gt;0&amp;&amp;_removeUnit(e)&gt;b.minHeight?l:b.minHeight,src:h,srcElement:b.srcElement,designMode:b.designMode,themesPath:b.themesPath,bodyClass:b.bodyClass,cssPath:b.cssPath,cssData:b.cssData,beforeGetHtml:function(a){return a=b.beforeGetHtml(a),a=_removeBookmarkTag(_removeTempTag(a)),_formatHtml(a,b.filterMode?b.htmlTags:null,b.urlType,b.wellFormatMode,b.indentChar)},beforeSetHtml:function(a){return a=_formatHtml(a,b.filterMode?b.htmlTags:null,&quot;&quot;,!1),b.beforeSetHtml(a)},afterSetHtml:function(){b.edit=m=this,b.afterSetHtml()},afterCreate:function(){if(b.edit=m=this,b.cmd=m.cmd,b._docMousedownFn=function(){b.menu&amp;&amp;b.hideMenu()},K(m.doc,document).mousedown(b._docMousedownFn),_bindContextmenuEvent.call(b),_bindNewlineEvent.call(b),_bindTabEvent.call(b),_bindFocusEvent.call(b),m.afterChange(function(){m.designMode&amp;&amp;(b.updateState(),b.addBookmark(),b.options.afterChange&amp;&amp;b.options.afterChange.call(b))}),m.textarea.keyup(function(a){a.ctrlKey||a.altKey||!_INPUT_KEY_MAP[a.which]||b.options.afterChange&amp;&amp;b.options.afterChange.call(b)}),b.readonlyMode&amp;&amp;b.readonly(),b.isCreated=!0,&quot;&quot;===b.initContent&amp;&amp;(b.initContent=b.html()),b._undoStack.length&gt;0){var a=b._undoStack.pop();a.start&amp;&amp;(b.html(a.html),m.cmd.range.moveToBookmark(a),b.select())}b.afterCreate(),b.options.afterCreate&amp;&amp;b.options.afterCreate.call(b)}});return i.removeClass(&quot;statusbar&quot;).addClass(&quot;ke-statusbar&quot;).append(&#39;&lt;span class=&quot;ke-inline-block ke-statusbar-center-icon&quot;&gt;&lt;/span&gt;&#39;).append(&#39;&lt;span class=&quot;ke-inline-block ke-statusbar-right-icon&quot;&gt;&lt;/span&gt;&#39;),b._fullscreenResizeHandler&amp;&amp;(K(window).unbind(&quot;resize&quot;,b._fullscreenResizeHandler),b._fullscreenResizeHandler=null),a(),c?(b._fullscreenResizeHandler=function(){b.isCreated&amp;&amp;b.resize(_docElement().clientWidth,_docElement().clientHeight,!1)},K(window).bind(&quot;resize&quot;,b._fullscreenResizeHandler),k.select(&quot;fullscreen&quot;),i.first().css(&quot;visibility&quot;,&quot;hidden&quot;),i.last().css(&quot;visibility&quot;,&quot;hidden&quot;)):(_GECKO&amp;&amp;K(window).bind(&quot;scroll&quot;,function(){b._scrollPos=_getScrollPos()}),b.resizeType&gt;0?_drag({moveEl:f,clickEl:i,moveFn:function(a,c,d,e,f,g){e+=g,b.resize(null,e)}}):i.first().css(&quot;visibility&quot;,&quot;hidden&quot;),2===b.resizeType?_drag({moveEl:f,clickEl:i.last(),moveFn:function(a,c,d,e,f,g){d+=f,e+=g,b.resize(d,e)}}):i.last().css(&quot;visibility&quot;,&quot;hidden&quot;)),b},remove:function(){var a=this;return a.isCreated?(a.beforeRemove(),a.srcElement.data(&quot;kindeditor&quot;,&quot;&quot;),a.menu&amp;&amp;a.hideMenu(),_each(a.dialogs,function(){a.hideDialog()}),K(document).unbind(&quot;mousedown&quot;,a._docMousedownFn),a.toolbar.remove(),a.edit.remove(),a.statusbar.last().unbind(),a.statusbar.unbind(),a.container.remove(),a.container=a.toolbar=a.edit=a.menu=null,a.dialogs=[],a.isCreated=!1,a):a},resize:function(a,b,c){var d=this;if(c=_undef(c,!0),a&amp;&amp;(/%/.test(a)||(a=_removeUnit(a),a=a&lt;d.minWidth?d.minWidth:a),d.container.css(&quot;width&quot;,_addUnit(a)),c&amp;&amp;(d.width=_addUnit(a))),b){b=_removeUnit(b);var e=_removeUnit(b)-d.toolbar.div.height()-d.statusbar.height();e=e&lt;d.minHeight?d.minHeight:e,d.edit.setHeight(e),c&amp;&amp;(d.height=_addUnit(b))}return d},select:function(){return this.isCreated&amp;&amp;this.cmd.select(),this},html:function(a){var b=this;return a===undefined?b.isCreated?b.edit.html():_elementVal(b.srcElement):(b.isCreated?b.edit.html(a):_elementVal(b.srcElement,a),b.isCreated&amp;&amp;b.cmd.selection(),b)},fullHtml:function(){return this.isCreated?this.edit.html(undefined,!0):&quot;&quot;},text:function(a){var b=this;return a===undefined?_trim(b.html().replace(/&lt;(?!img|embed).*?&gt;/gi,&quot;&quot;).replace(/&amp;nbsp;/gi,&quot; &quot;)):b.html(_escape(a))},isEmpty:function(){return&quot;&quot;===_trim(this.text().replace(/\r\n|\n|\r/,&quot;&quot;))},isDirty:function(){return _trim(this.initContent.replace(/\r\n|\n|\r|t/g,&quot;&quot;))!==_trim(this.html().replace(/\r\n|\n|\r|t/g,&quot;&quot;))},selectedHtml:function(){var a=this.isCreated?this.cmd.range.html():&quot;&quot;;return a=_removeBookmarkTag(_removeTempTag(a))},count:function(a){var b=this;return a=(a||&quot;html&quot;).toLowerCase(),&quot;html&quot;===a?b.html().length:&quot;text&quot;===a?b.text().replace(/&lt;(?:img|embed).*?&gt;/gi,&quot;K&quot;).replace(/\r\n|\n|\r/g,&quot;&quot;).length:0},exec:function(a){a=a.toLowerCase();var b=this,c=b.cmd,d=_inArray(a,&quot;selectall,copy,paste,print&quot;.split(&quot;,&quot;))&lt;0;return d&amp;&amp;b.addBookmark(!1),c[a].apply(c,_toArray(arguments,1)),d&amp;&amp;(b.updateState(),b.addBookmark(!1),b.options.afterChange&amp;&amp;b.options.afterChange.call(b)),b},insertHtml:function(a,b){return this.isCreated?(a=this.beforeSetHtml(a),this.exec(&quot;inserthtml&quot;,a,b),this):this},appendHtml:function(a){if(this.html(this.html()+a),this.isCreated){var b=this.cmd;b.range.selectNodeContents(b.doc.body).collapse(!1),b.select()}return this},sync:function(){return _elementVal(this.srcElement,this.html()),this},focus:function(){return this.isCreated?this.edit.focus():this.srcElement[0].focus(),this},blur:function(){return this.isCreated?this.edit.blur():this.srcElement[0].blur(),this},addBookmark:function(a){a=_undef(a,!0);var b,c=this,d=c.edit,e=d.doc.body,f=_removeTempTag(e.innerHTML);if(a&amp;&amp;c._undoStack.length&gt;0){var g=c._undoStack[c._undoStack.length-1];if(Math.abs(f.length-_removeBookmarkTag(g.html).length)&lt;c.minChangeSize)return c}if(d.designMode&amp;&amp;!c._firstAddBookmark){var h=c.cmd.range;b=h.createBookmark(!0),b.html=_removeTempTag(e.innerHTML),h.moveToBookmark(b)}else b={html:f};return c._firstAddBookmark=!1,_addBookmarkToStack(c._undoStack,b),c},undo:function(){return _undoToRedo.call(this,this._undoStack,this._redoStack)},redo:function(){return _undoToRedo.call(this,this._redoStack,this._undoStack)},fullscreen:function(a){return this.fullscreenMode=a===undefined?!this.fullscreenMode:a,this.addBookmark(!1),this.remove().create()},readonly:function(a){a=_undef(a,!0);var b=this,c=b.edit,d=c.doc;b.designMode?b.toolbar.disableAll(a,[]):_each(b.noDisableItems,function(){b.toolbar[a?&quot;disable&quot;:&quot;enable&quot;](this)}),_IE?d.body.contentEditable=!a:d.designMode=a?&quot;off&quot;:&quot;on&quot;,c.textarea[0].disabled=a},createMenu:function(a){var b=this,c=a.name,d=b.toolbar.get(c),e=d.pos();return a.x=e.x,a.y=e.y+d.height(),a.z=b.options.zIndex,a.shadowMode=_undef(a.shadowMode,b.shadowMode),a.selectedColor!==undefined?(a.cls=&quot;ke-colorpicker-&quot;+b.themeType,a.noColor=b.lang(&quot;noColor&quot;),b.menu=_colorpicker(a)):(a.cls=&quot;ke-menu-&quot;+b.themeType,a.centerLineMode=!1,b.menu=_menu(a)),b.menu},hideMenu:function(){return this.menu.remove(),this.menu=null,this},hideContextmenu:function(){return this.contextmenu.remove(),this.contextmenu=null,this},createDialog:function(a){{var b=this;a.name}if(a.z=b.options.zIndex,a.shadowMode=_undef(a.shadowMode,b.shadowMode),a.closeBtn=_undef(a.closeBtn,{name:b.lang(&quot;close&quot;),click:function(){b.hideDialog(),_IE&amp;&amp;b.cmd&amp;&amp;b.cmd.select()}}),a.noBtn=_undef(a.noBtn,{name:b.lang(a.yesBtn?&quot;no&quot;:&quot;close&quot;),click:function(){b.hideDialog(),_IE&amp;&amp;b.cmd&amp;&amp;b.cmd.select()}}),&quot;page&quot;!=b.dialogAlignType&amp;&amp;(a.alignEl=b.container),a.cls=&quot;ke-dialog-&quot;+b.themeType,b.dialogs.length&gt;0){var c=b.dialogs[0],d=b.dialogs[b.dialogs.length-1];c.setMaskIndex(d.z+2),a.z=d.z+3,a.showMask=!1}var e=_dialog(a);return b.dialogs.push(e),e},hideDialog:function(){var a=this;if(a.dialogs.length&gt;0&amp;&amp;a.dialogs.pop().remove(),a.dialogs.length&gt;0){var b=a.dialogs[0],c=a.dialogs[a.dialogs.length-1];b.setMaskIndex(c.z-1)}return a},errorDialog:function(a){var b=this,c=b.createDialog({width:750,title:b.lang(&quot;uploadError&quot;),body:&#39;&lt;div style=&quot;padding:10px 20px;&quot;&gt;&lt;iframe frameborder=&quot;0&quot; style=&quot;width:708px;height:400px;&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&#39;}),d=K(&quot;iframe&quot;,c.div),e=K.iframeDoc(d);return e.open(),e.write(a),e.close(),K(e.body).css(&quot;background-color&quot;,&quot;#FFF&quot;),d[0].contentWindow.focus(),b}};var _instances=[];K.remove=function(a){_eachEditor(a,function(a){this.remove(),_instances.splice(a,1)})},K.sync=function(a){_eachEditor(a,function(){this.sync()})},K.html=function(a,b){_eachEditor(a,function(){this.html(b)})},K.insertHtml=function(a,b){_eachEditor(a,function(){this.insertHtml(b)})},K.appendHtml=function(a,b){_eachEditor(a,function(){this.appendHtml(b)})},_IE&amp;&amp;7&gt;_V&amp;&amp;_nativeCommand(document,&quot;BackgroundImageCache&quot;,!0),K.EditorClass=KEditor,K.editor=_editor,K.create=_create,K.instances=_instances,K.plugin=_plugin,K.lang=_lang,_plugin(&quot;core&quot;,function(a){var b=this,c={undo:&quot;Z&quot;,redo:&quot;Y&quot;,bold:&quot;B&quot;,italic:&quot;I&quot;,underline:&quot;U&quot;,print:&quot;P&quot;,selectall:&quot;A&quot;};if(b.afterSetHtml(function(){b.options.afterChange&amp;&amp;b.options.afterChange.call(b)}),b.afterCreate(function(){if(&quot;form&quot;==b.syncType){for(var c=a(b.srcElement),d=!1;c=c.parent();)if(&quot;form&quot;==c.name){d=!0;break}if(d){c.bind(&quot;submit&quot;,function(){b.sync(),a(window).bind(&quot;unload&quot;,function(){b.edit.textarea.remove()})});var e=a(&#39;[type=&quot;reset&quot;]&#39;,c);e.click(function(){b.html(b.initContent),b.cmd.selection()}),b.beforeRemove(function(){c.unbind(),e.unbind()})}}}),b.clickToolbar(&quot;source&quot;,function(){b.edit.designMode?(b.toolbar.disableAll(!0),b.edit.design(!1),b.toolbar.select(&quot;source&quot;)):(b.toolbar.disableAll(!1),b.edit.design(!0),b.toolbar.unselect(&quot;source&quot;),_GECKO?setTimeout(function(){b.cmd.selection()},0):b.cmd.selection()),b.designMode=b.edit.designMode}),b.afterCreate(function(){b.designMode||b.toolbar.disableAll(!0).select(&quot;source&quot;)}),b.clickToolbar(&quot;fullscreen&quot;,function(){b.fullscreen()}),b.fullscreenShortcut){var d=!1;b.afterCreate(function(){if(a(b.edit.doc,b.edit.textarea).keyup(function(a){27==a.which&amp;&amp;setTimeout(function(){b.fullscreen()},0)}),d){if(_IE&amp;&amp;!b.designMode)return;b.focus()}d||(d=!0)})}_each(&quot;undo,redo&quot;.split(&quot;,&quot;),function(a,d){c[d]&amp;&amp;b.afterCreate(function(){_ctrl(this.edit.doc,c[d],function(){b.clickToolbar(d)})}),b.clickToolbar(d,function(){b[d]()})}),b.clickToolbar(&quot;formatblock&quot;,function(){var a=b.lang(&quot;formatblock.formatBlock&quot;),c={h1:28,h2:24,h3:18,H4:14,p:12},d=b.cmd.val(&quot;formatblock&quot;),e=b.createMenu({name:&quot;formatblock&quot;,width:&quot;en&quot;==b.langType?200:150});_each(a,function(a,f){var g=&quot;font-size:&quot;+c[a]+&quot;px;&quot;;&quot;h&quot;===a.charAt(0)&amp;&amp;(g+=&quot;font-weight:bold;&quot;),e.addItem({title:&#39;&lt;span style=&quot;&#39;+g+&#39;&quot; unselectable=&quot;on&quot;&gt;&#39;+f+&quot;&lt;/span&gt;&quot;,height:c[a]+12,checked:d===a||d===f,click:function(){b.select().exec(&quot;formatblock&quot;,&quot;&lt;&quot;+a+&quot;&gt;&quot;).hideMenu()}})})}),b.clickToolbar(&quot;fontname&quot;,function(){var a=b.cmd.val(&quot;fontname&quot;),c=b.createMenu({name:&quot;fontname&quot;,width:150});_each(b.lang(&quot;fontname.fontName&quot;),function(d,e){c.addItem({title:&#39;&lt;span style=&quot;font-family: &#39;+d+&#39;;&quot; unselectable=&quot;on&quot;&gt;&#39;+e+&quot;&lt;/span&gt;&quot;,checked:a===d.toLowerCase()||a===e.toLowerCase(),click:function(){b.exec(&quot;fontname&quot;,d).hideMenu()}})})}),b.clickToolbar(&quot;fontsize&quot;,function(){var a=b.cmd.val(&quot;fontsize&quot;),c=b.createMenu({name:&quot;fontsize&quot;,width:150});_each(b.fontSizeTable,function(d,e){c.addItem({title:&#39;&lt;span style=&quot;font-size:&#39;+e+&#39;;&quot; unselectable=&quot;on&quot;&gt;&#39;+e+&quot;&lt;/span&gt;&quot;,height:_removeUnit(e)+12,checked:a===e,click:function(){b.exec(&quot;fontsize&quot;,e).hideMenu()}})})}),_each(&quot;forecolor,hilitecolor&quot;.split(&quot;,&quot;),function(a,c){b.clickToolbar(c,function(){b.createMenu({name:c,selectedColor:b.cmd.val(c)||&quot;default&quot;,colors:b.colorTable,click:function(a){b.exec(c,a).hideMenu()}})})}),_each(&quot;cut,copy,paste&quot;.split(&quot;,&quot;),function(a,c){b.clickToolbar(c,function(){b.focus();try{b.exec(c,null)}catch(a){alert(b.lang(c+&quot;Error&quot;))}})}),b.clickToolbar(&quot;about&quot;,function(){var a=&#39;&lt;div style=&quot;margin:20px;&quot;&gt;&lt;div&gt;KindEditor &#39;+_VERSION+&#39;&lt;/div&gt;&lt;div&gt;Copyright &amp;copy; &lt;a href=&quot;http://www.kindsoft.net/&quot; target=&quot;_blank&quot;&gt;kindsoft.net&lt;/a&gt; All rights reserved.&lt;/div&gt;&lt;/div&gt;&#39;;b.createDialog({name:&quot;about&quot;,width:350,title:b.lang(&quot;about&quot;),body:a})}),b.plugin.getSelectedLink=function(){return b.cmd.commonAncestor(&quot;a&quot;)},b.plugin.getSelectedImage=function(){return _getImageFromRange(b.edit.cmd.range,function(a){return!/^ke-\w+$/i.test(a[0].className)})},b.plugin.getSelectedFlash=function(){return _getImageFromRange(b.edit.cmd.range,function(a){return&quot;ke-flash&quot;==a[0].className})},b.plugin.getSelectedMedia=function(){return _getImageFromRange(b.edit.cmd.range,function(a){return&quot;ke-media&quot;==a[0].className||&quot;ke-rm&quot;==a[0].className})},b.plugin.getSelectedAnchor=function(){return _getImageFromRange(b.edit.cmd.range,function(a){return&quot;ke-anchor&quot;==a[0].className})},_each(&quot;link,image,flash,media,anchor&quot;.split(&quot;,&quot;),function(a,c){var d=c.charAt(0).toUpperCase()+c.substr(1);_each(&quot;edit,delete&quot;.split(&quot;,&quot;),function(a,e){b.addContextmenu({title:b.lang(e+d),click:function(){b.loadPlugin(c,function(){b.plugin[c][e](),b.hideMenu()})},cond:b.plugin[&quot;getSelected&quot;+d],width:150,iconClass:&quot;edit&quot;==e?&quot;ke-icon-&quot;+c:undefined})</td>
      </tr>
      <tr>
        <td id="L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="LC5" class="blob-code blob-code-inner js-file-line">}),b.addContextmenu({title:&quot;-&quot;})}),b.plugin.getSelectedTable=function(){return b.cmd.commonAncestor(&quot;table&quot;)},b.plugin.getSelectedRow=function(){return b.cmd.commonAncestor(&quot;tr&quot;)},b.plugin.getSelectedCell=function(){return b.cmd.commonAncestor(&quot;td&quot;)},_each(&quot;prop,cellprop,colinsertleft,colinsertright,rowinsertabove,rowinsertbelow,rowmerge,colmerge,rowsplit,colsplit,coldelete,rowdelete,insert,delete&quot;.split(&quot;,&quot;),function(a,c){var d=_inArray(c,[&quot;prop&quot;,&quot;delete&quot;])&lt;0?b.plugin.getSelectedCell:b.plugin.getSelectedTable;b.addContextmenu({title:b.lang(&quot;table&quot;+c),click:function(){b.loadPlugin(&quot;table&quot;,function(){b.plugin.table[c](),b.hideMenu()})},cond:d,width:170,iconClass:&quot;ke-icon-table&quot;+c})}),b.addContextmenu({title:&quot;-&quot;}),_each(&quot;selectall,justifyleft,justifycenter,justifyright,justifyfull,insertorderedlist,insertunorderedlist,indent,outdent,subscript,superscript,hr,print,bold,italic,underline,strikethrough,removeformat,unlink&quot;.split(&quot;,&quot;),function(a,d){c[d]&amp;&amp;b.afterCreate(function(){_ctrl(this.edit.doc,c[d],function(){b.cmd.selection(),b.clickToolbar(d)})}),b.clickToolbar(d,function(){b.focus().exec(d,null)})}),b.afterCreate(function(){function c(){d.range.moveToBookmark(e),d.select(),_WEBKIT&amp;&amp;(a(&quot;div.&quot;+h,f).each(function(){a(this).after(&quot;&lt;br /&gt;&quot;).remove(!0)}),a(&quot;span.Apple-style-span&quot;,f).remove(!0),a(&quot;span.Apple-tab-span&quot;,f).remove(!0),a(&quot;span[style]&quot;,f).each(function(){&quot;nowrap&quot;==a(this).css(&quot;white-space&quot;)&amp;&amp;a(this).remove(!0)}),a(&quot;meta&quot;,f).remove());var c=f[0].innerHTML;f.remove(),&quot;&quot;!==c&amp;&amp;(_WEBKIT&amp;&amp;(c=c.replace(/(&lt;br&gt;)\1/gi,&quot;$1&quot;)),2===b.pasteType&amp;&amp;(c=c.replace(/(&lt;(?:p|p\s[^&gt;]*)&gt;) *(&lt;\/p&gt;)/gi,&quot;&quot;),/schemas-microsoft-com|worddocument|mso-\w+/i.test(c)?c=_clearMsWord(c,b.filterMode?b.htmlTags:a.options.htmlTags):(c=_formatHtml(c,b.filterMode?b.htmlTags:null),c=b.beforeSetHtml(c))),1===b.pasteType&amp;&amp;(c=c.replace(/&amp;nbsp;/gi,&quot; &quot;),c=c.replace(/\n\s*\n/g,&quot;\n&quot;),c=c.replace(/&lt;br[^&gt;]*&gt;/gi,&quot;\n&quot;),c=c.replace(/&lt;\/p&gt;&lt;p[^&gt;]*&gt;/gi,&quot;\n&quot;),c=c.replace(/&lt;[^&gt;]+&gt;/g,&quot;&quot;),c=c.replace(/ {2}/g,&quot; &amp;nbsp;&quot;),&quot;p&quot;==b.newlineTag?/\n/.test(c)&amp;&amp;(c=c.replace(/^/,&quot;&lt;p&gt;&quot;).replace(/$/,&quot;&lt;br /&gt;&lt;/p&gt;&quot;).replace(/\n/g,&quot;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&quot;)):c=c.replace(/\n/g,&quot;&lt;br /&gt;$&amp;&quot;)),b.insertHtml(c,!0))}var d,e,f,g=b.edit.doc,h=&quot;__kindeditor_paste__&quot;,i=!1;a(g.body).bind(&quot;paste&quot;,function(j){if(0===b.pasteType)return void j.stop();if(!i){if(i=!0,a(&quot;div.&quot;+h,g).remove(),d=b.cmd.selection(),e=d.range.createBookmark(),f=a(&#39;&lt;div class=&quot;&#39;+h+&#39;&quot;&gt;&lt;/div&gt;&#39;,g).css({position:&quot;absolute&quot;,width:&quot;1px&quot;,height:&quot;1px&quot;,overflow:&quot;hidden&quot;,left:&quot;-1981px&quot;,top:a(e.start).pos().y+&quot;px&quot;,&quot;white-space&quot;:&quot;nowrap&quot;}),a(g.body).append(f),_IE){var k=d.range.get(!0);k.moveToElementText(f[0]),k.select(),k.execCommand(&quot;paste&quot;),j.preventDefault()}else d.range.selectNodeContents(f[0]),d.select(),f[0].tabIndex=-1,f[0].focus();setTimeout(function(){c(),i=!1},0)}})}),b.beforeGetHtml(function(a){return _IE&amp;&amp;8&gt;=_V&amp;&amp;(a=a.replace(/&lt;div\s+[^&gt;]*data-ke-input-tag=&quot;([^&quot;]*)&quot;[^&gt;]*&gt;([\s\S]*?)&lt;\/div&gt;/gi,function(a,b){return unescape(b)}),a=a.replace(/(&lt;input)((?:\s+[^&gt;]*)?&gt;)/gi,function(a,b,c){return/\s+type=&quot;[^&quot;]+&quot;/i.test(a)?a:b+&#39; type=&quot;text&quot;&#39;+c})),a.replace(/(&lt;(?:noscript|noscript\s[^&gt;]*)&gt;)([\s\S]*?)(&lt;\/noscript&gt;)/gi,function(a,b,c,d){return b+_unescape(c).replace(/\s+/g,&quot; &quot;)+d}).replace(/&lt;img[^&gt;]*class=&quot;?ke-(flash|rm|media)&quot;?[^&gt;]*&gt;/gi,function(a){var b=_getAttrList(a),c=_getCssList(b.style||&quot;&quot;),d=_mediaAttrs(b[&quot;data-ke-tag&quot;]),e=_undef(c.width,&quot;&quot;),f=_undef(c.height,&quot;&quot;);return/px/i.test(e)&amp;&amp;(e=_removeUnit(e)),/px/i.test(f)&amp;&amp;(f=_removeUnit(f)),d.width=_undef(b.width,e),d.height=_undef(b.height,f),_mediaEmbed(d)}).replace(/&lt;img[^&gt;]*class=&quot;?ke-anchor&quot;?[^&gt;]*&gt;/gi,function(a){var b=_getAttrList(a);return&#39;&lt;a name=&quot;&#39;+unescape(b[&quot;data-ke-name&quot;])+&#39;&quot;&gt;&lt;/a&gt;&#39;}).replace(/&lt;div\s+[^&gt;]*data-ke-script-attr=&quot;([^&quot;]*)&quot;[^&gt;]*&gt;([\s\S]*?)&lt;\/div&gt;/gi,function(a,b,c){return&quot;&lt;script&quot;+unescape(b)+&quot;&gt;&quot;+unescape(c)+&quot;&lt;/script&gt;&quot;}).replace(/&lt;div\s+[^&gt;]*data-ke-noscript-attr=&quot;([^&quot;]*)&quot;[^&gt;]*&gt;([\s\S]*?)&lt;\/div&gt;/gi,function(a,b,c){return&quot;&lt;noscript&quot;+unescape(b)+&quot;&gt;&quot;+unescape(c)+&quot;&lt;/noscript&gt;&quot;}).replace(/(&lt;[^&gt;]*)data-ke-src=&quot;([^&quot;]*)&quot;([^&gt;]*&gt;)/gi,function(a,b,c){return a=a.replace(/(\s+(?:href|src)=&quot;)[^&quot;]*(&quot;)/i,function(a,b,d){return b+_unescape(c)+d}),a=a.replace(/\s+data-ke-src=&quot;[^&quot;]*&quot;/i,&quot;&quot;)}).replace(/(&lt;[^&gt;]+\s)data-ke-(on\w+=&quot;[^&quot;]*&quot;[^&gt;]*&gt;)/gi,function(a,b,c){return b+c})}),b.beforeSetHtml(function(a){return _IE&amp;&amp;8&gt;=_V&amp;&amp;(a=a.replace(/&lt;input[^&gt;]*&gt;|&lt;(select|button)[^&gt;]*&gt;[\s\S]*?&lt;\/\1&gt;/gi,function(a){var b=_getAttrList(a),c=_getCssList(b.style||&quot;&quot;);return&quot;none&quot;==c.display?&#39;&lt;div class=&quot;ke-display-none&quot; data-ke-input-tag=&quot;&#39;+escape(a)+&#39;&quot;&gt;&lt;/div&gt;&#39;:a})),a.replace(/&lt;embed[^&gt;]*type=&quot;([^&quot;]+)&quot;[^&gt;]*&gt;(?:&lt;\/embed&gt;)?/gi,function(a){var c=_getAttrList(a);return c.src=_undef(c.src,&quot;&quot;),c.width=_undef(c.width,0),c.height=_undef(c.height,0),_mediaImg(b.themesPath+&quot;common/blank.gif&quot;,c)}).replace(/&lt;a[^&gt;]*name=&quot;([^&quot;]+)&quot;[^&gt;]*&gt;(?:&lt;\/a&gt;)?/gi,function(a){var c=_getAttrList(a);return c.href!==undefined?a:&#39;&lt;img class=&quot;ke-anchor&quot; src=&quot;&#39;+b.themesPath+&#39;common/anchor.gif&quot; data-ke-name=&quot;&#39;+escape(c.name)+&#39;&quot; /&gt;&#39;}).replace(/&lt;script([^&gt;]*)&gt;([\s\S]*?)&lt;\/script&gt;/gi,function(a,b,c){return&#39;&lt;div class=&quot;ke-script&quot; data-ke-script-attr=&quot;&#39;+escape(b)+&#39;&quot;&gt;&#39;+escape(c)+&quot;&lt;/div&gt;&quot;}).replace(/&lt;noscript([^&gt;]*)&gt;([\s\S]*?)&lt;\/noscript&gt;/gi,function(a,b,c){return&#39;&lt;div class=&quot;ke-noscript&quot; data-ke-noscript-attr=&quot;&#39;+escape(b)+&#39;&quot;&gt;&#39;+escape(c)+&quot;&lt;/div&gt;&quot;}).replace(/(&lt;[^&gt;]*)(href|src)=&quot;([^&quot;]*)&quot;([^&gt;]*&gt;)/gi,function(a,b,c,d,e){return a.match(/\sdata-ke-src=&quot;[^&quot;]*&quot;/i)?a:a=b+c+&#39;=&quot;&#39;+d+&#39;&quot; data-ke-src=&quot;&#39;+_escape(d)+&#39;&quot;&#39;+e}).replace(/(&lt;[^&gt;]+\s)(on\w+=&quot;[^&quot;]*&quot;[^&gt;]*&gt;)/gi,function(a,b,c){return b+&quot;data-ke-&quot;+c}).replace(/&lt;table[^&gt;]*\s+border=&quot;0&quot;[^&gt;]*&gt;/gi,function(a){return a.indexOf(&quot;ke-zeroborder&quot;)&gt;=0?a:_addClassToTag(a,&quot;ke-zeroborder&quot;)})})})}}(window),KindEditor.lang({source:&quot;HTML代码&quot;,preview:&quot;预览&quot;,undo:&quot;后退(Ctrl+Z)&quot;,redo:&quot;前进(Ctrl+Y)&quot;,cut:&quot;剪切(Ctrl+X)&quot;,copy:&quot;复制(Ctrl+C)&quot;,paste:&quot;粘贴(Ctrl+V)&quot;,plainpaste:&quot;粘贴为无格式文本&quot;,wordpaste:&quot;从Word粘贴&quot;,selectall:&quot;全选(Ctrl+A)&quot;,justifyleft:&quot;左对齐&quot;,justifycenter:&quot;居中&quot;,justifyright:&quot;右对齐&quot;,justifyfull:&quot;两端对齐&quot;,insertorderedlist:&quot;编号&quot;,insertunorderedlist:&quot;项目符号&quot;,indent:&quot;增加缩进&quot;,outdent:&quot;减少缩进&quot;,subscript:&quot;下标&quot;,superscript:&quot;上标&quot;,formatblock:&quot;段落&quot;,fontname:&quot;字体&quot;,fontsize:&quot;文字大小&quot;,forecolor:&quot;文字颜色&quot;,hilitecolor:&quot;文字背景&quot;,bold:&quot;粗体(Ctrl+B)&quot;,italic:&quot;斜体(Ctrl+I)&quot;,underline:&quot;下划线(Ctrl+U)&quot;,strikethrough:&quot;删除线&quot;,removeformat:&quot;删除格式&quot;,image:&quot;图片&quot;,multiimage:&quot;批量图片上传&quot;,flash:&quot;Flash&quot;,media:&quot;视音频&quot;,table:&quot;表格&quot;,tablecell:&quot;单元格&quot;,hr:&quot;插入横线&quot;,emoticons:&quot;插入表情&quot;,link:&quot;超级链接&quot;,unlink:&quot;取消超级链接&quot;,fullscreen:&quot;全屏显示&quot;,about:&quot;关于&quot;,print:&quot;打印(Ctrl+P)&quot;,filemanager:&quot;文件空间&quot;,code:&quot;插入程序代码&quot;,map:&quot;Google地图&quot;,baidumap:&quot;百度地图&quot;,lineheight:&quot;行距&quot;,clearhtml:&quot;清理HTML代码&quot;,pagebreak:&quot;插入分页符&quot;,quickformat:&quot;一键排版&quot;,insertfile:&quot;插入文件&quot;,template:&quot;插入模板&quot;,anchor:&quot;锚点&quot;,yes:&quot;确定&quot;,no:&quot;取消&quot;,close:&quot;关闭&quot;,editImage:&quot;图片属性&quot;,deleteImage:&quot;删除图片&quot;,editFlash:&quot;Flash属性&quot;,deleteFlash:&quot;删除Flash&quot;,editMedia:&quot;视音频属性&quot;,deleteMedia:&quot;删除视音频&quot;,editLink:&quot;超级链接属性&quot;,deleteLink:&quot;取消超级链接&quot;,editAnchor:&quot;锚点属性&quot;,deleteAnchor:&quot;删除锚点&quot;,tableprop:&quot;表格属性&quot;,tablecellprop:&quot;单元格属性&quot;,tableinsert:&quot;插入表格&quot;,tabledelete:&quot;删除表格&quot;,tablecolinsertleft:&quot;左侧插入列&quot;,tablecolinsertright:&quot;右侧插入列&quot;,tablerowinsertabove:&quot;上方插入行&quot;,tablerowinsertbelow:&quot;下方插入行&quot;,tablerowmerge:&quot;向下合并单元格&quot;,tablecolmerge:&quot;向右合并单元格&quot;,tablerowsplit:&quot;拆分行&quot;,tablecolsplit:&quot;拆分列&quot;,tablecoldelete:&quot;删除列&quot;,tablerowdelete:&quot;删除行&quot;,noColor:&quot;无颜色&quot;,pleaseSelectFile:&quot;请选择文件。&quot;,invalidImg:&quot;请输入有效的URL地址。\n只允许jpg,gif,bmp,png格式。&quot;,invalidMedia:&quot;请输入有效的URL地址。\n只允许swf,flv,mp3,wav,wma,wmv,mid,avi,mpg,asf,rm,rmvb格式。&quot;,invalidWidth:&quot;宽度必须为数字。&quot;,invalidHeight:&quot;高度必须为数字。&quot;,invalidBorder:&quot;边框必须为数字。&quot;,invalidUrl:&quot;请输入有效的URL地址。&quot;,invalidRows:&quot;行数为必选项，只允许输入大于0的数字。&quot;,invalidCols:&quot;列数为必选项，只允许输入大于0的数字。&quot;,invalidPadding:&quot;边距必须为数字。&quot;,invalidSpacing:&quot;间距必须为数字。&quot;,invalidJson:&quot;服务器发生故障。&quot;,uploadSuccess:&quot;上传成功。&quot;,cutError:&quot;您的浏览器安全设置不允许使用剪切操作，请使用快捷键(Ctrl+X)来完成。&quot;,copyError:&quot;您的浏览器安全设置不允许使用复制操作，请使用快捷键(Ctrl+C)来完成。&quot;,pasteError:&quot;您的浏览器安全设置不允许使用粘贴操作，请使用快捷键(Ctrl+V)来完成。&quot;,ajaxLoading:&quot;加载中，请稍候 ...&quot;,uploadLoading:&quot;上传中，请稍候 ...&quot;,uploadError:&quot;上传错误&quot;,&quot;plainpaste.comment&quot;:&quot;请使用快捷键(Ctrl+V)把内容粘贴到下面的方框里。&quot;,&quot;wordpaste.comment&quot;:&quot;请使用快捷键(Ctrl+V)把内容粘贴到下面的方框里。&quot;,&quot;code.pleaseInput&quot;:&quot;请输入程序代码。&quot;,&quot;link.url&quot;:&quot;URL&quot;,&quot;link.linkType&quot;:&quot;打开类型&quot;,&quot;link.newWindow&quot;:&quot;新窗口&quot;,&quot;link.selfWindow&quot;:&quot;当前窗口&quot;,&quot;flash.url&quot;:&quot;URL&quot;,&quot;flash.width&quot;:&quot;宽度&quot;,&quot;flash.height&quot;:&quot;高度&quot;,&quot;flash.upload&quot;:&quot;上传&quot;,&quot;flash.viewServer&quot;:&quot;文件空间&quot;,&quot;media.url&quot;:&quot;URL&quot;,&quot;media.width&quot;:&quot;宽度&quot;,&quot;media.height&quot;:&quot;高度&quot;,&quot;media.autostart&quot;:&quot;自动播放&quot;,&quot;media.upload&quot;:&quot;上传&quot;,&quot;media.viewServer&quot;:&quot;文件空间&quot;,&quot;image.remoteImage&quot;:&quot;网络图片&quot;,&quot;image.localImage&quot;:&quot;本地上传&quot;,&quot;image.remoteUrl&quot;:&quot;图片地址&quot;,&quot;image.localUrl&quot;:&quot;上传文件&quot;,&quot;image.size&quot;:&quot;图片大小&quot;,&quot;image.width&quot;:&quot;宽&quot;,&quot;image.height&quot;:&quot;高&quot;,&quot;image.resetSize&quot;:&quot;重置大小&quot;,&quot;image.align&quot;:&quot;对齐方式&quot;,&quot;image.defaultAlign&quot;:&quot;默认方式&quot;,&quot;image.leftAlign&quot;:&quot;左对齐&quot;,&quot;image.rightAlign&quot;:&quot;右对齐&quot;,&quot;image.imgTitle&quot;:&quot;图片说明&quot;,&quot;image.upload&quot;:&quot;浏览...&quot;,&quot;image.viewServer&quot;:&quot;图片空间&quot;,&quot;multiimage.uploadDesc&quot;:&quot;允许用户同时上传&lt;%=uploadLimit%&gt;张图片，单张图片容量不超过&lt;%=sizeLimit%&gt;&quot;,&quot;multiimage.startUpload&quot;:&quot;开始上传&quot;,&quot;multiimage.clearAll&quot;:&quot;全部清空&quot;,&quot;multiimage.insertAll&quot;:&quot;全部插入&quot;,&quot;multiimage.queueLimitExceeded&quot;:&quot;文件数量超过限制。&quot;,&quot;multiimage.fileExceedsSizeLimit&quot;:&quot;文件大小超过限制。&quot;,&quot;multiimage.zeroByteFile&quot;:&quot;无法上传空文件。&quot;,&quot;multiimage.invalidFiletype&quot;:&quot;文件类型不正确。&quot;,&quot;multiimage.unknownError&quot;:&quot;发生异常，无法上传。&quot;,&quot;multiimage.pending&quot;:&quot;等待上传&quot;,&quot;multiimage.uploadError&quot;:&quot;上传失败&quot;,&quot;filemanager.emptyFolder&quot;:&quot;空文件夹&quot;,&quot;filemanager.moveup&quot;:&quot;移到上一级文件夹&quot;,&quot;filemanager.viewType&quot;:&quot;显示方式：&quot;,&quot;filemanager.viewImage&quot;:&quot;缩略图&quot;,&quot;filemanager.listImage&quot;:&quot;详细信息&quot;,&quot;filemanager.orderType&quot;:&quot;排序方式：&quot;,&quot;filemanager.fileName&quot;:&quot;名称&quot;,&quot;filemanager.fileSize&quot;:&quot;大小&quot;,&quot;filemanager.fileType&quot;:&quot;类型&quot;,&quot;insertfile.url&quot;:&quot;URL&quot;,&quot;insertfile.title&quot;:&quot;文件说明&quot;,&quot;insertfile.upload&quot;:&quot;上传&quot;,&quot;insertfile.viewServer&quot;:&quot;文件空间&quot;,&quot;table.cells&quot;:&quot;单元格数&quot;,&quot;table.rows&quot;:&quot;行数&quot;,&quot;table.cols&quot;:&quot;列数&quot;,&quot;table.size&quot;:&quot;大小&quot;,&quot;table.width&quot;:&quot;宽度&quot;,&quot;table.height&quot;:&quot;高度&quot;,&quot;table.percent&quot;:&quot;%&quot;,&quot;table.px&quot;:&quot;px&quot;,&quot;table.space&quot;:&quot;边距间距&quot;,&quot;table.padding&quot;:&quot;边距&quot;,&quot;table.spacing&quot;:&quot;间距&quot;,&quot;table.align&quot;:&quot;对齐方式&quot;,&quot;table.textAlign&quot;:&quot;水平对齐&quot;,&quot;table.verticalAlign&quot;:&quot;垂直对齐&quot;,&quot;table.alignDefault&quot;:&quot;默认&quot;,&quot;table.alignLeft&quot;:&quot;左对齐&quot;,&quot;table.alignCenter&quot;:&quot;居中&quot;,&quot;table.alignRight&quot;:&quot;右对齐&quot;,&quot;table.alignTop&quot;:&quot;顶部&quot;,&quot;table.alignMiddle&quot;:&quot;中部&quot;,&quot;table.alignBottom&quot;:&quot;底部&quot;,&quot;table.alignBaseline&quot;:&quot;基线&quot;,&quot;table.border&quot;:&quot;边框&quot;,&quot;table.borderWidth&quot;:&quot;边框&quot;,&quot;table.borderColor&quot;:&quot;颜色&quot;,&quot;table.backgroundColor&quot;:&quot;背景颜色&quot;,&quot;map.address&quot;:&quot;地址: &quot;,&quot;map.search&quot;:&quot;搜索&quot;,&quot;baidumap.address&quot;:&quot;地址: &quot;,&quot;baidumap.search&quot;:&quot;搜索&quot;,&quot;baidumap.insertDynamicMap&quot;:&quot;插入动态地图&quot;,&quot;anchor.name&quot;:&quot;锚点名称&quot;,&quot;formatblock.formatBlock&quot;:{h1:&quot;标题 1&quot;,h2:&quot;标题 2&quot;,h3:&quot;标题 3&quot;,h4:&quot;标题 4&quot;,p:&quot;正 文&quot;},&quot;fontname.fontName&quot;:{SimSun:&quot;宋体&quot;,NSimSun:&quot;新宋体&quot;,FangSong_GB2312:&quot;仿宋_GB2312&quot;,KaiTi_GB2312:&quot;楷体_GB2312&quot;,SimHei:&quot;黑体&quot;,&quot;Microsoft YaHei&quot;:&quot;微软雅黑&quot;,Arial:&quot;Arial&quot;,&quot;Arial Black&quot;:&quot;Arial Black&quot;,&quot;Times New Roman&quot;:&quot;Times New Roman&quot;,&quot;Courier New&quot;:&quot;Courier New&quot;,Tahoma:&quot;Tahoma&quot;,Verdana:&quot;Verdana&quot;},&quot;lineheight.lineHeight&quot;:[{1:&quot;单倍行距&quot;},{1.5:&quot;1.5倍行距&quot;},{2:&quot;2倍行距&quot;},{2.5:&quot;2.5倍行距&quot;},{3:&quot;3倍行距&quot;}],&quot;template.selectTemplate&quot;:&quot;可选模板&quot;,&quot;template.replaceContent&quot;:&quot;替换当前内容&quot;,&quot;template.fileList&quot;:{&quot;1.html&quot;:&quot;图片和文字&quot;,&quot;2.html&quot;:&quot;表格&quot;,&quot;3.html&quot;:&quot;项目编号&quot;}},&quot;zh-CN&quot;),KindEditor.options.langType=&quot;zh-CN&quot;,KindEditor.plugin(&quot;anchor&quot;,function(a){var b=this,c=&quot;anchor&quot;,d=b.lang(c+&quot;.&quot;);b.plugin.anchor={edit:function(){var e=[&#39;&lt;div style=&quot;padding:20px;&quot;&gt;&#39;,&#39;&lt;div class=&quot;ke-dialog-row&quot;&gt;&#39;,&#39;&lt;label for=&quot;keName&quot;&gt;&#39;+d.name+&quot;&lt;/label&gt;&quot;,&#39;&lt;input class=&quot;ke-input-text&quot; type=&quot;text&quot; id=&quot;keName&quot; name=&quot;name&quot; value=&quot;&quot; style=&quot;width:100px;&quot; /&gt;&#39;,&quot;&lt;/div&gt;&quot;,&quot;&lt;/div&gt;&quot;].join(&quot;&quot;),f=b.createDialog({name:c,width:300,title:b.lang(c),body:e,yesBtn:{name:b.lang(&quot;yes&quot;),click:function(){b.insertHtml(&#39;&lt;a name=&quot;&#39;+h.val()+&#39;&quot;&gt;&#39;).hideDialog().focus()}}}),g=f.div,h=a(&#39;input[name=&quot;name&quot;]&#39;,g),i=b.plugin.getSelectedAnchor();i&amp;&amp;h.val(unescape(i.attr(&quot;data-ke-name&quot;))),h[0].focus(),h[0].select()},&quot;delete&quot;:function(){b.plugin.getSelectedAnchor().remove()}},b.clickToolbar(c,b.plugin.anchor.edit)}),KindEditor.plugin(&quot;autoheight&quot;,function(a){function b(){var a=e.edit,b=a.doc.body;a.iframe[0].scroll=&quot;no&quot;,b.style.overflowY=&quot;hidden&quot;}function c(){if(!e.fullscreenMode){var b=e.edit,c=b.doc.body;b.iframe.height(f),e.resize(null,Math.max((a.IE?c.scrollHeight:c.offsetHeight)+76,f))}}function d(){f=a.removeUnit(e.height),e.edit.afterChange(c),e.fullscreenMode||b(),c()}var e=this;if(e.autoHeightMode){var f;e.isCreated?d():e.afterCreate(d)}}),KindEditor.plugin(&quot;baidumap&quot;,function(a){var b=this,c=&quot;baidumap&quot;,d=b.lang(c+&quot;.&quot;),e=a.undef(b.mapWidth,558),f=a.undef(b.mapHeight,360);b.clickToolbar(c,function(){function g(){h=p[0].contentWindow,i=a.iframeDoc(p)}var h,i,j=[&#39;&lt;div style=&quot;padding:10px 20px;&quot;&gt;&#39;,&#39;&lt;div class=&quot;ke-header&quot;&gt;&#39;,&#39;&lt;div class=&quot;ke-left&quot;&gt;&#39;,d.address+&#39; &lt;input id=&quot;kindeditor_plugin_map_address&quot; name=&quot;address&quot; class=&quot;ke-input-text&quot; value=&quot;&quot; style=&quot;width:200px;&quot; /&gt; &#39;,&#39;&lt;span class=&quot;ke-button-common ke-button-outer&quot;&gt;&#39;,&#39;&lt;input type=&quot;button&quot; name=&quot;searchBtn&quot; class=&quot;ke-button-common ke-button&quot; value=&quot;&#39;+d.search+&#39;&quot; /&gt;&#39;,&quot;&lt;/span&gt;&quot;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;ke-right&quot;&gt;&#39;,&#39;&lt;input type=&quot;checkbox&quot; id=&quot;keInsertDynamicMap&quot; name=&quot;insertDynamicMap&quot; value=&quot;1&quot; /&gt; &lt;label for=&quot;keInsertDynamicMap&quot;&gt;&#39;+d.insertDynamicMap+&quot;&lt;/label&gt;&quot;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;ke-clearfix&quot;&gt;&lt;/div&gt;&#39;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;ke-map&quot; style=&quot;width:&#39;+e+&quot;px;height:&quot;+f+&#39;px;&quot;&gt;&lt;/div&gt;&#39;,&quot;&lt;/div&gt;&quot;].join(&quot;&quot;),k=b.createDialog({name:c,width:e+42,title:b.lang(c),body:j,yesBtn:{name:b.lang(&quot;yes&quot;),click:function(){var a=h.map,c=a.getCenter(),d=c.lng+&quot;,&quot;+c.lat,g=a.getZoom(),i=[o[0].checked?b.pluginsPath+&quot;baidumap/index.html&quot;:&quot;http://api.map.baidu.com/staticimage&quot;,&quot;?center=&quot;+encodeURIComponent(d),&quot;&amp;zoom=&quot;+encodeURIComponent(g),&quot;&amp;width=&quot;+e,&quot;&amp;height=&quot;+f,&quot;&amp;markers=&quot;+encodeURIComponent(d),&quot;&amp;markerStyles=&quot;+encodeURIComponent(&quot;l,A&quot;)].join(&quot;&quot;);o[0].checked?b.insertHtml(&#39;&lt;iframe src=&quot;&#39;+i+&#39;&quot; frameborder=&quot;0&quot; style=&quot;width:&#39;+(e+2)+&quot;px;height:&quot;+(f+2)+&#39;px;&quot;&gt;&lt;/iframe&gt;&#39;):b.exec(&quot;insertimage&quot;,i),b.hideDialog().focus()}},beforeRemove:function(){n.remove(),i&amp;&amp;i.write(&quot;&quot;),p.remove()}}),l=k.div,m=a(&#39;[name=&quot;address&quot;]&#39;,l),n=a(&#39;[name=&quot;searchBtn&quot;]&#39;,l),o=a(&#39;[name=&quot;insertDynamicMap&quot;]&#39;,k.div),p=a(&#39;&lt;iframe class=&quot;ke-textarea&quot; frameborder=&quot;0&quot; src=&quot;&#39;+b.pluginsPath+&#39;baidumap/map.html&quot; style=&quot;width:&#39;+e+&quot;px;height:&quot;+f+&#39;px;&quot;&gt;&lt;/iframe&gt;&#39;);p.bind(&quot;load&quot;,function(){p.unbind(&quot;load&quot;),a.IE?g():setTimeout(g,0)}),a(&quot;.ke-map&quot;,l).replaceWith(p),n.click(function(){h.search(m.val())})})}),KindEditor.plugin(&quot;map&quot;,function(a){var b=this,c=&quot;map&quot;,d=b.lang(c+&quot;.&quot;);b.clickToolbar(c,function(){function e(){f=m[0].contentWindow,g=a.iframeDoc(m)}var f,g,h=[&#39;&lt;div style=&quot;padding:10px 20px;&quot;&gt;&#39;,&#39;&lt;div class=&quot;ke-dialog-row&quot;&gt;&#39;,d.address+&#39; &lt;input id=&quot;kindeditor_plugin_map_address&quot; name=&quot;address&quot; class=&quot;ke-input-text&quot; value=&quot;&quot; style=&quot;width:200px;&quot; /&gt; &#39;,&#39;&lt;span class=&quot;ke-button-common ke-button-outer&quot;&gt;&#39;,&#39;&lt;input type=&quot;button&quot; name=&quot;searchBtn&quot; class=&quot;ke-button-common ke-button&quot; value=&quot;&#39;+d.search+&#39;&quot; /&gt;&#39;,&quot;&lt;/span&gt;&quot;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;ke-map&quot; style=&quot;width:558px;height:360px;&quot;&gt;&lt;/div&gt;&#39;,&quot;&lt;/div&gt;&quot;].join(&quot;&quot;),i=b.createDialog({name:c,width:600,title:b.lang(c),body:h,yesBtn:{name:b.lang(&quot;yes&quot;),click:function(){var a=(f.geocoder,f.map),c=a.getCenter().lat()+&quot;,&quot;+a.getCenter().lng(),d=a.getZoom(),e=a.getMapTypeId(),g=&quot;http://maps.googleapis.com/maps/api/staticmap&quot;;g+=&quot;?center=&quot;+encodeURIComponent(c),g+=&quot;&amp;zoom=&quot;+encodeURIComponent(d),g+=&quot;&amp;size=558x360&quot;,g+=&quot;&amp;maptype=&quot;+encodeURIComponent(e),g+=&quot;&amp;markers=&quot;+encodeURIComponent(c),g+=&quot;&amp;language=&quot;+b.langType,g+=&quot;&amp;sensor=false&quot;,b.exec(&quot;insertimage&quot;,g).hideDialog().focus()}},beforeRemove:function(){l.remove(),g&amp;&amp;g.write(&quot;&quot;),m.remove()}}),j=i.div,k=a(&#39;[name=&quot;address&quot;]&#39;,j),l=a(&#39;[name=&quot;searchBtn&quot;]&#39;,j),m=([&quot;&lt;!doctype html&gt;&lt;html&gt;&lt;head&gt;&quot;,&#39;&lt;meta name=&quot;viewport&quot; content=&quot;initial-scale=1.0, user-scalable=no&quot; /&gt;&#39;,&quot;&lt;style&gt;&quot;,&quot;	html { height: 100% }&quot;,&quot;	body { height: 100%; margin: 0; padding: 0; background-color: #FFF }&quot;,&quot;	#map_canvas { height: 100% }&quot;,&quot;&lt;/style&gt;&quot;,&#39;&lt;script src=&quot;http://maps.googleapis.com/maps/api/js?sensor=false&amp;language=&#39;+b.langType+&#39;&quot;&gt;&lt;/script&gt;&#39;,&quot;&lt;script&gt;&quot;,&quot;var map, geocoder;&quot;,&quot;function initialize() {&quot;,&quot;	var latlng = new google.maps.LatLng(31.230393, 121.473704);&quot;,&quot;	var options = {&quot;,&quot;		zoom: 11,&quot;,&quot;		center: latlng,&quot;,&quot;		disableDefaultUI: true,&quot;,&quot;		panControl: true,&quot;,&quot;		zoomControl: true,&quot;,&quot;		mapTypeControl: true,&quot;,&quot;		scaleControl: true,&quot;,&quot;		streetViewControl: false,&quot;,&quot;		overviewMapControl: true,&quot;,&quot;		mapTypeId: google.maps.MapTypeId.ROADMAP&quot;,&quot;	};&quot;,&#39;	map = new google.maps.Map(document.getElementById(&quot;map_canvas&quot;), options);&#39;,&quot;	geocoder = new google.maps.Geocoder();&quot;,&quot;	geocoder.geocode({latLng: latlng}, function(results, status) {&quot;,&quot;		if (status == google.maps.GeocoderStatus.OK) {&quot;,&quot;			if (results[3]) {&quot;,&#39;				parent.document.getElementById(&quot;kindeditor_plugin_map_address&quot;).value = results[3].formatted_address;&#39;,&quot;			}&quot;,&quot;		}&quot;,&quot;	});&quot;,&quot;}&quot;,&quot;function search(address) {&quot;,&quot;	if (!map) return;&quot;,&quot;	geocoder.geocode({address : address}, function(results, status) {&quot;,&quot;		if (status == google.maps.GeocoderStatus.OK) {&quot;,&quot;			map.setZoom(11);&quot;,&quot;			map.setCenter(results[0].geometry.location);&quot;,&quot;			var marker = new google.maps.Marker({&quot;,&quot;				map: map,&quot;,&quot;				position: results[0].geometry.location&quot;,&quot;			});&quot;,&quot;		} else {&quot;,&#39;			alert(&quot;Invalid address: &quot; + address);&#39;,&quot;		}&quot;,&quot;	});&quot;,&quot;}&quot;,&quot;&lt;/script&gt;&quot;,&quot;&lt;/head&gt;&quot;,&#39;&lt;body onload=&quot;initialize();&quot;&gt;&#39;,&#39;&lt;div id=&quot;map_canvas&quot; style=&quot;width:100%; height:100%&quot;&gt;&lt;/div&gt;&#39;,&quot;&lt;/body&gt;&lt;/html&gt;&quot;].join(&quot;\n&quot;),a(&#39;&lt;iframe class=&quot;ke-textarea&quot; frameborder=&quot;0&quot; src=&quot;&#39;+b.pluginsPath+&#39;map/map.html&quot; style=&quot;width:558px;height:360px;&quot;&gt;&lt;/iframe&gt;&#39;));m.bind(&quot;load&quot;,function(){m.unbind(&quot;load&quot;),a.IE?e():setTimeout(e,0)}),a(&quot;.ke-map&quot;,j).replaceWith(m),l.click(function(){f.search(k.val())})})}),KindEditor.plugin(&quot;clearhtml&quot;,function(a){var b=this,c=&quot;clearhtml&quot;;b.clickToolbar(c,function(){b.focus();var c=b.html();c=c.replace(/(&lt;script[^&gt;]*&gt;)([\s\S]*?)(&lt;\/script&gt;)/gi,&quot;&quot;),c=c.replace(/(&lt;style[^&gt;]*&gt;)([\s\S]*?)(&lt;\/style&gt;)/gi,&quot;&quot;),c=a.formatHtml(c,{a:[&quot;href&quot;,&quot;target&quot;],embed:[&quot;src&quot;,&quot;width&quot;,&quot;height&quot;,&quot;type&quot;,&quot;loop&quot;,&quot;autostart&quot;,&quot;quality&quot;,&quot;.width&quot;,&quot;.height&quot;,&quot;align&quot;,&quot;allowscriptaccess&quot;],img:[&quot;src&quot;,&quot;width&quot;,&quot;height&quot;,&quot;border&quot;,&quot;alt&quot;,&quot;title&quot;,&quot;.width&quot;,&quot;.height&quot;],table:[&quot;border&quot;],&quot;td,th&quot;:[&quot;rowspan&quot;,&quot;colspan&quot;],&quot;div,hr,br,tbody,tr,p,ol,ul,li,blockquote,h1,h2,h3,h4,h5,h6&quot;:[]}),b.html(c),b.cmd.selection(!0),b.addBookmark()})}),KindEditor.plugin(&quot;code&quot;,function(a){var b=this,c=&quot;code&quot;;b.clickToolbar(c,function(){var d=b.lang(c+&quot;.&quot;),e=[&#39;&lt;div style=&quot;padding:10px 20px;&quot;&gt;&#39;,&#39;&lt;div class=&quot;ke-dialog-row&quot;&gt;&#39;,&#39;&lt;select class=&quot;ke-code-type&quot;&gt;&#39;,&#39;&lt;option value=&quot;js&quot;&gt;JavaScript&lt;/option&gt;&#39;,&#39;&lt;option value=&quot;html&quot;&gt;HTML&lt;/option&gt;&#39;,&#39;&lt;option value=&quot;css&quot;&gt;CSS&lt;/option&gt;&#39;,&#39;&lt;option value=&quot;php&quot;&gt;PHP&lt;/option&gt;&#39;,&#39;&lt;option value=&quot;pl&quot;&gt;Perl&lt;/option&gt;&#39;,&#39;&lt;option value=&quot;py&quot;&gt;Python&lt;/option&gt;&#39;,&#39;&lt;option value=&quot;rb&quot;&gt;Ruby&lt;/option&gt;&#39;,&#39;&lt;option value=&quot;java&quot;&gt;Java&lt;/option&gt;&#39;,&#39;&lt;option value=&quot;vb&quot;&gt;ASP/VB&lt;/option&gt;&#39;,&#39;&lt;option value=&quot;cpp&quot;&gt;C/C++&lt;/option&gt;&#39;,&#39;&lt;option value=&quot;cs&quot;&gt;C#&lt;/option&gt;&#39;,&#39;&lt;option value=&quot;xml&quot;&gt;XML&lt;/option&gt;&#39;,&#39;&lt;option value=&quot;bsh&quot;&gt;Shell&lt;/option&gt;&#39;,&#39;&lt;option value=&quot;&quot;&gt;Other&lt;/option&gt;&#39;,&quot;&lt;/select&gt;&quot;,&quot;&lt;/div&gt;&quot;,&#39;&lt;textarea class=&quot;ke-textarea&quot; style=&quot;width:408px;height:260px;&quot;&gt;&lt;/textarea&gt;&#39;,&quot;&lt;/div&gt;&quot;].join(&quot;&quot;),f=b.createDialog({name:c,width:450,title:b.lang(c),body:e,yesBtn:{name:b.lang(&quot;yes&quot;),click:function(){var c=a(&quot;.ke-code-type&quot;,f.div).val(),e=g.val(),h=&quot;&quot;===c?&quot;&quot;:&quot; lang-&quot;+c,i=&#39;&lt;pre class=&quot;prettyprint&#39;+h+&#39;&quot;&gt;\n&#39;+a.escape(e)+&quot;&lt;/pre&gt; &quot;;return&quot;&quot;===a.trim(e)?(alert(d.pleaseInput),void g[0].focus()):void b.insertHtml(i).hideDialog().focus()}}}),g=a(&quot;textarea&quot;,f.div);g[0].focus()})}),KindEditor.plugin(&quot;emoticons&quot;,function(a){var b=this,c=&quot;emoticons&quot;,d=b.emoticonsPath||b.pluginsPath+&quot;emoticons/images/&quot;,e=void 0===b.allowPreviewEmoticons?!0:b.allowPreviewEmoticons,f=1;b.clickToolbar(c,function(){function g(c,e,f){c.mouseover(v?function(){e&gt;r?(v.css(&quot;left&quot;,0),v.css(&quot;right&quot;,&quot;&quot;)):(v.css(&quot;left&quot;,&quot;&quot;),v.css(&quot;right&quot;,0)),w.attr(&quot;src&quot;,d+f+&quot;.gif&quot;),a(this).addClass(&quot;ke-on&quot;)}:function(){a(this).addClass(&quot;ke-on&quot;)}),c.mouseout(function(){a(this).removeClass(&quot;ke-on&quot;)}),c.click(function(a){b.insertHtml(&#39;&lt;img src=&quot;&#39;+d+f+&#39;.gif&quot; border=&quot;0&quot; alt=&quot;&quot; /&gt;&#39;).hideMenu().focus(),a.stop()})}function h(b,c){var e=document.createElement(&quot;table&quot;);c.append(e),v&amp;&amp;(a(e).mouseover(function(){v.show(&quot;block&quot;)}),a(e).mouseout(function(){v.hide()}),t.push(a(e))),e.className=&quot;ke-table&quot;,e.cellPadding=0,e.cellSpacing=0,e.border=0;for(var f=(b-1)*p+o,h=0;l&gt;h;h++)for(var i=e.insertRow(h),j=0;m&gt;j;j++){var k=a(i.insertCell(j));k.addClass(&quot;ke-cell&quot;),g(k,j,f);var n=a(&#39;&lt;span class=&quot;ke-img&quot;&gt;&lt;/span&gt;&#39;).css(&quot;background-position&quot;,&quot;-&quot;+24*f+&quot;px 0px&quot;).css(&quot;background-image&quot;,&quot;url(&quot;+d+&quot;static.gif)&quot;);k.append(n),t.push(k),f++}return e}function i(){a.each(t,function(){this.unbind()})}function j(a,b){a.click(function(a){i(),y.parentNode.removeChild(y),x.remove(),y=h(b,s),k(b),f=b,a.stop()})}function k(b){x=a(&#39;&lt;div class=&quot;ke-page&quot;&gt;&lt;/div&gt;&#39;),s.append(x);for(var c=1;q&gt;=c;c++){if(b!==c){var d=a(&#39;&lt;a href=&quot;javascript:;&quot;&gt;[&#39;+c+&quot;]&lt;/a&gt;&quot;);j(d,c),x.append(d),t.push(d)}else x.append(a(&quot;@[&quot;+c+&quot;]&quot;));x.append(a(&quot;@&amp;nbsp;&quot;))}}var l=5,m=9,n=135,o=0,p=l*m,q=Math.ceil(n/p),r=Math.floor(m/2),s=a(&#39;&lt;div class=&quot;ke-plugin-emoticons&quot;&gt;&lt;/div&gt;&#39;),t=[],u=b.createMenu({name:c,beforeRemove:function(){i()}});u.div.append(s);var v,w;e&amp;&amp;(v=a(&#39;&lt;div class=&quot;ke-preview&quot;&gt;&lt;/div&gt;&#39;).css(&quot;right&quot;,0),w=a(&#39;&lt;img class=&quot;ke-preview-img&quot; src=&quot;&#39;+d+o+&#39;.gif&quot; /&gt;&#39;),s.append(v),v.append(w));var x,y=h(f,s);k(f)})}),KindEditor.plugin(&quot;filemanager&quot;,function(a){function b(a,b,c){return a+&quot; (&quot;+Math.ceil(b/1024)+&quot;KB, &quot;+c+&quot;)&quot;}function c(a,c){c.is_dir?a.attr(&quot;title&quot;,c.filename):a.attr(&quot;title&quot;,b(c.filename,c.filesize,c.datetime))}var d=this,e=&quot;filemanager&quot;,f=a.undef(d.fileManagerJson,d.basePath+&quot;php/file_manager_json.php&quot;),g=d.pluginsPath+e+&quot;/images/&quot;,h=d.lang(e+&quot;.&quot;);d.plugin.filemanagerDialog=function(b){function i(b,c,e){var g=&quot;path=&quot;+b+&quot;&amp;order=&quot;+c+&quot;&amp;dir=&quot;+p;t.showLoading(d.lang(&quot;ajaxLoading&quot;)),a.ajax(a.addParam(f,g+&quot;&amp;&quot;+(new Date).getTime()),function(a){t.hideLoading(),e(a)})}function j(b,c,d,e){var f=a.formatUrl(c.current_url+d.filename,&quot;absolute&quot;),g=encodeURIComponent(c.current_dir_path+d.filename+&quot;/&quot;);b.click(d.is_dir?function(){i(g,y.val(),e)}:d.is_photo?function(){r.call(this,f,d.filename)}:function(){r.call(this,f,d.filename)}),z.push(b)}function k(b,c){function d(){&quot;VIEW&quot;==x.val()?i(b.current_dir_path,y.val(),m):i(b.current_dir_path,y.val(),l)}a.each(z,function(){this.unbind()}),w.unbind(),x.unbind(),y.unbind(),b.current_dir_path&amp;&amp;w.click(function(){i(b.moveup_dir_path,y.val(),c)}),x.change(d),y.change(d),v.html(&quot;&quot;)}function l(b){k(b,l);var c=document.createElement(&quot;table&quot;);c.className=&quot;ke-table&quot;,c.cellPadding=0,c.cellSpacing=0,c.border=0,v.append(c);for(var d=b.file_list,e=0,f=d.length;f&gt;e;e++){var i=d[e],m=a(c.insertRow(e));m.mouseover(function(){a(this).addClass(&quot;ke-on&quot;)}).mouseout(function(){a(this).removeClass(&quot;ke-on&quot;)});var n=g+(i.is_dir?&quot;folder-16.gif&quot;:&quot;file-16.gif&quot;),o=a(&#39;&lt;img src=&quot;&#39;+n+&#39;&quot; width=&quot;16&quot; height=&quot;16&quot; alt=&quot;&#39;+i.filename+&#39;&quot; align=&quot;absmiddle&quot; /&gt;&#39;),p=a(m[0].insertCell(0)).addClass(&quot;ke-cell ke-name&quot;).append(o).append(document.createTextNode(&quot; &quot;+i.filename));!i.is_dir||i.has_file?(m.css(&quot;cursor&quot;,&quot;pointer&quot;),p.attr(&quot;title&quot;,i.filename),j(p,b,i,l)):p.attr(&quot;title&quot;,h.emptyFolder),a(m[0].insertCell(1)).addClass(&quot;ke-cell ke-size&quot;).html(i.is_dir?&quot;-&quot;:Math.ceil(i.filesize/1024)+&quot;KB&quot;),a(m[0].insertCell(2)).addClass(&quot;ke-cell ke-datetime&quot;).html(i.datetime)}}function m(b){k(b,m);for(var d=b.file_list,e=0,f=d.length;f&gt;e;e++){var i=d[e],l=a(&#39;&lt;div class=&quot;ke-inline-block ke-item&quot;&gt;&lt;/div&gt;&#39;);v.append(l);var n=a(&#39;&lt;div class=&quot;ke-inline-block ke-photo&quot;&gt;&lt;/div&gt;&#39;).mouseover(function(){a(this).addClass(&quot;ke-on&quot;)}).mouseout(function(){a(this).removeClass(&quot;ke-on&quot;)});l.append(n);var o=b.current_url+i.filename,p=i.is_dir?g+&quot;folder-64.gif&quot;:i.is_photo?o:g+&quot;file-64.gif&quot;,q=a(&#39;&lt;img src=&quot;&#39;+p+&#39;&quot; width=&quot;80&quot; height=&quot;80&quot; alt=&quot;&#39;+i.filename+&#39;&quot; /&gt;&#39;);!i.is_dir||i.has_file?(n.css(&quot;cursor&quot;,&quot;pointer&quot;),c(n,i),j(n,b,i,m)):n.attr(&quot;title&quot;,h.emptyFolder),n.append(q),l.append(&#39;&lt;div class=&quot;ke-name&quot; title=&quot;&#39;+i.filename+&#39;&quot;&gt;&#39;+i.filename+&quot;&lt;/div&gt;&quot;)}}var n=a.undef(b.width,650),o=a.undef(b.height,510),p=a.undef(b.dirName,&quot;&quot;),q=a.undef(b.viewType,&quot;VIEW&quot;).toUpperCase(),r=b.clickFn,s=[&#39;&lt;div style=&quot;padding:10px 20px;&quot;&gt;&#39;,&#39;&lt;div class=&quot;ke-plugin-filemanager-header&quot;&gt;&#39;,&#39;&lt;div class=&quot;ke-left&quot;&gt;&#39;,&#39;&lt;img class=&quot;ke-inline-block&quot; name=&quot;moveupImg&quot; src=&quot;&#39;+g+&#39;go-up.gif&quot; width=&quot;16&quot; height=&quot;16&quot; border=&quot;0&quot; alt=&quot;&quot; /&gt; &#39;,&#39;&lt;a class=&quot;ke-inline-block&quot; name=&quot;moveupLink&quot; href=&quot;javascript:;&quot;&gt;&#39;+h.moveup+&quot;&lt;/a&gt;&quot;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;ke-right&quot;&gt;&#39;,h.viewType+&#39; &lt;select class=&quot;ke-inline-block&quot; name=&quot;viewType&quot;&gt;&#39;,&#39;&lt;option value=&quot;VIEW&quot;&gt;&#39;+h.viewImage+&quot;&lt;/option&gt;&quot;,&#39;&lt;option value=&quot;LIST&quot;&gt;&#39;+h.listImage+&quot;&lt;/option&gt;&quot;,&quot;&lt;/select&gt; &quot;,h.orderType+&#39; &lt;select class=&quot;ke-inline-block&quot; name=&quot;orderType&quot;&gt;&#39;,&#39;&lt;option value=&quot;NAME&quot;&gt;&#39;+h.fileName+&quot;&lt;/option&gt;&quot;,&#39;&lt;option value=&quot;SIZE&quot;&gt;&#39;+h.fileSize+&quot;&lt;/option&gt;&quot;,&#39;&lt;option value=&quot;TYPE&quot;&gt;&#39;+h.fileType+&quot;&lt;/option&gt;&quot;,&quot;&lt;/select&gt;&quot;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;ke-clearfix&quot;&gt;&lt;/div&gt;&#39;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;ke-plugin-filemanager-body&quot;&gt;&lt;/div&gt;&#39;,&quot;&lt;/div&gt;&quot;].join(&quot;&quot;),t=d.createDialog({name:e,width:n,height:o,title:d.lang(e),body:s}),u=t.div,v=a(&quot;.ke-plugin-filemanager-body&quot;,u),w=(a(&#39;[name=&quot;moveupImg&quot;]&#39;,u),a(&#39;[name=&quot;moveupLink&quot;]&#39;,u)),x=(a(&#39;[name=&quot;viewServer&quot;]&#39;,u),a(&#39;[name=&quot;viewType&quot;]&#39;,u)),y=a(&#39;[name=&quot;orderType&quot;]&#39;,u),z=[];return x.val(q),i(&quot;&quot;,y.val(),&quot;VIEW&quot;==q?m:l),t}}),KindEditor.plugin(&quot;flash&quot;,function(a){var b=this,c=&quot;flash&quot;,d=b.lang(c+&quot;.&quot;),e=a.undef(b.allowFlashUpload,!0),f=a.undef(b.allowFileManager,!1),g=a.undef(b.formatUploadUrl,!0),h=a.undef(b.extraFileUploadParams,{}),i=a.undef(b.filePostName,&quot;imgFile&quot;),j=a.undef(b.uploadJson,b.basePath+&quot;php/upload_json.php&quot;);b.plugin.flash={edit:function(){var k=[&#39;&lt;div style=&quot;padding:20px;&quot;&gt;&#39;,&#39;&lt;div class=&quot;ke-dialog-row&quot;&gt;&#39;,&#39;&lt;label for=&quot;keUrl&quot; style=&quot;width:60px;&quot;&gt;&#39;+d.url+&quot;&lt;/label&gt;&quot;,&#39;&lt;input class=&quot;ke-input-text&quot; type=&quot;text&quot; id=&quot;keUrl&quot; name=&quot;url&quot; value=&quot;&quot; style=&quot;width:160px;&quot; /&gt; &amp;nbsp;&#39;,&#39;&lt;input type=&quot;button&quot; class=&quot;ke-upload-button&quot; value=&quot;&#39;+d.upload+&#39;&quot; /&gt; &amp;nbsp;&#39;,&#39;&lt;span class=&quot;ke-button-common ke-button-outer&quot;&gt;&#39;,&#39;&lt;input type=&quot;button&quot; class=&quot;ke-button-common ke-button&quot; name=&quot;viewServer&quot; value=&quot;&#39;+d.viewServer+&#39;&quot; /&gt;&#39;,&quot;&lt;/span&gt;&quot;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;ke-dialog-row&quot;&gt;&#39;,&#39;&lt;label for=&quot;keWidth&quot; style=&quot;width:60px;&quot;&gt;&#39;+d.width+&quot;&lt;/label&gt;&quot;,&#39;&lt;input type=&quot;text&quot; id=&quot;keWidth&quot; class=&quot;ke-input-text ke-input-number&quot; name=&quot;width&quot; value=&quot;550&quot; maxlength=&quot;4&quot; /&gt; &#39;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;ke-dialog-row&quot;&gt;&#39;,&#39;&lt;label for=&quot;keHeight&quot; style=&quot;width:60px;&quot;&gt;&#39;+d.height+&quot;&lt;/label&gt;&quot;,&#39;&lt;input type=&quot;text&quot; id=&quot;keHeight&quot; class=&quot;ke-input-text ke-input-number&quot; name=&quot;height&quot; value=&quot;400&quot; maxlength=&quot;4&quot; /&gt; &#39;,&quot;&lt;/div&gt;&quot;,&quot;&lt;/div&gt;&quot;].join(&quot;&quot;),l=b.createDialog({name:c,width:450,title:b.lang(c),body:k,yesBtn:{name:b.lang(&quot;yes&quot;),click:function(){var c=a.trim(n.val()),d=p.val(),e=q.val();if(&quot;http://&quot;==c||a.invalidUrl(c))return alert(b.lang(&quot;invalidUrl&quot;)),void n[0].focus();if(!/^\d*$/.test(d))return alert(b.lang(&quot;invalidWidth&quot;)),void p[0].focus();if(!/^\d*$/.test(e))return alert(b.lang(&quot;invalidHeight&quot;)),void q[0].focus();var f=a.mediaImg(b.themesPath+&quot;common/blank.gif&quot;,{src:c,type:a.mediaType(&quot;.swf&quot;),width:d,height:e,quality:&quot;high&quot;});b.insertHtml(f).hideDialog().focus()}}}),m=l.div,n=a(&#39;[name=&quot;url&quot;]&#39;,m),o=a(&#39;[name=&quot;viewServer&quot;]&#39;,m),p=a(&#39;[name=&quot;width&quot;]&#39;,m),q=a(&#39;[name=&quot;height&quot;]&#39;,m);if(n.val(&quot;http://&quot;),e){var r=a.uploadbutton({button:a(&quot;.ke-upload-button&quot;,m)[0],fieldName:i,extraParams:h,url:a.addParam(j,&quot;dir=flash&quot;),afterUpload:function(d){if(l.hideLoading(),0===d.error){var e=d.url;g&amp;&amp;(e=a.formatUrl(e,&quot;absolute&quot;)),n.val(e),b.afterUpload&amp;&amp;b.afterUpload.call(b,e,d,c),alert(b.lang(&quot;uploadSuccess&quot;))}else alert(d.message)},afterError:function(a){l.hideLoading(),b.errorDialog(a)}});r.fileBox.change(function(){l.showLoading(b.lang(&quot;uploadLoading&quot;)),r.submit()})}else a(&quot;.ke-upload-button&quot;,m).hide();f?o.click(function(){b.loadPlugin(&quot;filemanager&quot;,function(){b.plugin.filemanagerDialog({viewType:&quot;LIST&quot;,dirName:&quot;flash&quot;,clickFn:function(c){b.dialogs.length&gt;1&amp;&amp;(a(&#39;[name=&quot;url&quot;]&#39;,m).val(c),b.afterSelectFile&amp;&amp;b.afterSelectFile.call(b,c),b.hideDialog())}})})}):o.hide();var s=b.plugin.getSelectedFlash();if(s){var t=a.mediaAttrs(s.attr(&quot;data-ke-tag&quot;));n.val(t.src),p.val(a.removeUnit(s.css(&quot;width&quot;))||t.width||0),q.val(a.removeUnit(s.css(&quot;height&quot;))||t.height||0)}n[0].focus(),n[0].select()},&quot;delete&quot;:function(){b.plugin.getSelectedFlash().remove(),b.addBookmark()}},b.clickToolbar(c,b.plugin.flash.edit)}),KindEditor.plugin(&quot;image&quot;,function(a){var b=this,c=&quot;image&quot;,d=a.undef(b.allowImageUpload,!0),e=a.undef(b.allowImageRemote,!0),f=a.undef(b.formatUploadUrl,!0),g=a.undef(b.allowFileManager,!1),h=a.undef(b.uploadJson,b.basePath+&quot;php/upload_json.php&quot;),i=a.undef(b.imageTabIndex,0),j=b.pluginsPath+&quot;image/images/&quot;,k=a.undef(b.extraFileUploadParams,{}),l=a.undef(b.filePostName,&quot;imgFile&quot;),m=a.undef(b.fillDescAfterUploadImage,!1),n=b.lang(c+&quot;.&quot;);b.plugin.imageDialog=function(d){function e(a,b){D.val(a),E.val(b),J=a,K=b}var i=(d.imageUrl,a.undef(d.imageWidth,&quot;&quot;),a.undef(d.imageHeight,&quot;&quot;),a.undef(d.imageTitle,&quot;&quot;),a.undef(d.imageAlign,&quot;&quot;),a.undef(d.showRemote,!0)),o=a.undef(d.showLocal,!0),p=a.undef(d.tabIndex,0),q=d.clickFn,r=&quot;kindeditor_upload_iframe_&quot;+(new Date).getTime(),s=[];for(var t in k)s.push(&#39;&lt;input type=&quot;hidden&quot; name=&quot;&#39;+t+&#39;&quot; value=&quot;&#39;+k[t]+&#39;&quot; /&gt;&#39;);var u,v=[&#39;&lt;div style=&quot;padding:20px;&quot;&gt;&#39;,&#39;&lt;div class=&quot;tabs&quot;&gt;&lt;/div&gt;&#39;,&#39;&lt;div class=&quot;tab1&quot; style=&quot;display:none;&quot;&gt;&#39;,&#39;&lt;div class=&quot;ke-dialog-row&quot;&gt;&#39;,&#39;&lt;label for=&quot;remoteUrl&quot; style=&quot;width:60px;&quot;&gt;&#39;+n.remoteUrl+&quot;&lt;/label&gt;&quot;,&#39;&lt;input type=&quot;text&quot; id=&quot;remoteUrl&quot; class=&quot;ke-input-text&quot; name=&quot;url&quot; value=&quot;&quot; style=&quot;width:200px;&quot; /&gt; &amp;nbsp;&#39;,&#39;&lt;span class=&quot;ke-button-common ke-button-outer&quot;&gt;&#39;,&#39;&lt;input type=&quot;button&quot; class=&quot;ke-button-common ke-button&quot; name=&quot;viewServer&quot; value=&quot;&#39;+n.viewServer+&#39;&quot; /&gt;&#39;,&quot;&lt;/span&gt;&quot;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;ke-dialog-row&quot;&gt;&#39;,&#39;&lt;label for=&quot;remoteWidth&quot; style=&quot;width:60px;&quot;&gt;&#39;+n.size+&quot;&lt;/label&gt;&quot;,n.width+&#39; &lt;input type=&quot;text&quot; id=&quot;remoteWidth&quot; class=&quot;ke-input-text ke-input-number&quot; name=&quot;width&quot; value=&quot;&quot; maxlength=&quot;4&quot; /&gt; &#39;,n.height+&#39; &lt;input type=&quot;text&quot; class=&quot;ke-input-text ke-input-number&quot; name=&quot;height&quot; value=&quot;&quot; maxlength=&quot;4&quot; /&gt; &#39;,&#39;&lt;img class=&quot;ke-refresh-btn&quot; src=&quot;&#39;+j+&#39;refresh.png&quot; width=&quot;16&quot; height=&quot;16&quot; alt=&quot;&quot; style=&quot;cursor:pointer;&quot; title=&quot;&#39;+n.resetSize+&#39;&quot; /&gt;&#39;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;ke-dialog-row&quot;&gt;&#39;,&#39;&lt;label style=&quot;width:60px;&quot;&gt;&#39;+n.align+&quot;&lt;/label&gt;&quot;,&#39;&lt;input type=&quot;radio&quot; name=&quot;align&quot; class=&quot;ke-inline-block&quot; value=&quot;&quot; checked=&quot;checked&quot; /&gt; &lt;img name=&quot;defaultImg&quot; src=&quot;&#39;+j+&#39;align_top.gif&quot; width=&quot;23&quot; height=&quot;25&quot; alt=&quot;&quot; /&gt;&#39;,&#39; &lt;input type=&quot;radio&quot; name=&quot;align&quot; class=&quot;ke-inline-block&quot; value=&quot;left&quot; /&gt; &lt;img name=&quot;leftImg&quot; src=&quot;&#39;+j+&#39;align_left.gif&quot; width=&quot;23&quot; height=&quot;25&quot; alt=&quot;&quot; /&gt;&#39;,&#39; &lt;input type=&quot;radio&quot; name=&quot;align&quot; class=&quot;ke-inline-block&quot; value=&quot;right&quot; /&gt; &lt;img name=&quot;rightImg&quot; src=&quot;&#39;+j+&#39;align_right.gif&quot; width=&quot;23&quot; height=&quot;25&quot; alt=&quot;&quot; /&gt;&#39;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;ke-dialog-row&quot;&gt;&#39;,&#39;&lt;label for=&quot;remoteTitle&quot; style=&quot;width:60px;&quot;&gt;&#39;+n.imgTitle+&quot;&lt;/label&gt;&quot;,&#39;&lt;input type=&quot;text&quot; id=&quot;remoteTitle&quot; class=&quot;ke-input-text&quot; name=&quot;title&quot; value=&quot;&quot; style=&quot;width:200px;&quot; /&gt;&#39;,&quot;&lt;/div&gt;&quot;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;tab2&quot; style=&quot;display:none;&quot;&gt;&#39;,&#39;&lt;iframe name=&quot;&#39;+r+&#39;&quot; style=&quot;display:none;&quot;&gt;&lt;/iframe&gt;&#39;,&#39;&lt;form class=&quot;ke-upload-area ke-form&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot; target=&quot;&#39;+r+&#39;&quot; action=&quot;&#39;+a.addParam(h,&quot;dir=image&quot;)+&#39;&quot;&gt;&#39;,&#39;&lt;div class=&quot;ke-dialog-row&quot;&gt;&#39;,s.join(&quot;&quot;),&#39;&lt;label style=&quot;width:60px;&quot;&gt;&#39;+n.localUrl+&quot;&lt;/label&gt;&quot;,&#39;&lt;input type=&quot;text&quot; name=&quot;localUrl&quot; class=&quot;ke-input-text&quot; tabindex=&quot;-1&quot; style=&quot;width:200px;&quot; readonly=&quot;true&quot; /&gt; &amp;nbsp;&#39;,&#39;&lt;input type=&quot;button&quot; class=&quot;ke-upload-button&quot; value=&quot;&#39;+n.upload+&#39;&quot; /&gt;&#39;,&quot;&lt;/div&gt;&quot;,&quot;&lt;/form&gt;&quot;,&quot;&lt;/div&gt;&quot;,&quot;&lt;/div&gt;&quot;].join(&quot;&quot;),w=o||g?450:400,x=o&amp;&amp;i?300:250,y=b.createDialog({name:c,width:w,height:x,title:b.lang(c),body:v,yesBtn:{name:b.lang(&quot;yes&quot;),click:function(){if(!y.isLoading){if(o&amp;&amp;i&amp;&amp;u&amp;&amp;1===u.selectedIndex||!i)return&quot;&quot;==I.fileBox.val()?void alert(b.lang(&quot;pleaseSelectFile&quot;)):(y.showLoading(b.lang(&quot;uploadLoading&quot;)),I.submit(),void B.val(&quot;&quot;));var c=a.trim(A.val()),d=D.val(),e=E.val(),f=G.val(),g=&quot;&quot;;return H.each(function(){return this.checked?(g=this.value,!1):void 0}),&quot;http://&quot;==c||a.invalidUrl(c)?(alert(b.lang(&quot;invalidUrl&quot;)),void A[0].focus()):/^\d*$/.test(d)?/^\d*$/.test(e)?void q.call(b,c,f,d,e,0,g):(alert(b.lang(&quot;invalidHeight&quot;)),void E[0].focus()):(alert(b.lang(&quot;invalidWidth&quot;)),void D[0].focus())}}},beforeRemove:function(){C.unbind(),D.unbind(),E.unbind(),F.unbind()}}),z=y.div,A=a(&#39;[name=&quot;url&quot;]&#39;,z),B=a(&#39;[name=&quot;localUrl&quot;]&#39;,z),C=a(&#39;[name=&quot;viewServer&quot;]&#39;,z),D=a(&#39;.tab1 [name=&quot;width&quot;]&#39;,z),E=a(&#39;.tab1 [name=&quot;height&quot;]&#39;,z),F=a(&quot;.ke-refresh-btn&quot;,z),G=a(&#39;.tab1 [name=&quot;title&quot;]&#39;,z),H=a(&#39;.tab1 [name=&quot;align&quot;]&#39;,z);</td>
      </tr>
      <tr>
        <td id="L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="LC6" class="blob-code blob-code-inner js-file-line">i&amp;&amp;o?(u=a.tabs({src:a(&quot;.tabs&quot;,z),afterSelect:function(){}}),u.add({title:n.remoteImage,panel:a(&quot;.tab1&quot;,z)}),u.add({title:n.localImage,panel:a(&quot;.tab2&quot;,z)}),u.select(p)):i?a(&quot;.tab1&quot;,z).show():o&amp;&amp;a(&quot;.tab2&quot;,z).show();var I=a.uploadbutton({button:a(&quot;.ke-upload-button&quot;,z)[0],fieldName:l,form:a(&quot;.ke-form&quot;,z),target:r,width:60,afterUpload:function(d){if(y.hideLoading(),0===d.error){var e=d.url;f&amp;&amp;(e=a.formatUrl(e,&quot;absolute&quot;)),b.afterUpload&amp;&amp;b.afterUpload.call(b,e,d,c),m?(a(&quot;.ke-dialog-row #remoteUrl&quot;,z).val(e),a(&quot;.ke-tabs-li&quot;,z)[0].click(),a(&quot;.ke-refresh-btn&quot;,z).click()):q.call(b,e,d.title,d.width,d.height,d.border,d.align)}else alert(d.message)},afterError:function(a){y.hideLoading(),b.errorDialog(a)}});I.fileBox.change(function(){B.val(I.fileBox.val())}),g?C.click(function(){b.loadPlugin(&quot;filemanager&quot;,function(){b.plugin.filemanagerDialog({viewType:&quot;VIEW&quot;,dirName:&quot;image&quot;,clickFn:function(c){b.dialogs.length&gt;1&amp;&amp;(a(&#39;[name=&quot;url&quot;]&#39;,z).val(c),b.afterSelectFile&amp;&amp;b.afterSelectFile.call(b,c),b.hideDialog())}})})}):C.hide();var J=0,K=0;return F.click(function(){var b=a(&#39;&lt;img src=&quot;&#39;+A.val()+&#39;&quot; /&gt;&#39;,document).css({position:&quot;absolute&quot;,visibility:&quot;hidden&quot;,top:0,left:&quot;-1000px&quot;});b.bind(&quot;load&quot;,function(){e(b.width(),b.height()),b.remove()}),a(document.body).append(b)}),D.change(function(){J&gt;0&amp;&amp;E.val(Math.round(K/J*parseInt(this.value,10)))}),E.change(function(){K&gt;0&amp;&amp;D.val(Math.round(J/K*parseInt(this.value,10)))}),A.val(d.imageUrl),e(d.imageWidth,d.imageHeight),G.val(d.imageTitle),H.each(function(){return this.value===d.imageAlign?(this.checked=!0,!1):void 0}),i&amp;&amp;0===p&amp;&amp;(A[0].focus(),A[0].select()),y},b.plugin.image={edit:function(){var a=b.plugin.getSelectedImage();b.plugin.imageDialog({imageUrl:a?a.attr(&quot;data-ke-src&quot;):&quot;http://&quot;,imageWidth:a?a.width():&quot;&quot;,imageHeight:a?a.height():&quot;&quot;,imageTitle:a?a.attr(&quot;title&quot;):&quot;&quot;,imageAlign:a?a.attr(&quot;align&quot;):&quot;&quot;,showRemote:e,showLocal:d,tabIndex:a?0:i,clickFn:function(c,d,e,f,g,h){a?(a.attr(&quot;src&quot;,c),a.attr(&quot;data-ke-src&quot;,c),a.attr(&quot;width&quot;,e),a.attr(&quot;height&quot;,f),a.attr(&quot;title&quot;,d),a.attr(&quot;align&quot;,h),a.attr(&quot;alt&quot;,d)):b.exec(&quot;insertimage&quot;,c,d,e,f,g,h),setTimeout(function(){b.hideDialog().focus()},0)}})},&quot;delete&quot;:function(){var a=b.plugin.getSelectedImage();&quot;a&quot;==a.parent().name&amp;&amp;(a=a.parent()),a.remove(),b.addBookmark()}},b.clickToolbar(c,b.plugin.image.edit)}),KindEditor.plugin(&quot;insertfile&quot;,function(a){var b=this,c=&quot;insertfile&quot;,d=a.undef(b.allowFileUpload,!0),e=a.undef(b.allowFileManager,!1),f=a.undef(b.formatUploadUrl,!0),g=a.undef(b.uploadJson,b.basePath+&quot;php/upload_json.php&quot;),h=a.undef(b.extraFileUploadParams,{}),i=a.undef(b.filePostName,&quot;imgFile&quot;),j=b.lang(c+&quot;.&quot;);b.plugin.fileDialog=function(k){var l=a.undef(k.fileUrl,&quot;http://&quot;),m=a.undef(k.fileTitle,&quot;&quot;),n=k.clickFn,o=[&#39;&lt;div style=&quot;padding:20px;&quot;&gt;&#39;,&#39;&lt;div class=&quot;ke-dialog-row&quot;&gt;&#39;,&#39;&lt;label for=&quot;keUrl&quot; style=&quot;width:60px;&quot;&gt;&#39;+j.url+&quot;&lt;/label&gt;&quot;,&#39;&lt;input type=&quot;text&quot; id=&quot;keUrl&quot; name=&quot;url&quot; class=&quot;ke-input-text&quot; style=&quot;width:160px;&quot; /&gt; &amp;nbsp;&#39;,&#39;&lt;input type=&quot;button&quot; class=&quot;ke-upload-button&quot; value=&quot;&#39;+j.upload+&#39;&quot; /&gt; &amp;nbsp;&#39;,&#39;&lt;span class=&quot;ke-button-common ke-button-outer&quot;&gt;&#39;,&#39;&lt;input type=&quot;button&quot; class=&quot;ke-button-common ke-button&quot; name=&quot;viewServer&quot; value=&quot;&#39;+j.viewServer+&#39;&quot; /&gt;&#39;,&quot;&lt;/span&gt;&quot;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;ke-dialog-row&quot;&gt;&#39;,&#39;&lt;label for=&quot;keTitle&quot; style=&quot;width:60px;&quot;&gt;&#39;+j.title+&quot;&lt;/label&gt;&quot;,&#39;&lt;input type=&quot;text&quot; id=&quot;keTitle&quot; class=&quot;ke-input-text&quot; name=&quot;title&quot; value=&quot;&quot; style=&quot;width:160px;&quot; /&gt;&lt;/div&gt;&#39;,&quot;&lt;/div&gt;&quot;,&quot;&lt;/form&gt;&quot;,&quot;&lt;/div&gt;&quot;].join(&quot;&quot;),p=b.createDialog({name:c,width:450,title:b.lang(c),body:o,yesBtn:{name:b.lang(&quot;yes&quot;),click:function(){var c=a.trim(r.val()),d=t.val();return&quot;http://&quot;==c||a.invalidUrl(c)?(alert(b.lang(&quot;invalidUrl&quot;)),void r[0].focus()):(&quot;&quot;===a.trim(d)&amp;&amp;(d=c),void n.call(b,c,d))}}}),q=p.div,r=a(&#39;[name=&quot;url&quot;]&#39;,q),s=a(&#39;[name=&quot;viewServer&quot;]&#39;,q),t=a(&#39;[name=&quot;title&quot;]&#39;,q);if(d){var u=a.uploadbutton({button:a(&quot;.ke-upload-button&quot;,q)[0],fieldName:i,url:a.addParam(g,&quot;dir=file&quot;),extraParams:h,afterUpload:function(d){if(p.hideLoading(),0===d.error){var e=d.url;f&amp;&amp;(e=a.formatUrl(e,&quot;absolute&quot;)),r.val(e),b.afterUpload&amp;&amp;b.afterUpload.call(b,e,d,c),alert(b.lang(&quot;uploadSuccess&quot;))}else alert(d.message)},afterError:function(a){p.hideLoading(),b.errorDialog(a)}});u.fileBox.change(function(){p.showLoading(b.lang(&quot;uploadLoading&quot;)),u.submit()})}else a(&quot;.ke-upload-button&quot;,q).hide();e?s.click(function(){b.loadPlugin(&quot;filemanager&quot;,function(){b.plugin.filemanagerDialog({viewType:&quot;LIST&quot;,dirName:&quot;file&quot;,clickFn:function(c){b.dialogs.length&gt;1&amp;&amp;(a(&#39;[name=&quot;url&quot;]&#39;,q).val(c),b.afterSelectFile&amp;&amp;b.afterSelectFile.call(b,c),b.hideDialog())}})})}):s.hide(),r.val(l),t.val(m),r[0].focus(),r[0].select()},b.clickToolbar(c,function(){b.plugin.fileDialog({clickFn:function(a,c){var d=&#39;&lt;a class=&quot;ke-insertfile&quot; href=&quot;&#39;+a+&#39;&quot; data-ke-src=&quot;&#39;+a+&#39;&quot; target=&quot;_blank&quot;&gt;&#39;+c+&quot;&lt;/a&gt;&quot;;b.insertHtml(d).hideDialog().focus()}})})}),KindEditor.plugin(&quot;lineheight&quot;,function(a){var b=this,c=&quot;lineheight&quot;,d=b.lang(c+&quot;.&quot;);b.clickToolbar(c,function(){var e=&quot;&quot;,f=b.cmd.commonNode({&quot;*&quot;:&quot;.line-height&quot;});f&amp;&amp;(e=f.css(&quot;line-height&quot;));var g=b.createMenu({name:c,width:150});a.each(d.lineHeight,function(c,d){a.each(d,function(a,c){g.addItem({title:c,checked:e===a,click:function(){b.cmd.toggle(&#39;&lt;span style=&quot;line-height:&#39;+a+&#39;;&quot;&gt;&lt;/span&gt;&#39;,{span:&quot;.line-height=&quot;+a}),b.updateState(),b.addBookmark(),b.hideMenu()}})})})})}),KindEditor.plugin(&quot;link&quot;,function(a){var b=this,c=&quot;link&quot;;b.plugin.link={edit:function(){var d=b.lang(c+&quot;.&quot;),e=&#39;&lt;div style=&quot;padding:20px;&quot;&gt;&lt;div class=&quot;ke-dialog-row&quot;&gt;&lt;label for=&quot;keUrl&quot; style=&quot;width:60px;&quot;&gt;&#39;+d.url+&#39;&lt;/label&gt;&lt;input class=&quot;ke-input-text&quot; type=&quot;text&quot; id=&quot;keUrl&quot; name=&quot;url&quot; value=&quot;&quot; style=&quot;width:260px;&quot; /&gt;&lt;/div&gt;&lt;div class=&quot;ke-dialog-row&quot;&quot;&gt;&lt;label for=&quot;keType&quot; style=&quot;width:60px;&quot;&gt;&#39;+d.linkType+&#39;&lt;/label&gt;&lt;select id=&quot;keType&quot; name=&quot;type&quot;&gt;&lt;/select&gt;&lt;/div&gt;&lt;/div&gt;&#39;,f=b.createDialog({name:c,width:450,title:b.lang(c),body:e,yesBtn:{name:b.lang(&quot;yes&quot;),click:function(){var c=a.trim(h.val());return&quot;http://&quot;==c||a.invalidUrl(c)?(alert(b.lang(&quot;invalidUrl&quot;)),void h[0].focus()):void b.exec(&quot;createlink&quot;,c,i.val()).hideDialog().focus()}}}),g=f.div,h=a(&#39;input[name=&quot;url&quot;]&#39;,g),i=a(&#39;select[name=&quot;type&quot;]&#39;,g);h.val(&quot;http://&quot;),i[0].options[0]=new Option(d.newWindow,&quot;_blank&quot;),i[0].options[1]=new Option(d.selfWindow,&quot;&quot;),b.cmd.selection();var j=b.plugin.getSelectedLink();j&amp;&amp;(b.cmd.range.selectNode(j[0]),b.cmd.select(),h.val(j.attr(&quot;data-ke-src&quot;)),i.val(j.attr(&quot;target&quot;))),h[0].focus(),h[0].select()},&quot;delete&quot;:function(){b.exec(&quot;unlink&quot;,null)}},b.clickToolbar(c,b.plugin.link.edit)}),KindEditor.plugin(&quot;media&quot;,function(a){var b=this,c=&quot;media&quot;,d=b.lang(c+&quot;.&quot;),e=a.undef(b.allowMediaUpload,!0),f=a.undef(b.allowFileManager,!1),g=a.undef(b.formatUploadUrl,!0),h=a.undef(b.extraFileUploadParams,{}),i=a.undef(b.filePostName,&quot;imgFile&quot;),j=a.undef(b.uploadJson,b.basePath+&quot;php/upload_json.php&quot;);b.plugin.media={edit:function(){var k=[&#39;&lt;div style=&quot;padding:20px;&quot;&gt;&#39;,&#39;&lt;div class=&quot;ke-dialog-row&quot;&gt;&#39;,&#39;&lt;label for=&quot;keUrl&quot; style=&quot;width:60px;&quot;&gt;&#39;+d.url+&quot;&lt;/label&gt;&quot;,&#39;&lt;input class=&quot;ke-input-text&quot; type=&quot;text&quot; id=&quot;keUrl&quot; name=&quot;url&quot; value=&quot;&quot; style=&quot;width:160px;&quot; /&gt; &amp;nbsp;&#39;,&#39;&lt;input type=&quot;button&quot; class=&quot;ke-upload-button&quot; value=&quot;&#39;+d.upload+&#39;&quot; /&gt; &amp;nbsp;&#39;,&#39;&lt;span class=&quot;ke-button-common ke-button-outer&quot;&gt;&#39;,&#39;&lt;input type=&quot;button&quot; class=&quot;ke-button-common ke-button&quot; name=&quot;viewServer&quot; value=&quot;&#39;+d.viewServer+&#39;&quot; /&gt;&#39;,&quot;&lt;/span&gt;&quot;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;ke-dialog-row&quot;&gt;&#39;,&#39;&lt;label for=&quot;keWidth&quot; style=&quot;width:60px;&quot;&gt;&#39;+d.width+&quot;&lt;/label&gt;&quot;,&#39;&lt;input type=&quot;text&quot; id=&quot;keWidth&quot; class=&quot;ke-input-text ke-input-number&quot; name=&quot;width&quot; value=&quot;550&quot; maxlength=&quot;4&quot; /&gt;&#39;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;ke-dialog-row&quot;&gt;&#39;,&#39;&lt;label for=&quot;keHeight&quot; style=&quot;width:60px;&quot;&gt;&#39;+d.height+&quot;&lt;/label&gt;&quot;,&#39;&lt;input type=&quot;text&quot; id=&quot;keHeight&quot; class=&quot;ke-input-text ke-input-number&quot; name=&quot;height&quot; value=&quot;400&quot; maxlength=&quot;4&quot; /&gt;&#39;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;ke-dialog-row&quot;&gt;&#39;,&#39;&lt;label for=&quot;keAutostart&quot;&gt;&#39;+d.autostart+&quot;&lt;/label&gt;&quot;,&#39;&lt;input type=&quot;checkbox&quot; id=&quot;keAutostart&quot; name=&quot;autostart&quot; value=&quot;&quot; /&gt; &#39;,&quot;&lt;/div&gt;&quot;,&quot;&lt;/div&gt;&quot;].join(&quot;&quot;),l=b.createDialog({name:c,width:450,height:230,title:b.lang(c),body:k,yesBtn:{name:b.lang(&quot;yes&quot;),click:function(){var c=a.trim(n.val()),d=p.val(),e=q.val();if(&quot;http://&quot;==c||a.invalidUrl(c))return alert(b.lang(&quot;invalidUrl&quot;)),void n[0].focus();if(!/^\d*$/.test(d))return alert(b.lang(&quot;invalidWidth&quot;)),void p[0].focus();if(!/^\d*$/.test(e))return alert(b.lang(&quot;invalidHeight&quot;)),void q[0].focus();var f=a.mediaImg(b.themesPath+&quot;common/blank.gif&quot;,{src:c,type:a.mediaType(c),width:d,height:e,autostart:r[0].checked?&quot;true&quot;:&quot;false&quot;,loop:&quot;true&quot;});b.insertHtml(f).hideDialog().focus()}}}),m=l.div,n=a(&#39;[name=&quot;url&quot;]&#39;,m),o=a(&#39;[name=&quot;viewServer&quot;]&#39;,m),p=a(&#39;[name=&quot;width&quot;]&#39;,m),q=a(&#39;[name=&quot;height&quot;]&#39;,m),r=a(&#39;[name=&quot;autostart&quot;]&#39;,m);if(n.val(&quot;http://&quot;),e){var s=a.uploadbutton({button:a(&quot;.ke-upload-button&quot;,m)[0],fieldName:i,extraParams:h,url:a.addParam(j,&quot;dir=media&quot;),afterUpload:function(d){if(l.hideLoading(),0===d.error){var e=d.url;g&amp;&amp;(e=a.formatUrl(e,&quot;absolute&quot;)),n.val(e),b.afterUpload&amp;&amp;b.afterUpload.call(b,e,d,c),alert(b.lang(&quot;uploadSuccess&quot;))}else alert(d.message)},afterError:function(a){l.hideLoading(),b.errorDialog(a)}});s.fileBox.change(function(){l.showLoading(b.lang(&quot;uploadLoading&quot;)),s.submit()})}else a(&quot;.ke-upload-button&quot;,m).hide();f?o.click(function(){b.loadPlugin(&quot;filemanager&quot;,function(){b.plugin.filemanagerDialog({viewType:&quot;LIST&quot;,dirName:&quot;media&quot;,clickFn:function(c){b.dialogs.length&gt;1&amp;&amp;(a(&#39;[name=&quot;url&quot;]&#39;,m).val(c),b.afterSelectFile&amp;&amp;b.afterSelectFile.call(b,c),b.hideDialog())}})})}):o.hide();var t=b.plugin.getSelectedMedia();if(t){var u=a.mediaAttrs(t.attr(&quot;data-ke-tag&quot;));n.val(u.src),p.val(a.removeUnit(t.css(&quot;width&quot;))||u.width||0),q.val(a.removeUnit(t.css(&quot;height&quot;))||u.height||0),r[0].checked=&quot;true&quot;===u.autostart}n[0].focus(),n[0].select()},&quot;delete&quot;:function(){b.plugin.getSelectedMedia().remove(),b.addBookmark()}},b.clickToolbar(c,b.plugin.media.edit)}),function(a){function b(a){this.init(a)}a.extend(b,{init:function(b){function c(b,c){a(&quot;.ke-status &gt; div&quot;,b).hide(),a(&quot;.ke-message&quot;,b).addClass(&quot;ke-error&quot;).show().html(a.escape(c))}var d=this;b.afterError=b.afterError||function(a){alert(a)},d.options=b,d.progressbars={},d.div=a(b.container).html([&#39;&lt;div class=&quot;ke-swfupload&quot;&gt;&#39;,&#39;&lt;div class=&quot;ke-swfupload-top&quot;&gt;&#39;,&#39;&lt;div class=&quot;ke-inline-block ke-swfupload-button&quot;&gt;&#39;,&#39;&lt;input type=&quot;button&quot; value=&quot;Browse&quot; /&gt;&#39;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;ke-inline-block ke-swfupload-desc&quot;&gt;&#39;+b.uploadDesc+&quot;&lt;/div&gt;&quot;,&#39;&lt;span class=&quot;ke-button-common ke-button-outer ke-swfupload-startupload&quot;&gt;&#39;,&#39;&lt;input type=&quot;button&quot; class=&quot;ke-button-common ke-button&quot; value=&quot;&#39;+b.startButtonValue+&#39;&quot; /&gt;&#39;,&quot;&lt;/span&gt;&quot;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;ke-swfupload-body&quot;&gt;&lt;/div&gt;&#39;,&quot;&lt;/div&gt;&quot;].join(&quot;&quot;)),d.bodyDiv=a(&quot;.ke-swfupload-body&quot;,d.div);var e={debug:!1,upload_url:b.uploadUrl,flash_url:b.flashUrl,file_post_name:b.filePostName,button_placeholder:a(&quot;.ke-swfupload-button &gt; input&quot;,d.div)[0],button_image_url:b.buttonImageUrl,button_width:b.buttonWidth,button_height:b.buttonHeight,button_cursor:SWFUpload.CURSOR.HAND,file_types:b.fileTypes,file_types_description:b.fileTypesDesc,file_upload_limit:b.fileUploadLimit,file_size_limit:b.fileSizeLimit,post_params:b.postParams,file_queued_handler:function(a){a.url=d.options.fileIconUrl,d.appendFile(a)},file_queue_error_handler:function(c,d){var e=&quot;&quot;;switch(d){case SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED:e=b.queueLimitExceeded;break;case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:e=b.fileExceedsSizeLimit;break;case SWFUpload.QUEUE_ERROR.ZERO_BYTE_FILE:e=b.zeroByteFile;break;case SWFUpload.QUEUE_ERROR.INVALID_FILETYPE:e=b.invalidFiletype;break;default:e=b.unknownError}a.DEBUG&amp;&amp;alert(e)},upload_start_handler:function(b){var c=this,d=a(&#39;div[data-id=&quot;&#39;+b.id+&#39;&quot;]&#39;,c.bodyDiv);a(&quot;.ke-status &gt; div&quot;,d).hide(),a(&quot;.ke-progressbar&quot;,d).show()},upload_progress_handler:function(a,b,c){var e=Math.round(100*b/c),f=d.progressbars[a.id];f.bar.css(&quot;width&quot;,Math.round(80*e/100)+&quot;px&quot;),f.percent.html(e+&quot;%&quot;)},upload_error_handler:function(b){if(b&amp;&amp;b.filestatus==SWFUpload.FILE_STATUS.ERROR){var e=a(&#39;div[data-id=&quot;&#39;+b.id+&#39;&quot;]&#39;,d.bodyDiv).eq(0);c(e,d.options.errorMessage)}},upload_success_handler:function(b,e){var f=a(&#39;div[data-id=&quot;&#39;+b.id+&#39;&quot;]&#39;,d.bodyDiv).eq(0),g={};try{g=a.json(e)}catch(h){d.options.afterError.call(this,&quot;&lt;!doctype html&gt;&lt;html&gt;&quot;+e+&quot;&lt;/html&gt;&quot;)}return 0!==g.error?void c(f,a.DEBUG?g.message:d.options.errorMessage):(b.url=g.url,a(&quot;.ke-img&quot;,f).attr(&quot;src&quot;,b.url).attr(&quot;data-status&quot;,b.filestatus).data(&quot;data&quot;,g),void a(&quot;.ke-status &gt; div&quot;,f).hide())}};d.swfu=new SWFUpload(e),a(&quot;.ke-swfupload-startupload input&quot;,d.div).click(function(){d.swfu.startUpload()})},getUrlList:function(){var b=[];return a(&quot;.ke-img&quot;,self.bodyDiv).each(function(){var c=a(this),d=c.attr(&quot;data-status&quot;);d==SWFUpload.FILE_STATUS.COMPLETE&amp;&amp;b.push(c.data(&quot;data&quot;))}),b},removeFile:function(b){var c=this;c.swfu.cancelUpload(b);var d=a(&#39;div[data-id=&quot;&#39;+b+&#39;&quot;]&#39;,c.bodyDiv);a(&quot;.ke-photo&quot;,d).unbind(),a(&quot;.ke-delete&quot;,d).unbind(),d.remove()},removeFiles:function(){var b=this;a(&quot;.ke-item&quot;,b.bodyDiv).each(function(){b.removeFile(a(this).attr(&quot;data-id&quot;))})},appendFile:function(b){var c=this,d=a(&#39;&lt;div class=&quot;ke-inline-block ke-item&quot; data-id=&quot;&#39;+b.id+&#39;&quot;&gt;&lt;/div&gt;&#39;);c.bodyDiv.append(d);var e=a(&#39;&lt;div class=&quot;ke-inline-block ke-photo&quot;&gt;&lt;/div&gt;&#39;).mouseover(function(){a(this).addClass(&quot;ke-on&quot;)}).mouseout(function(){a(this).removeClass(&quot;ke-on&quot;)});d.append(e);var f=a(&#39;&lt;img src=&quot;&#39;+b.url+&#39;&quot; class=&quot;ke-img&quot; data-status=&quot;&#39;+b.filestatus+&#39;&quot; width=&quot;80&quot; height=&quot;80&quot; alt=&quot;&#39;+b.name+&#39;&quot; /&gt;&#39;);e.append(f),a(&#39;&lt;span class=&quot;ke-delete&quot;&gt;&lt;/span&gt;&#39;).appendTo(e).click(function(){c.removeFile(b.id)});var g=a(&#39;&lt;div class=&quot;ke-status&quot;&gt;&lt;/div&gt;&#39;).appendTo(e);a([&#39;&lt;div class=&quot;ke-progressbar&quot;&gt;&#39;,&#39;&lt;div class=&quot;ke-progressbar-bar&quot;&gt;&lt;div class=&quot;ke-progressbar-bar-inner&quot;&gt;&lt;/div&gt;&lt;/div&gt;&#39;,&#39;&lt;div class=&quot;ke-progressbar-percent&quot;&gt;0%&lt;/div&gt;&lt;/div&gt;&#39;].join(&quot;&quot;)).hide().appendTo(g),a(&#39;&lt;div class=&quot;ke-message&quot;&gt;&#39;+c.options.pendingMessage+&quot;&lt;/div&gt;&quot;).appendTo(g),d.append(&#39;&lt;div class=&quot;ke-name&quot;&gt;&#39;+b.name+&quot;&lt;/div&gt;&quot;),c.progressbars[b.id]={bar:a(&quot;.ke-progressbar-bar-inner&quot;,e),percent:a(&quot;.ke-progressbar-percent&quot;,e)}},remove:function(){this.removeFiles(),this.swfu.destroy(),this.div.html(&quot;&quot;)}}),a.swfupload=function(a,c){return new b(a,c)}}(KindEditor),KindEditor.plugin(&quot;multiimage&quot;,function(a){var b=this,c=&quot;multiimage&quot;,d=(a.undef(b.formatUploadUrl,!0),a.undef(b.uploadJson,b.basePath+&quot;php/upload_json.php&quot;)),e=b.pluginsPath+&quot;multiimage/images/&quot;,f=a.undef(b.imageSizeLimit,&quot;1MB&quot;),g=(a.undef(b.imageFileTypes,&quot;*.jpg;*.gif;*.png&quot;),a.undef(b.imageUploadLimit,20)),h=a.undef(b.filePostName,&quot;imgFile&quot;),i=b.lang(c+&quot;.&quot;);b.plugin.multiImageDialog=function(j){var k=j.clickFn,l=a.tmpl(i.uploadDesc,{uploadLimit:g,sizeLimit:f}),m=[&#39;&lt;div style=&quot;padding:20px;&quot;&gt;&#39;,&#39;&lt;div class=&quot;swfupload&quot;&gt;&#39;,&quot;&lt;/div&gt;&quot;,&quot;&lt;/div&gt;&quot;].join(&quot;&quot;),n=b.createDialog({name:c,width:650,height:510,title:b.lang(c),body:m,previewBtn:{name:i.insertAll,click:function(){k.call(b,p.getUrlList())}},yesBtn:{name:i.clearAll,click:function(){p.removeFiles()}},beforeRemove:function(){(!a.IE||a.V&lt;=8)&amp;&amp;p.remove()}}),o=n.div,p=a.swfupload({container:a(&quot;.swfupload&quot;,o),buttonImageUrl:e+(&quot;zh-CN&quot;==b.langType?&quot;select-files-zh-CN.png&quot;:&quot;select-files-en.png&quot;),buttonWidth:&quot;zh-CN&quot;==b.langType?72:88,buttonHeight:23,fileIconUrl:e+&quot;image.png&quot;,uploadDesc:l,startButtonValue:i.startUpload,uploadUrl:a.addParam(d,&quot;dir=image&quot;),flashUrl:e+&quot;swfupload.swf&quot;,filePostName:h,fileTypes:&quot;*.jpg;*.jpeg;*.gif;*.png;*.bmp&quot;,fileTypesDesc:&quot;Image Files&quot;,fileUploadLimit:g,fileSizeLimit:f,postParams:a.undef(b.extraFileUploadParams,{}),queueLimitExceeded:i.queueLimitExceeded,fileExceedsSizeLimit:i.fileExceedsSizeLimit,zeroByteFile:i.zeroByteFile,invalidFiletype:i.invalidFiletype,unknownError:i.unknownError,pendingMessage:i.pending,errorMessage:i.uploadError,afterError:function(a){b.errorDialog(a)}});return n},b.clickToolbar(c,function(){b.plugin.multiImageDialog({clickFn:function(c){0!==c.length&amp;&amp;(a.each(c,function(a,c){b.afterUpload&amp;&amp;b.afterUpload.call(b,c.url,c,&quot;multiimage&quot;),b.exec(&quot;insertimage&quot;,c.url,c.title,c.width,c.height,c.border,c.align)}),setTimeout(function(){b.hideDialog().focus()},0))}})})}),function(){window.SWFUpload=function(a){this.initSWFUpload(a)},SWFUpload.prototype.initSWFUpload=function(a){try{this.customSettings={},this.settings=a,this.eventQueue=[],this.movieName=&quot;KindEditor_SWFUpload_&quot;+SWFUpload.movieCount++,this.movieElement=null,SWFUpload.instances[this.movieName]=this,this.initSettings(),this.loadFlash(),this.displayDebugInfo()}catch(b){throw delete SWFUpload.instances[this.movieName],b}},SWFUpload.instances={},SWFUpload.movieCount=0,SWFUpload.version=&quot;2.2.0 2009-03-25&quot;,SWFUpload.QUEUE_ERROR={QUEUE_LIMIT_EXCEEDED:-100,FILE_EXCEEDS_SIZE_LIMIT:-110,ZERO_BYTE_FILE:-120,INVALID_FILETYPE:-130},SWFUpload.UPLOAD_ERROR={HTTP_ERROR:-200,MISSING_UPLOAD_URL:-210,IO_ERROR:-220,SECURITY_ERROR:-230,UPLOAD_LIMIT_EXCEEDED:-240,UPLOAD_FAILED:-250,SPECIFIED_FILE_ID_NOT_FOUND:-260,FILE_VALIDATION_FAILED:-270,FILE_CANCELLED:-280,UPLOAD_STOPPED:-290},SWFUpload.FILE_STATUS={QUEUED:-1,IN_PROGRESS:-2,ERROR:-3,COMPLETE:-4,CANCELLED:-5},SWFUpload.BUTTON_ACTION={SELECT_FILE:-100,SELECT_FILES:-110,START_UPLOAD:-120},SWFUpload.CURSOR={ARROW:-1,HAND:-2},SWFUpload.WINDOW_MODE={WINDOW:&quot;window&quot;,TRANSPARENT:&quot;transparent&quot;,OPAQUE:&quot;opaque&quot;},SWFUpload.completeURL=function(a){if(&quot;string&quot;!=typeof a||a.match(/^https?:\/\//i)||a.match(/^\//))return a;var b,c=(window.location.protocol+&quot;//&quot;+window.location.hostname+(window.location.port?&quot;:&quot;+window.location.port:&quot;&quot;),window.location.pathname.lastIndexOf(&quot;/&quot;));return b=0&gt;=c?&quot;/&quot;:window.location.pathname.substr(0,c)+&quot;/&quot;,b+a},SWFUpload.prototype.initSettings=function(){this.ensureDefault=function(a,b){this.settings[a]=void 0==this.settings[a]?b:this.settings[a]},this.ensureDefault(&quot;upload_url&quot;,&quot;&quot;),this.ensureDefault(&quot;preserve_relative_urls&quot;,!1),this.ensureDefault(&quot;file_post_name&quot;,&quot;Filedata&quot;),this.ensureDefault(&quot;post_params&quot;,{}),this.ensureDefault(&quot;use_query_string&quot;,!1),this.ensureDefault(&quot;requeue_on_error&quot;,!1),this.ensureDefault(&quot;http_success&quot;,[]),this.ensureDefault(&quot;assume_success_timeout&quot;,0),this.ensureDefault(&quot;file_types&quot;,&quot;*.*&quot;),this.ensureDefault(&quot;file_types_description&quot;,&quot;All Files&quot;),this.ensureDefault(&quot;file_size_limit&quot;,0),this.ensureDefault(&quot;file_upload_limit&quot;,0),this.ensureDefault(&quot;file_queue_limit&quot;,0),this.ensureDefault(&quot;flash_url&quot;,&quot;swfupload.swf&quot;),this.ensureDefault(&quot;prevent_swf_caching&quot;,!0),this.ensureDefault(&quot;button_image_url&quot;,&quot;&quot;),this.ensureDefault(&quot;button_width&quot;,1),this.ensureDefault(&quot;button_height&quot;,1),this.ensureDefault(&quot;button_text&quot;,&quot;&quot;),this.ensureDefault(&quot;button_text_style&quot;,&quot;color: #000000; font-size: 16pt;&quot;),this.ensureDefault(&quot;button_text_top_padding&quot;,0),this.ensureDefault(&quot;button_text_left_padding&quot;,0),this.ensureDefault(&quot;button_action&quot;,SWFUpload.BUTTON_ACTION.SELECT_FILES),this.ensureDefault(&quot;button_disabled&quot;,!1),this.ensureDefault(&quot;button_placeholder_id&quot;,&quot;&quot;),this.ensureDefault(&quot;button_placeholder&quot;,null),this.ensureDefault(&quot;button_cursor&quot;,SWFUpload.CURSOR.ARROW),this.ensureDefault(&quot;button_window_mode&quot;,SWFUpload.WINDOW_MODE.WINDOW),this.ensureDefault(&quot;debug&quot;,!1),this.settings.debug_enabled=this.settings.debug,this.settings.return_upload_start_handler=this.returnUploadStart,this.ensureDefault(&quot;swfupload_loaded_handler&quot;,null),this.ensureDefault(&quot;file_dialog_start_handler&quot;,null),this.ensureDefault(&quot;file_queued_handler&quot;,null),this.ensureDefault(&quot;file_queue_error_handler&quot;,null),this.ensureDefault(&quot;file_dialog_complete_handler&quot;,null),this.ensureDefault(&quot;upload_start_handler&quot;,null),this.ensureDefault(&quot;upload_progress_handler&quot;,null),this.ensureDefault(&quot;upload_error_handler&quot;,null),this.ensureDefault(&quot;upload_success_handler&quot;,null),this.ensureDefault(&quot;upload_complete_handler&quot;,null),this.ensureDefault(&quot;debug_handler&quot;,this.debugMessage),this.ensureDefault(&quot;custom_settings&quot;,{}),this.customSettings=this.settings.custom_settings,this.settings.prevent_swf_caching&amp;&amp;(this.settings.flash_url=this.settings.flash_url+(this.settings.flash_url.indexOf(&quot;?&quot;)&lt;0?&quot;?&quot;:&quot;&amp;&quot;)+&quot;preventswfcaching=&quot;+(new Date).getTime()),this.settings.preserve_relative_urls||(this.settings.upload_url=SWFUpload.completeURL(this.settings.upload_url),this.settings.button_image_url=SWFUpload.completeURL(this.settings.button_image_url)),delete this.ensureDefault},SWFUpload.prototype.loadFlash=function(){var a,b;if(null!==document.getElementById(this.movieName))throw&quot;ID &quot;+this.movieName+&quot; is already in use. The Flash Object could not be added&quot;;if(a=document.getElementById(this.settings.button_placeholder_id)||this.settings.button_placeholder,void 0==a)throw&quot;Could not find the placeholder element: &quot;+this.settings.button_placeholder_id;b=document.createElement(&quot;div&quot;),b.innerHTML=this.getFlashHTML(),a.parentNode.replaceChild(b.firstChild,a),void 0==window[this.movieName]&amp;&amp;(window[this.movieName]=this.getMovieElement())},SWFUpload.prototype.getFlashHTML=function(){var a=&quot;&quot;;return KindEditor.IE&amp;&amp;KindEditor.V&gt;8&amp;&amp;(a=&#39; classid = &quot;clsid:d27cdb6e-ae6d-11cf-96b8-444553540000&quot;&#39;),[&#39;&lt;object id=&quot;&#39;,this.movieName,&#39;&quot;&#39;+a+&#39; type=&quot;application/x-shockwave-flash&quot; data=&quot;&#39;,this.settings.flash_url,&#39;&quot; width=&quot;&#39;,this.settings.button_width,&#39;&quot; height=&quot;&#39;,this.settings.button_height,&#39;&quot; class=&quot;swfupload&quot;&gt;&#39;,&#39;&lt;param name=&quot;wmode&quot; value=&quot;&#39;,this.settings.button_window_mode,&#39;&quot; /&gt;&#39;,&#39;&lt;param name=&quot;movie&quot; value=&quot;&#39;,this.settings.flash_url,&#39;&quot; /&gt;&#39;,&#39;&lt;param name=&quot;quality&quot; value=&quot;high&quot; /&gt;&#39;,&#39;&lt;param name=&quot;menu&quot; value=&quot;false&quot; /&gt;&#39;,&#39;&lt;param name=&quot;allowScriptAccess&quot; value=&quot;always&quot; /&gt;&#39;,&#39;&lt;param name=&quot;flashvars&quot; value=&quot;&#39;+this.getFlashVars()+&#39;&quot; /&gt;&#39;,&quot;&lt;/object&gt;&quot;].join(&quot;&quot;)},SWFUpload.prototype.getFlashVars=function(){var a=this.buildParamString(),b=this.settings.http_success.join(&quot;,&quot;);return[&quot;movieName=&quot;,encodeURIComponent(this.movieName),&quot;&amp;amp;uploadURL=&quot;,encodeURIComponent(this.settings.upload_url),&quot;&amp;amp;useQueryString=&quot;,encodeURIComponent(this.settings.use_query_string),&quot;&amp;amp;requeueOnError=&quot;,encodeURIComponent(this.settings.requeue_on_error),&quot;&amp;amp;httpSuccess=&quot;,encodeURIComponent(b),&quot;&amp;amp;assumeSuccessTimeout=&quot;,encodeURIComponent(this.settings.assume_success_timeout),&quot;&amp;amp;params=&quot;,encodeURIComponent(a),&quot;&amp;amp;filePostName=&quot;,encodeURIComponent(this.settings.file_post_name),&quot;&amp;amp;fileTypes=&quot;,encodeURIComponent(this.settings.file_types),&quot;&amp;amp;fileTypesDescription=&quot;,encodeURIComponent(this.settings.file_types_description),&quot;&amp;amp;fileSizeLimit=&quot;,encodeURIComponent(this.settings.file_size_limit),&quot;&amp;amp;fileUploadLimit=&quot;,encodeURIComponent(this.settings.file_upload_limit),&quot;&amp;amp;fileQueueLimit=&quot;,encodeURIComponent(this.settings.file_queue_limit),&quot;&amp;amp;debugEnabled=&quot;,encodeURIComponent(this.settings.debug_enabled),&quot;&amp;amp;buttonImageURL=&quot;,encodeURIComponent(this.settings.button_image_url),&quot;&amp;amp;buttonWidth=&quot;,encodeURIComponent(this.settings.button_width),&quot;&amp;amp;buttonHeight=&quot;,encodeURIComponent(this.settings.button_height),&quot;&amp;amp;buttonText=&quot;,encodeURIComponent(this.settings.button_text),&quot;&amp;amp;buttonTextTopPadding=&quot;,encodeURIComponent(this.settings.button_text_top_padding),&quot;&amp;amp;buttonTextLeftPadding=&quot;,encodeURIComponent(this.settings.button_text_left_padding),&quot;&amp;amp;buttonTextStyle=&quot;,encodeURIComponent(this.settings.button_text_style),&quot;&amp;amp;buttonAction=&quot;,encodeURIComponent(this.settings.button_action),&quot;&amp;amp;buttonDisabled=&quot;,encodeURIComponent(this.settings.button_disabled),&quot;&amp;amp;buttonCursor=&quot;,encodeURIComponent(this.settings.button_cursor)].join(&quot;&quot;)},SWFUpload.prototype.getMovieElement=function(){if(void 0==this.movieElement&amp;&amp;(this.movieElement=document.getElementById(this.movieName)),null===this.movieElement)throw&quot;Could not find Flash element&quot;;return this.movieElement},SWFUpload.prototype.buildParamString=function(){var a=this.settings.post_params,b=[];if(&quot;object&quot;==typeof a)for(var c in a)a.hasOwnProperty(c)&amp;&amp;b.push(encodeURIComponent(c.toString())+&quot;=&quot;+encodeURIComponent(a[c].toString()));return b.join(&quot;&amp;amp;&quot;)},SWFUpload.prototype.destroy=function(){try{this.cancelUpload(null,!1);var a=null;if(a=this.getMovieElement(),a&amp;&amp;&quot;unknown&quot;==typeof a.CallFunction){for(var b in a)try{&quot;function&quot;==typeof a[b]&amp;&amp;(a[b]=null)}catch(c){}try{a.parentNode.removeChild(a)}catch(d){}}return window[this.movieName]=null,SWFUpload.instances[this.movieName]=null,delete SWFUpload.instances[this.movieName],this.movieElement=null,this.settings=null,this.customSettings=null,this.eventQueue=null,this.movieName=null,!0}catch(e){return!1}},SWFUpload.prototype.displayDebugInfo=function(){this.debug([&quot;---SWFUpload Instance Info---\n&quot;,&quot;Version: &quot;,SWFUpload.version,&quot;\n&quot;,&quot;Movie Name: &quot;,this.movieName,&quot;\n&quot;,&quot;Settings:\n&quot;,&quot;	&quot;,&quot;upload_url:               &quot;,this.settings.upload_url,&quot;\n&quot;,&quot;	&quot;,&quot;flash_url:                &quot;,this.settings.flash_url,&quot;\n&quot;,&quot;	&quot;,&quot;use_query_string:         &quot;,this.settings.use_query_string.toString(),&quot;\n&quot;,&quot;	&quot;,&quot;requeue_on_error:         &quot;,this.settings.requeue_on_error.toString(),&quot;\n&quot;,&quot;	&quot;,&quot;http_success:             &quot;,this.settings.http_success.join(&quot;, &quot;),&quot;\n&quot;,&quot;	&quot;,&quot;assume_success_timeout:   &quot;,this.settings.assume_success_timeout,&quot;\n&quot;,&quot;	&quot;,&quot;file_post_name:           &quot;,this.settings.file_post_name,&quot;\n&quot;,&quot;	&quot;,&quot;post_params:              &quot;,this.settings.post_params.toString(),&quot;\n&quot;,&quot;	&quot;,&quot;file_types:               &quot;,this.settings.file_types,&quot;\n&quot;,&quot;	&quot;,&quot;file_types_description:   &quot;,this.settings.file_types_description,&quot;\n&quot;,&quot;	&quot;,&quot;file_size_limit:          &quot;,this.settings.file_size_limit,&quot;\n&quot;,&quot;	&quot;,&quot;file_upload_limit:        &quot;,this.settings.file_upload_limit,&quot;\n&quot;,&quot;	&quot;,&quot;file_queue_limit:         &quot;,this.settings.file_queue_limit,&quot;\n&quot;,&quot;	&quot;,&quot;debug:                    &quot;,this.settings.debug.toString(),&quot;\n&quot;,&quot;	&quot;,&quot;prevent_swf_caching:      &quot;,this.settings.prevent_swf_caching.toString(),&quot;\n&quot;,&quot;	&quot;,&quot;button_placeholder_id:    &quot;,this.settings.button_placeholder_id.toString(),&quot;\n&quot;,&quot;	&quot;,&quot;button_placeholder:       &quot;,this.settings.button_placeholder?&quot;Set&quot;:&quot;Not Set&quot;,&quot;\n&quot;,&quot;	&quot;,&quot;button_image_url:         &quot;,this.settings.button_image_url.toString(),&quot;\n&quot;,&quot;	&quot;,&quot;button_width:             &quot;,this.settings.button_width.toString(),&quot;\n&quot;,&quot;	&quot;,&quot;button_height:            &quot;,this.settings.button_height.toString(),&quot;\n&quot;,&quot;	&quot;,&quot;button_text:              &quot;,this.settings.button_text.toString(),&quot;\n&quot;,&quot;	&quot;,&quot;button_text_style:        &quot;,this.settings.button_text_style.toString(),&quot;\n&quot;,&quot;	&quot;,&quot;button_text_top_padding:  &quot;,this.settings.button_text_top_padding.toString(),&quot;\n&quot;,&quot;	&quot;,&quot;button_text_left_padding: &quot;,this.settings.button_text_left_padding.toString(),&quot;\n&quot;,&quot;	&quot;,&quot;button_action:            &quot;,this.settings.button_action.toString(),&quot;\n&quot;,&quot;	&quot;,&quot;button_disabled:          &quot;,this.settings.button_disabled.toString(),&quot;\n&quot;,&quot;	&quot;,&quot;custom_settings:          &quot;,this.settings.custom_settings.toString(),&quot;\n&quot;,&quot;Event Handlers:\n&quot;,&quot;	&quot;,&quot;swfupload_loaded_handler assigned:  &quot;,(&quot;function&quot;==typeof this.settings.swfupload_loaded_handler).toString(),&quot;\n&quot;,&quot;	&quot;,&quot;file_dialog_start_handler assigned: &quot;,(&quot;function&quot;==typeof this.settings.file_dialog_start_handler).toString(),&quot;\n&quot;,&quot;	&quot;,&quot;file_queued_handler assigned:       &quot;,(&quot;function&quot;==typeof this.settings.file_queued_handler).toString(),&quot;\n&quot;,&quot;	&quot;,&quot;file_queue_error_handler assigned:  &quot;,(&quot;function&quot;==typeof this.settings.file_queue_error_handler).toString(),&quot;\n&quot;,&quot;	&quot;,&quot;upload_start_handler assigned:      &quot;,(&quot;function&quot;==typeof this.settings.upload_start_handler).toString(),&quot;\n&quot;,&quot;	&quot;,&quot;upload_progress_handler assigned:   &quot;,(&quot;function&quot;==typeof this.settings.upload_progress_handler).toString(),&quot;\n&quot;,&quot;	&quot;,&quot;upload_error_handler assigned:      &quot;,(&quot;function&quot;==typeof this.settings.upload_error_handler).toString(),&quot;\n&quot;,&quot;	&quot;,&quot;upload_success_handler assigned:    &quot;,(&quot;function&quot;==typeof this.settings.upload_success_handler).toString(),&quot;\n&quot;,&quot;	&quot;,&quot;upload_complete_handler assigned:   &quot;,(&quot;function&quot;==typeof this.settings.upload_complete_handler).toString(),&quot;\n&quot;,&quot;	&quot;,&quot;debug_handler assigned:             &quot;,(&quot;function&quot;==typeof this.settings.debug_handler).toString(),&quot;\n&quot;].join(&quot;&quot;))},SWFUpload.prototype.addSetting=function(a,b,c){return this.settings[a]=void 0==b?c:b},SWFUpload.prototype.getSetting=function(a){return void 0!=this.settings[a]?this.settings[a]:&quot;&quot;},SWFUpload.prototype.callFlash=function(functionName,argumentArray){argumentArray=argumentArray||[];var movieElement=this.getMovieElement(),returnValue,returnString;try{returnString=movieElement.CallFunction(&#39;&lt;invoke name=&quot;&#39;+functionName+&#39;&quot; returntype=&quot;javascript&quot;&gt;&#39;+__flash__argumentsToXML(argumentArray,0)+&quot;&lt;/invoke&gt;&quot;),returnValue=eval(returnString)}catch(ex){throw&quot;Call to &quot;+functionName+&quot; failed&quot;}return void 0!=returnValue&amp;&amp;&quot;object&quot;==typeof returnValue.post&amp;&amp;(returnValue=this.unescapeFilePostParams(returnValue)),returnValue},SWFUpload.prototype.selectFile=function(){this.callFlash(&quot;SelectFile&quot;)},SWFUpload.prototype.selectFiles=function(){this.callFlash(&quot;SelectFiles&quot;)},SWFUpload.prototype.startUpload=function(a){this.callFlash(&quot;StartUpload&quot;,[a])},SWFUpload.prototype.cancelUpload=function(a,b){b!==!1&amp;&amp;(b=!0),this.callFlash(&quot;CancelUpload&quot;,[a,b])},SWFUpload.prototype.stopUpload=function(){this.callFlash(&quot;StopUpload&quot;)},SWFUpload.prototype.getStats=function(){return this.callFlash(&quot;GetStats&quot;)},SWFUpload.prototype.setStats=function(a){this.callFlash(&quot;SetStats&quot;,[a])},SWFUpload.prototype.getFile=function(a){return&quot;number&quot;==typeof a?this.callFlash(&quot;GetFileByIndex&quot;,[a]):this.callFlash(&quot;GetFile&quot;,[a])},SWFUpload.prototype.addFileParam=function(a,b,c){return this.callFlash(&quot;AddFileParam&quot;,[a,b,c])},SWFUpload.prototype.removeFileParam=function(a,b){this.callFlash(&quot;RemoveFileParam&quot;,[a,b])},SWFUpload.prototype.setUploadURL=function(a){this.settings.upload_url=a.toString(),this.callFlash(&quot;SetUploadURL&quot;,[a])},SWFUpload.prototype.setPostParams=function(a){this.settings.post_params=a,this.callFlash(&quot;SetPostParams&quot;,[a])},SWFUpload.prototype.addPostParam=function(a,b){this.settings.post_params[a]=b,this.callFlash(&quot;SetPostParams&quot;,[this.settings.post_params])},SWFUpload.prototype.removePostParam=function(a){delete this.settings.post_params[a],this.callFlash(&quot;SetPostParams&quot;,[this.settings.post_params])},SWFUpload.prototype.setFileTypes=function(a,b){this.settings.file_types=a,this.settings.file_types_description=b,this.callFlash(&quot;SetFileTypes&quot;,[a,b])},SWFUpload.prototype.setFileSizeLimit=function(a){this.settings.file_size_limit=a,this.callFlash(&quot;SetFileSizeLimit&quot;,[a])},SWFUpload.prototype.setFileUploadLimit=function(a){this.settings.file_upload_limit=a,this.callFlash(&quot;SetFileUploadLimit&quot;,[a])},SWFUpload.prototype.setFileQueueLimit=function(a){this.settings.file_queue_limit=a,this.callFlash(&quot;SetFileQueueLimit&quot;,[a])},SWFUpload.prototype.setFilePostName=function(a){this.settings.file_post_name=a,this.callFlash(&quot;SetFilePostName&quot;,[a])},SWFUpload.prototype.setUseQueryString=function(a){this.settings.use_query_string=a,this.callFlash(&quot;SetUseQueryString&quot;,[a])},SWFUpload.prototype.setRequeueOnError=function(a){this.settings.requeue_on_error=a,this.callFlash(&quot;SetRequeueOnError&quot;,[a])},SWFUpload.prototype.setHTTPSuccess=function(a){&quot;string&quot;==typeof a&amp;&amp;(a=a.replace(&quot; &quot;,&quot;&quot;).split(&quot;,&quot;)),this.settings.http_success=a,this.callFlash(&quot;SetHTTPSuccess&quot;,[a])},SWFUpload.prototype.setAssumeSuccessTimeout=function(a){this.settings.assume_success_timeout=a,this.callFlash(&quot;SetAssumeSuccessTimeout&quot;,[a])},SWFUpload.prototype.setDebugEnabled=function(a){this.settings.debug_enabled=a,this.callFlash(&quot;SetDebugEnabled&quot;,[a])},SWFUpload.prototype.setButtonImageURL=function(a){void 0==a&amp;&amp;(a=&quot;&quot;),this.settings.button_image_url=a,this.callFlash(&quot;SetButtonImageURL&quot;,[a])},SWFUpload.prototype.setButtonDimensions=function(a,b){this.settings.button_width=a,this.settings.button_height=b;var c=this.getMovieElement();void 0!=c&amp;&amp;(c.style.width=a+&quot;px&quot;,c.style.height=b+&quot;px&quot;),this.callFlash(&quot;SetButtonDimensions&quot;,[a,b])},SWFUpload.prototype.setButtonText=function(a){this.settings.button_text=a,this.callFlash(&quot;SetButtonText&quot;,[a])},SWFUpload.prototype.setButtonTextPadding=function(a,b){this.settings.button_text_top_padding=b,this.settings.button_text_left_padding=a,this.callFlash(&quot;SetButtonTextPadding&quot;,[a,b])},SWFUpload.prototype.setButtonTextStyle=function(a){this.settings.button_text_style=a,this.callFlash(&quot;SetButtonTextStyle&quot;,[a])},SWFUpload.prototype.setButtonDisabled=function(a){this.settings.button_disabled=a,this.callFlash(&quot;SetButtonDisabled&quot;,[a])},SWFUpload.prototype.setButtonAction=function(a){this.settings.button_action=a,this.callFlash(&quot;SetButtonAction&quot;,[a])},SWFUpload.prototype.setButtonCursor=function(a){this.settings.button_cursor=a,this.callFlash(&quot;SetButtonCursor&quot;,[a])</td>
      </tr>
      <tr>
        <td id="L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="LC7" class="blob-code blob-code-inner js-file-line">},SWFUpload.prototype.queueEvent=function(a,b){void 0==b?b=[]:b instanceof Array||(b=[b]);var c=this;if(&quot;function&quot;==typeof this.settings[a])this.eventQueue.push(function(){this.settings[a].apply(this,b)}),setTimeout(function(){c.executeNextEvent()},0);else if(null!==this.settings[a])throw&quot;Event handler &quot;+a+&quot; is unknown or is not a function&quot;},SWFUpload.prototype.executeNextEvent=function(){var a=this.eventQueue?this.eventQueue.shift():null;&quot;function&quot;==typeof a&amp;&amp;a.apply(this)},SWFUpload.prototype.unescapeFilePostParams=function(a){var b,c=/[$]([0-9a-f]{4})/i,d={};if(void 0!=a){for(var e in a.post)if(a.post.hasOwnProperty(e)){b=e;for(var f;null!==(f=c.exec(b));)b=b.replace(f[0],String.fromCharCode(parseInt(&quot;0x&quot;+f[1],16)));d[b]=a.post[e]}a.post=d}return a},SWFUpload.prototype.testExternalInterface=function(){try{return this.callFlash(&quot;TestExternalInterface&quot;)}catch(a){return!1}},SWFUpload.prototype.flashReady=function(){var a=this.getMovieElement();return a?(this.cleanUp(a),void this.queueEvent(&quot;swfupload_loaded_handler&quot;)):void this.debug(&quot;Flash called back ready but the flash movie can&#39;t be found.&quot;)},SWFUpload.prototype.cleanUp=function(a){try{if(this.movieElement&amp;&amp;&quot;unknown&quot;==typeof a.CallFunction){this.debug(&quot;Removing Flash functions hooks (this should only run in IE and should prevent memory leaks)&quot;);for(var b in a)try{&quot;function&quot;==typeof a[b]&amp;&amp;(a[b]=null)}catch(c){}}}catch(d){}window.__flash__removeCallback=function(a,b){try{a&amp;&amp;(a[b]=null)}catch(c){}}},SWFUpload.prototype.fileDialogStart=function(){this.queueEvent(&quot;file_dialog_start_handler&quot;)},SWFUpload.prototype.fileQueued=function(a){a=this.unescapeFilePostParams(a),this.queueEvent(&quot;file_queued_handler&quot;,a)},SWFUpload.prototype.fileQueueError=function(a,b,c){a=this.unescapeFilePostParams(a),this.queueEvent(&quot;file_queue_error_handler&quot;,[a,b,c])},SWFUpload.prototype.fileDialogComplete=function(a,b,c){this.queueEvent(&quot;file_dialog_complete_handler&quot;,[a,b,c])},SWFUpload.prototype.uploadStart=function(a){a=this.unescapeFilePostParams(a),this.queueEvent(&quot;return_upload_start_handler&quot;,a)},SWFUpload.prototype.returnUploadStart=function(a){var b;if(&quot;function&quot;==typeof this.settings.upload_start_handler)a=this.unescapeFilePostParams(a),b=this.settings.upload_start_handler.call(this,a);else if(void 0!=this.settings.upload_start_handler)throw&quot;upload_start_handler must be a function&quot;;void 0===b&amp;&amp;(b=!0),b=!!b,this.callFlash(&quot;ReturnUploadStart&quot;,[b])},SWFUpload.prototype.uploadProgress=function(a,b,c){a=this.unescapeFilePostParams(a),this.queueEvent(&quot;upload_progress_handler&quot;,[a,b,c])},SWFUpload.prototype.uploadError=function(a,b,c){a=this.unescapeFilePostParams(a),this.queueEvent(&quot;upload_error_handler&quot;,[a,b,c])},SWFUpload.prototype.uploadSuccess=function(a,b,c){a=this.unescapeFilePostParams(a),this.queueEvent(&quot;upload_success_handler&quot;,[a,b,c])},SWFUpload.prototype.uploadComplete=function(a){a=this.unescapeFilePostParams(a),this.queueEvent(&quot;upload_complete_handler&quot;,a)},SWFUpload.prototype.debug=function(a){this.queueEvent(&quot;debug_handler&quot;,a)},SWFUpload.prototype.debugMessage=function(a){if(this.settings.debug){var b,c=[];if(&quot;object&quot;==typeof a&amp;&amp;&quot;string&quot;==typeof a.name&amp;&amp;&quot;string&quot;==typeof a.message){for(var d in a)a.hasOwnProperty(d)&amp;&amp;c.push(d+&quot;: &quot;+a[d]);b=c.join(&quot;\n&quot;)||&quot;&quot;,c=b.split(&quot;\n&quot;),b=&quot;EXCEPTION: &quot;+c.join(&quot;\nEXCEPTION: &quot;),SWFUpload.Console.writeLine(b)}else SWFUpload.Console.writeLine(a)}},SWFUpload.Console={},SWFUpload.Console.writeLine=function(a){var b,c;try{b=document.getElementById(&quot;SWFUpload_Console&quot;),b||(c=document.createElement(&quot;form&quot;),document.getElementsByTagName(&quot;body&quot;)[0].appendChild(c),b=document.createElement(&quot;textarea&quot;),b.id=&quot;SWFUpload_Console&quot;,b.style.fontFamily=&quot;monospace&quot;,b.setAttribute(&quot;wrap&quot;,&quot;off&quot;),b.wrap=&quot;off&quot;,b.style.overflow=&quot;auto&quot;,b.style.width=&quot;700px&quot;,b.style.height=&quot;350px&quot;,b.style.margin=&quot;5px&quot;,c.appendChild(b)),b.value+=a+&quot;\n&quot;,b.scrollTop=b.scrollHeight-b.clientHeight}catch(d){alert(&quot;Exception: &quot;+d.name+&quot; Message: &quot;+d.message)}}}(),function(){&quot;function&quot;==typeof SWFUpload&amp;&amp;(SWFUpload.queue={},SWFUpload.prototype.initSettings=function(a){return function(){&quot;function&quot;==typeof a&amp;&amp;a.call(this),this.queueSettings={},this.queueSettings.queue_cancelled_flag=!1,this.queueSettings.queue_upload_count=0,this.queueSettings.user_upload_complete_handler=this.settings.upload_complete_handler,this.queueSettings.user_upload_start_handler=this.settings.upload_start_handler,this.settings.upload_complete_handler=SWFUpload.queue.uploadCompleteHandler,this.settings.upload_start_handler=SWFUpload.queue.uploadStartHandler,this.settings.queue_complete_handler=this.settings.queue_complete_handler||null}}(SWFUpload.prototype.initSettings),SWFUpload.prototype.startUpload=function(a){this.queueSettings.queue_cancelled_flag=!1,this.callFlash(&quot;StartUpload&quot;,[a])},SWFUpload.prototype.cancelQueue=function(){this.queueSettings.queue_cancelled_flag=!0,this.stopUpload();for(var a=this.getStats();a.files_queued&gt;0;)this.cancelUpload(),a=this.getStats()},SWFUpload.queue.uploadStartHandler=function(a){var b;return&quot;function&quot;==typeof this.queueSettings.user_upload_start_handler&amp;&amp;(b=this.queueSettings.user_upload_start_handler.call(this,a)),b=b===!1?!1:!0,this.queueSettings.queue_cancelled_flag=!b,b},SWFUpload.queue.uploadCompleteHandler=function(a){var b,c=this.queueSettings.user_upload_complete_handler;if(a.filestatus===SWFUpload.FILE_STATUS.COMPLETE&amp;&amp;this.queueSettings.queue_upload_count++,b=&quot;function&quot;==typeof c?c.call(this,a)===!1?!1:!0:a.filestatus===SWFUpload.FILE_STATUS.QUEUED?!1:!0){var d=this.getStats();d.files_queued&gt;0&amp;&amp;this.queueSettings.queue_cancelled_flag===!1?this.startUpload():this.queueSettings.queue_cancelled_flag===!1?(this.queueEvent(&quot;queue_complete_handler&quot;,[this.queueSettings.queue_upload_count]),this.queueSettings.queue_upload_count=0):(this.queueSettings.queue_cancelled_flag=!1,this.queueSettings.queue_upload_count=0)}})}(),KindEditor.plugin(&quot;pagebreak&quot;,function(a){var b=this,c=&quot;pagebreak&quot;,d=a.undef(b.pagebreakHtml,&#39;&lt;hr style=&quot;page-break-after: always;&quot; class=&quot;ke-pagebreak&quot; /&gt;&#39;);b.clickToolbar(c,function(){var c=b.cmd,e=c.range;b.focus();var f=&quot;br&quot;==b.newlineTag||a.WEBKIT?&quot;&quot;:&#39;&lt;span id=&quot;__kindeditor_tail_tag__&quot;&gt;&lt;/span&gt;&#39;;if(b.insertHtml(d+f),&quot;&quot;!==f){var g=a(&quot;#__kindeditor_tail_tag__&quot;,b.edit.doc);e.selectNodeContents(g[0]),g.removeAttr(&quot;id&quot;),c.select()}})}),KindEditor.plugin(&quot;plainpaste&quot;,function(a){var b=this,c=&quot;plainpaste&quot;;b.clickToolbar(c,function(){var d=b.lang(c+&quot;.&quot;),e=&#39;&lt;div style=&quot;padding:10px 20px;&quot;&gt;&lt;div style=&quot;margin-bottom:10px;&quot;&gt;&#39;+d.comment+&#39;&lt;/div&gt;&lt;textarea class=&quot;ke-textarea&quot; style=&quot;width:408px;height:260px;&quot;&gt;&lt;/textarea&gt;&lt;/div&gt;&#39;,f=b.createDialog({name:c,width:450,title:b.lang(c),body:e,yesBtn:{name:b.lang(&quot;yes&quot;),click:function(){var c=g.val();c=a.escape(c),c=c.replace(/ {2}/g,&quot; &amp;nbsp;&quot;),c=&quot;p&quot;==b.newlineTag?c.replace(/^/,&quot;&lt;p&gt;&quot;).replace(/$/,&quot;&lt;/p&gt;&quot;).replace(/\n/g,&quot;&lt;/p&gt;&lt;p&gt;&quot;):c.replace(/\n/g,&quot;&lt;br /&gt;$&amp;&quot;),b.insertHtml(c).hideDialog().focus()}}}),g=a(&quot;textarea&quot;,f.div);g[0].focus()})}),KindEditor.plugin(&quot;preview&quot;,function(a){var b=this,c=&quot;preview&quot;;b.clickToolbar(c,function(){var d=(b.lang(c+&quot;.&quot;),&#39;&lt;div style=&quot;padding:10px 20px;&quot;&gt;&lt;iframe class=&quot;ke-textarea&quot; frameborder=&quot;0&quot; style=&quot;width:708px;height:400px;&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&#39;),e=b.createDialog({name:c,width:750,title:b.lang(c),body:d}),f=a(&quot;iframe&quot;,e.div),g=a.iframeDoc(f);g.open(),g.write(b.fullHtml()),g.close(),a(g.body).css(&quot;background-color&quot;,&quot;#FFF&quot;),f[0].contentWindow.focus()})}),KindEditor.plugin(&quot;quickformat&quot;,function(a){function b(a){for(var b=a.first();b&amp;&amp;b.first();)b=b.first();return b}var c=this,d=&quot;quickformat&quot;,e=a.toMap(&quot;blockquote,center,div,h1,h2,h3,h4,h5,h6,p&quot;);c.clickToolbar(d,function(){c.focus();for(var d,f=c.edit.doc,g=c.cmd.range,h=a(f.body).first(),i=[],j=[],k=g.createBookmark(!0);h;){d=h.next();var l=b(h);l&amp;&amp;&quot;img&quot;==l.name||(e[h.name]?(h.html(h.html().replace(/^(\s|&amp;nbsp;|　)+/gi,&quot;&quot;)),h.css(&quot;text-indent&quot;,&quot;2em&quot;)):j.push(h),(!d||e[d.name]||e[h.name]&amp;&amp;!e[d.name])&amp;&amp;(j.length&gt;0&amp;&amp;i.push(j),j=[])),h=d}a.each(i,function(b,c){var d=a(&#39;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;/p&gt;&#39;,f);c[0].before(d),a.each(c,function(a,b){d.append(b)})}),g.moveToBookmark(k),c.addBookmark()})}),KindEditor.plugin(&quot;table&quot;,function(a){function b(a,b){b=b.toUpperCase(),a.css(&quot;background-color&quot;,b),a.css(&quot;color&quot;,&quot;#000000&quot;===b?&quot;#FFFFFF&quot;:&quot;#000000&quot;),a.html(b)}function c(c,d){function f(){a.each(i,function(){this.remove()}),i=[],a(document).unbind(&quot;click,mousedown&quot;,f),c.unbind(&quot;click,mousedown&quot;,f)}d.bind(&quot;click,mousedown&quot;,function(a){a.stopPropagation()}),d.click(function(){f();var d=a(this),g=d.pos(),h=a.colorpicker({x:g.x,y:g.y+d.height(),z:811214,selectedColor:a(this).html(),colors:e.colorTable,noColor:e.lang(&quot;noColor&quot;),shadowMode:e.shadowMode,click:function(a){b(d,a),f()}});i.push(h),a(document).bind(&quot;click,mousedown&quot;,f),c.bind(&quot;click,mousedown&quot;,f)})}function d(a,b,c){for(var d=0,e=0,f=b.cells.length;f&gt;e&amp;&amp;b.cells[e]!=c;e++)d+=b.cells[e].rowSpan-1;return c.cellIndex-d}var e=this,f=&quot;table&quot;,g=e.lang(f+&quot;.&quot;),h=&quot;ke-zeroborder&quot;,i=[];e.plugin.table={prop:function(d){var i=[&#39;&lt;div style=&quot;padding:20px;&quot;&gt;&#39;,&#39;&lt;div class=&quot;ke-dialog-row&quot;&gt;&#39;,&#39;&lt;label for=&quot;keRows&quot; style=&quot;width:90px;&quot;&gt;&#39;+g.cells+&quot;&lt;/label&gt;&quot;,g.rows+&#39; &lt;input type=&quot;text&quot; id=&quot;keRows&quot; class=&quot;ke-input-text ke-input-number&quot; name=&quot;rows&quot; value=&quot;&quot; maxlength=&quot;4&quot; /&gt; &amp;nbsp; &#39;,g.cols+&#39; &lt;input type=&quot;text&quot; class=&quot;ke-input-text ke-input-number&quot; name=&quot;cols&quot; value=&quot;&quot; maxlength=&quot;4&quot; /&gt;&#39;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;ke-dialog-row&quot;&gt;&#39;,&#39;&lt;label for=&quot;keWidth&quot; style=&quot;width:90px;&quot;&gt;&#39;+g.size+&quot;&lt;/label&gt;&quot;,g.width+&#39; &lt;input type=&quot;text&quot; id=&quot;keWidth&quot; class=&quot;ke-input-text ke-input-number&quot; name=&quot;width&quot; value=&quot;&quot; maxlength=&quot;4&quot; /&gt; &amp;nbsp; &#39;,&#39;&lt;select name=&quot;widthType&quot;&gt;&#39;,&#39;&lt;option value=&quot;%&quot;&gt;&#39;+g.percent+&quot;&lt;/option&gt;&quot;,&#39;&lt;option value=&quot;px&quot;&gt;&#39;+g.px+&quot;&lt;/option&gt;&quot;,&quot;&lt;/select&gt; &amp;nbsp; &quot;,g.height+&#39; &lt;input type=&quot;text&quot; class=&quot;ke-input-text ke-input-number&quot; name=&quot;height&quot; value=&quot;&quot; maxlength=&quot;4&quot; /&gt; &amp;nbsp; &#39;,&#39;&lt;select name=&quot;heightType&quot;&gt;&#39;,&#39;&lt;option value=&quot;%&quot;&gt;&#39;+g.percent+&quot;&lt;/option&gt;&quot;,&#39;&lt;option value=&quot;px&quot;&gt;&#39;+g.px+&quot;&lt;/option&gt;&quot;,&quot;&lt;/select&gt;&quot;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;ke-dialog-row&quot;&gt;&#39;,&#39;&lt;label for=&quot;kePadding&quot; style=&quot;width:90px;&quot;&gt;&#39;+g.space+&quot;&lt;/label&gt;&quot;,g.padding+&#39; &lt;input type=&quot;text&quot; id=&quot;kePadding&quot; class=&quot;ke-input-text ke-input-number&quot; name=&quot;padding&quot; value=&quot;&quot; maxlength=&quot;4&quot; /&gt; &amp;nbsp; &#39;,g.spacing+&#39; &lt;input type=&quot;text&quot; class=&quot;ke-input-text ke-input-number&quot; name=&quot;spacing&quot; value=&quot;&quot; maxlength=&quot;4&quot; /&gt;&#39;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;ke-dialog-row&quot;&gt;&#39;,&#39;&lt;label for=&quot;keAlign&quot; style=&quot;width:90px;&quot;&gt;&#39;+g.align+&quot;&lt;/label&gt;&quot;,&#39;&lt;select id=&quot;keAlign&quot; name=&quot;align&quot;&gt;&#39;,&#39;&lt;option value=&quot;&quot;&gt;&#39;+g.alignDefault+&quot;&lt;/option&gt;&quot;,&#39;&lt;option value=&quot;left&quot;&gt;&#39;+g.alignLeft+&quot;&lt;/option&gt;&quot;,&#39;&lt;option value=&quot;center&quot;&gt;&#39;+g.alignCenter+&quot;&lt;/option&gt;&quot;,&#39;&lt;option value=&quot;right&quot;&gt;&#39;+g.alignRight+&quot;&lt;/option&gt;&quot;,&quot;&lt;/select&gt;&quot;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;ke-dialog-row&quot;&gt;&#39;,&#39;&lt;label for=&quot;keBorder&quot; style=&quot;width:90px;&quot;&gt;&#39;+g.border+&quot;&lt;/label&gt;&quot;,g.borderWidth+&#39; &lt;input type=&quot;text&quot; id=&quot;keBorder&quot; class=&quot;ke-input-text ke-input-number&quot; name=&quot;border&quot; value=&quot;&quot; maxlength=&quot;4&quot; /&gt; &amp;nbsp; &#39;,g.borderColor+&#39; &lt;span class=&quot;ke-inline-block ke-input-color&quot;&gt;&lt;/span&gt;&#39;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;ke-dialog-row&quot;&gt;&#39;,&#39;&lt;label for=&quot;keBgColor&quot; style=&quot;width:90px;&quot;&gt;&#39;+g.backgroundColor+&quot;&lt;/label&gt;&quot;,&#39;&lt;span class=&quot;ke-inline-block ke-input-color&quot;&gt;&lt;/span&gt;&#39;,&quot;&lt;/div&gt;&quot;,&quot;&lt;/div&gt;&quot;].join(&quot;&quot;),j=e.cmd.range.createBookmark(),k=e.createDialog({name:f,width:500,title:e.lang(f),body:i,beforeRemove:function(){w.unbind()},yesBtn:{name:e.lang(&quot;yes&quot;),click:function(){var b=m.val(),c=n.val(),d=o.val(),f=p.val(),g=q.val(),i=r.val(),k=s.val(),l=t.val(),y=u.val(),z=v.val(),A=a(w[0]).html()||&quot;&quot;,B=a(w[1]).html()||&quot;&quot;;if(0==b||!/^\d+$/.test(b))return alert(e.lang(&quot;invalidRows&quot;)),void m[0].focus();if(0==c||!/^\d+$/.test(c))return alert(e.lang(&quot;invalidRows&quot;)),void n[0].focus();if(!/^\d*$/.test(d))return alert(e.lang(&quot;invalidWidth&quot;)),void o[0].focus();if(!/^\d*$/.test(f))return alert(e.lang(&quot;invalidHeight&quot;)),void p[0].focus();if(!/^\d*$/.test(k))return alert(e.lang(&quot;invalidPadding&quot;)),void s[0].focus();if(!/^\d*$/.test(l))return alert(e.lang(&quot;invalidSpacing&quot;)),void t[0].focus();if(!/^\d*$/.test(z))return alert(e.lang(&quot;invalidBorder&quot;)),void v[0].focus();if(x)return&quot;&quot;!==d?x.width(d+g):x.css(&quot;width&quot;,&quot;&quot;),void 0!==x[0].width&amp;&amp;x.removeAttr(&quot;width&quot;),&quot;&quot;!==f?x.height(f+i):x.css(&quot;height&quot;,&quot;&quot;),void 0!==x[0].height&amp;&amp;x.removeAttr(&quot;height&quot;),x.css(&quot;background-color&quot;,B),void 0!==x[0].bgColor&amp;&amp;x.removeAttr(&quot;bgColor&quot;),&quot;&quot;!==k?x[0].cellPadding=k:x.removeAttr(&quot;cellPadding&quot;),&quot;&quot;!==l?x[0].cellSpacing=l:x.removeAttr(&quot;cellSpacing&quot;),&quot;&quot;!==y?x[0].align=y:x.removeAttr(&quot;align&quot;),&quot;&quot;!==z?x.attr(&quot;border&quot;,z):x.removeAttr(&quot;border&quot;),&quot;&quot;===z||&quot;0&quot;===z?x.addClass(h):x.removeClass(h),&quot;&quot;!==A?x.attr(&quot;borderColor&quot;,A):x.removeAttr(&quot;borderColor&quot;),e.hideDialog().focus(),e.cmd.range.moveToBookmark(j),e.cmd.select(),void e.addBookmark();var C=&quot;&quot;;&quot;&quot;!==d&amp;&amp;(C+=&quot;width:&quot;+d+g+&quot;;&quot;),&quot;&quot;!==f&amp;&amp;(C+=&quot;height:&quot;+f+i+&quot;;&quot;),&quot;&quot;!==B&amp;&amp;(C+=&quot;background-color:&quot;+B+&quot;;&quot;);var D=&quot;&lt;table&quot;;&quot;&quot;!==C&amp;&amp;(D+=&#39; style=&quot;&#39;+C+&#39;&quot;&#39;),&quot;&quot;!==k&amp;&amp;(D+=&#39; cellpadding=&quot;&#39;+k+&#39;&quot;&#39;),&quot;&quot;!==l&amp;&amp;(D+=&#39; cellspacing=&quot;&#39;+l+&#39;&quot;&#39;),&quot;&quot;!==y&amp;&amp;(D+=&#39; align=&quot;&#39;+y+&#39;&quot;&#39;),&quot;&quot;!==z&amp;&amp;(D+=&#39; border=&quot;&#39;+z+&#39;&quot;&#39;),(&quot;&quot;===z||&quot;0&quot;===z)&amp;&amp;(D+=&#39; class=&quot;&#39;+h+&#39;&quot;&#39;),&quot;&quot;!==A&amp;&amp;(D+=&#39; bordercolor=&quot;&#39;+A+&#39;&quot;&#39;),D+=&quot;&gt;&quot;;for(var E=0;b&gt;E;E++){D+=&quot;&lt;tr&gt;&quot;;for(var F=0;c&gt;F;F++)D+=&quot;&lt;td&gt;&quot;+(a.IE?&quot;&amp;nbsp;&quot;:&quot;&lt;br /&gt;&quot;)+&quot;&lt;/td&gt;&quot;;D+=&quot;&lt;/tr&gt;&quot;}D+=&quot;&lt;/table&gt;&quot;,a.IE||(D+=&quot;&lt;br /&gt;&quot;),e.insertHtml(D),e.select().hideDialog().focus(),e.addBookmark()}}}),l=k.div,m=a(&#39;[name=&quot;rows&quot;]&#39;,l).val(3),n=a(&#39;[name=&quot;cols&quot;]&#39;,l).val(2),o=a(&#39;[name=&quot;width&quot;]&#39;,l).val(100),p=a(&#39;[name=&quot;height&quot;]&#39;,l),q=a(&#39;[name=&quot;widthType&quot;]&#39;,l),r=a(&#39;[name=&quot;heightType&quot;]&#39;,l),s=a(&#39;[name=&quot;padding&quot;]&#39;,l).val(2),t=a(&#39;[name=&quot;spacing&quot;]&#39;,l).val(0),u=a(&#39;[name=&quot;align&quot;]&#39;,l),v=a(&#39;[name=&quot;border&quot;]&#39;,l).val(1),w=a(&quot;.ke-input-color&quot;,l);c(l,w.eq(0)),c(l,w.eq(1)),b(w.eq(0),&quot;#000000&quot;),b(w.eq(1),&quot;&quot;),m[0].focus(),m[0].select();var x;if(!d&amp;&amp;(x=e.plugin.getSelectedTable())){m.val(x[0].rows.length),n.val(x[0].rows.length&gt;0?x[0].rows[0].cells.length:0),m.attr(&quot;disabled&quot;,!0),n.attr(&quot;disabled&quot;,!0);var y,z=x[0].style.width||x[0].width,A=x[0].style.height||x[0].height;void 0!==z&amp;&amp;(y=/^(\d+)((?:px|%)*)$/.exec(z))?(o.val(y[1]),q.val(y[2])):o.val(&quot;&quot;),void 0!==A&amp;&amp;(y=/^(\d+)((?:px|%)*)$/.exec(A))&amp;&amp;(p.val(y[1]),r.val(y[2])),s.val(x[0].cellPadding||&quot;&quot;),t.val(x[0].cellSpacing||&quot;&quot;),u.val(x[0].align||&quot;&quot;),v.val(void 0===x[0].border?&quot;&quot;:x[0].border),b(w.eq(0),a.toHex(x.attr(&quot;borderColor&quot;)||&quot;&quot;)),b(w.eq(1),a.toHex(x[0].style.backgroundColor||x[0].bgColor||&quot;&quot;)),o[0].focus(),o[0].select()}},cellprop:function(){var d=[&#39;&lt;div style=&quot;padding:20px;&quot;&gt;&#39;,&#39;&lt;div class=&quot;ke-dialog-row&quot;&gt;&#39;,&#39;&lt;label for=&quot;keWidth&quot; style=&quot;width:90px;&quot;&gt;&#39;+g.size+&quot;&lt;/label&gt;&quot;,g.width+&#39; &lt;input type=&quot;text&quot; id=&quot;keWidth&quot; class=&quot;ke-input-text ke-input-number&quot; name=&quot;width&quot; value=&quot;&quot; maxlength=&quot;4&quot; /&gt; &amp;nbsp; &#39;,&#39;&lt;select name=&quot;widthType&quot;&gt;&#39;,&#39;&lt;option value=&quot;%&quot;&gt;&#39;+g.percent+&quot;&lt;/option&gt;&quot;,&#39;&lt;option value=&quot;px&quot;&gt;&#39;+g.px+&quot;&lt;/option&gt;&quot;,&quot;&lt;/select&gt; &amp;nbsp; &quot;,g.height+&#39; &lt;input type=&quot;text&quot; class=&quot;ke-input-text ke-input-number&quot; name=&quot;height&quot; value=&quot;&quot; maxlength=&quot;4&quot; /&gt; &amp;nbsp; &#39;,&#39;&lt;select name=&quot;heightType&quot;&gt;&#39;,&#39;&lt;option value=&quot;%&quot;&gt;&#39;+g.percent+&quot;&lt;/option&gt;&quot;,&#39;&lt;option value=&quot;px&quot;&gt;&#39;+g.px+&quot;&lt;/option&gt;&quot;,&quot;&lt;/select&gt;&quot;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;ke-dialog-row&quot;&gt;&#39;,&#39;&lt;label for=&quot;keAlign&quot; style=&quot;width:90px;&quot;&gt;&#39;+g.align+&quot;&lt;/label&gt;&quot;,g.textAlign+&#39; &lt;select id=&quot;keAlign&quot; name=&quot;textAlign&quot;&gt;&#39;,&#39;&lt;option value=&quot;&quot;&gt;&#39;+g.alignDefault+&quot;&lt;/option&gt;&quot;,&#39;&lt;option value=&quot;left&quot;&gt;&#39;+g.alignLeft+&quot;&lt;/option&gt;&quot;,&#39;&lt;option value=&quot;center&quot;&gt;&#39;+g.alignCenter+&quot;&lt;/option&gt;&quot;,&#39;&lt;option value=&quot;right&quot;&gt;&#39;+g.alignRight+&quot;&lt;/option&gt;&quot;,&quot;&lt;/select&gt; &quot;,g.verticalAlign+&#39; &lt;select name=&quot;verticalAlign&quot;&gt;&#39;,&#39;&lt;option value=&quot;&quot;&gt;&#39;+g.alignDefault+&quot;&lt;/option&gt;&quot;,&#39;&lt;option value=&quot;top&quot;&gt;&#39;+g.alignTop+&quot;&lt;/option&gt;&quot;,&#39;&lt;option value=&quot;middle&quot;&gt;&#39;+g.alignMiddle+&quot;&lt;/option&gt;&quot;,&#39;&lt;option value=&quot;bottom&quot;&gt;&#39;+g.alignBottom+&quot;&lt;/option&gt;&quot;,&#39;&lt;option value=&quot;baseline&quot;&gt;&#39;+g.alignBaseline+&quot;&lt;/option&gt;&quot;,&quot;&lt;/select&gt;&quot;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;ke-dialog-row&quot;&gt;&#39;,&#39;&lt;label for=&quot;keBorder&quot; style=&quot;width:90px;&quot;&gt;&#39;+g.border+&quot;&lt;/label&gt;&quot;,g.borderWidth+&#39; &lt;input type=&quot;text&quot; id=&quot;keBorder&quot; class=&quot;ke-input-text ke-input-number&quot; name=&quot;border&quot; value=&quot;&quot; maxlength=&quot;4&quot; /&gt; &amp;nbsp; &#39;,g.borderColor+&#39; &lt;span class=&quot;ke-inline-block ke-input-color&quot;&gt;&lt;/span&gt;&#39;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;ke-dialog-row&quot;&gt;&#39;,&#39;&lt;label for=&quot;keBgColor&quot; style=&quot;width:90px;&quot;&gt;&#39;+g.backgroundColor+&quot;&lt;/label&gt;&quot;,&#39;&lt;span class=&quot;ke-inline-block ke-input-color&quot;&gt;&lt;/span&gt;&#39;,&quot;&lt;/div&gt;&quot;,&quot;&lt;/div&gt;&quot;].join(&quot;&quot;),h=e.cmd.range.createBookmark(),i=e.createDialog({name:f,width:500,title:e.lang(&quot;tablecell&quot;),body:d,beforeRemove:function(){t.unbind()},yesBtn:{name:e.lang(&quot;yes&quot;),click:function(){var b=k.val(),c=l.val(),d=m.val(),f=n.val(),g=(o.val(),p.val(),q.val()),i=r.val(),j=s.val(),u=a(t[0]).html()||&quot;&quot;,w=a(t[1]).html()||&quot;&quot;;return/^\d*$/.test(b)?/^\d*$/.test(c)?/^\d*$/.test(j)?(v.css({width:&quot;&quot;!==b?b+d:&quot;&quot;,height:&quot;&quot;!==c?c+f:&quot;&quot;,&quot;background-color&quot;:w,&quot;text-align&quot;:g,&quot;vertical-align&quot;:i,&quot;border-width&quot;:j,&quot;border-style&quot;:&quot;&quot;!==j?&quot;solid&quot;:&quot;&quot;,&quot;border-color&quot;:u}),e.hideDialog().focus(),e.cmd.range.moveToBookmark(h),e.cmd.select(),void e.addBookmark()):(alert(e.lang(&quot;invalidBorder&quot;)),void s[0].focus()):(alert(e.lang(&quot;invalidHeight&quot;)),void l[0].focus()):(alert(e.lang(&quot;invalidWidth&quot;)),void k[0].focus())}}}),j=i.div,k=a(&#39;[name=&quot;width&quot;]&#39;,j).val(100),l=a(&#39;[name=&quot;height&quot;]&#39;,j),m=a(&#39;[name=&quot;widthType&quot;]&#39;,j),n=a(&#39;[name=&quot;heightType&quot;]&#39;,j),o=a(&#39;[name=&quot;padding&quot;]&#39;,j).val(2),p=a(&#39;[name=&quot;spacing&quot;]&#39;,j).val(0),q=a(&#39;[name=&quot;textAlign&quot;]&#39;,j),r=a(&#39;[name=&quot;verticalAlign&quot;]&#39;,j),s=a(&#39;[name=&quot;border&quot;]&#39;,j).val(1),t=a(&quot;.ke-input-color&quot;,j);c(j,t.eq(0)),c(j,t.eq(1)),b(t.eq(0),&quot;#000000&quot;),b(t.eq(1),&quot;&quot;),k[0].focus(),k[0].select();var u,v=e.plugin.getSelectedCell(),w=v[0].style.width||v[0].width||&quot;&quot;,x=v[0].style.height||v[0].height||&quot;&quot;;(u=/^(\d+)((?:px|%)*)$/.exec(w))?(k.val(u[1]),m.val(u[2])):k.val(&quot;&quot;),(u=/^(\d+)((?:px|%)*)$/.exec(x))&amp;&amp;(l.val(u[1]),n.val(u[2])),q.val(v[0].style.textAlign||&quot;&quot;),r.val(v[0].style.verticalAlign||&quot;&quot;);var y=v[0].style.borderWidth||&quot;&quot;;y&amp;&amp;(y=parseInt(y)),s.val(y),b(t.eq(0),a.toHex(v[0].style.borderColor||&quot;&quot;)),b(t.eq(1),a.toHex(v[0].style.backgroundColor||&quot;&quot;)),k[0].focus(),k[0].select()},insert:function(){this.prop(!0)},&quot;delete&quot;:function(){var a=e.plugin.getSelectedTable();e.cmd.range.setStartBefore(a[0]).collapse(!0),e.cmd.select(),a.remove(),e.addBookmark()},colinsert:function(b){var c=e.plugin.getSelectedTable()[0],f=e.plugin.getSelectedRow()[0],g=e.plugin.getSelectedCell()[0],h=g.cellIndex+b;h+=c.rows[0].cells.length-f.cells.length;for(var i=0,j=c.rows.length;j&gt;i;i++){var k=c.rows[i],l=k.insertCell(h);l.innerHTML=a.IE?&quot;&quot;:&quot;&lt;br /&gt;&quot;,h=d(c,k,l)}e.cmd.range.selectNodeContents(g).collapse(!0),e.cmd.select(),e.addBookmark()},colinsertleft:function(){this.colinsert(0)},colinsertright:function(){this.colinsert(1)},rowinsert:function(b){var c=e.plugin.getSelectedTable()[0],d=e.plugin.getSelectedRow()[0],f=e.plugin.getSelectedCell()[0],g=d.rowIndex;1===b&amp;&amp;(g=d.rowIndex+(f.rowSpan-1)+b);for(var h=c.insertRow(g),i=0,j=d.cells.length;j&gt;i;i++){d.cells[i].rowSpan&gt;1&amp;&amp;(j-=d.cells[i].rowSpan-1);var k=h.insertCell(i);1===b&amp;&amp;d.cells[i].colSpan&gt;1&amp;&amp;(k.colSpan=d.cells[i].colSpan),k.innerHTML=a.IE?&quot;&quot;:&quot;&lt;br /&gt;&quot;}for(var l=g;l&gt;=0;l--){var m=c.rows[l].cells;if(m.length&gt;i){for(var n=f.cellIndex;n&gt;=0;n--)m[n].rowSpan&gt;1&amp;&amp;(m[n].rowSpan+=1);break}}e.cmd.range.selectNodeContents(f).collapse(!0),e.cmd.select(),e.addBookmark()},rowinsertabove:function(){this.rowinsert(0)},rowinsertbelow:function(){this.rowinsert(1)},rowmerge:function(){var a=e.plugin.getSelectedTable()[0],b=e.plugin.getSelectedRow()[0],c=e.plugin.getSelectedCell()[0],d=b.rowIndex,f=d+c.rowSpan,g=a.rows[f];if(!(a.rows.length&lt;=f)){var h=c.cellIndex;if(!(g.cells.length&lt;=h)){var i=g.cells[h];c.colSpan===i.colSpan&amp;&amp;(c.rowSpan+=i.rowSpan,g.deleteCell(h),e.cmd.range.selectNodeContents(c).collapse(!0),e.cmd.select(),e.addBookmark())}}},colmerge:function(){var a=(e.plugin.getSelectedTable()[0],e.plugin.getSelectedRow()[0]),b=e.plugin.getSelectedCell()[0],c=(a.rowIndex,b.cellIndex),d=c+1;if(!(a.cells.length&lt;=d)){var f=a.cells[d];b.rowSpan===f.rowSpan&amp;&amp;(b.colSpan+=f.colSpan,a.deleteCell(d),e.cmd.range.selectNodeContents(b).collapse(!0),e.cmd.select(),e.addBookmark())}},rowsplit:function(){var b=e.plugin.getSelectedTable()[0],c=e.plugin.getSelectedRow()[0],f=e.plugin.getSelectedCell()[0],g=c.rowIndex;if(1!==f.rowSpan){for(var h=d(b,c,f),i=1,j=f.rowSpan;j&gt;i;i++){var k=b.rows[g+i],l=k.insertCell(h);f.colSpan&gt;1&amp;&amp;(l.colSpan=f.colSpan),l.innerHTML=a.IE?&quot;&quot;:&quot;&lt;br /&gt;&quot;,h=d(b,k,l)}a(f).removeAttr(&quot;rowSpan&quot;),e.cmd.range.selectNodeContents(f).collapse(!0),e.cmd.select(),e.addBookmark()}},colsplit:function(){var b=(e.plugin.getSelectedTable()[0],e.plugin.getSelectedRow()[0]),c=e.plugin.getSelectedCell()[0],d=c.cellIndex;if(1!==c.colSpan){for(var f=1,g=c.colSpan;g&gt;f;f++){var h=b.insertCell(d+f);c.rowSpan&gt;1&amp;&amp;(h.rowSpan=c.rowSpan),h.innerHTML=a.IE?&quot;&quot;:&quot;&lt;br /&gt;&quot;}a(c).removeAttr(&quot;colSpan&quot;),e.cmd.range.selectNodeContents(c).collapse(!0),e.cmd.select(),e.addBookmark()}},coldelete:function(){for(var b=e.plugin.getSelectedTable()[0],c=e.plugin.getSelectedRow()[0],d=e.plugin.getSelectedCell()[0],f=d.cellIndex,g=0,h=b.rows.length;h&gt;g;g++){var i=b.rows[g],j=i.cells[f];j.colSpan&gt;1?(j.colSpan-=1,1===j.colSpan&amp;&amp;a(j).removeAttr(&quot;colSpan&quot;)):i.deleteCell(f),j.rowSpan&gt;1&amp;&amp;(g+=j.rowSpan-1)}0===c.cells.length?(e.cmd.range.setStartBefore(b).collapse(!0),e.cmd.select(),a(b).remove()):e.cmd.selection(!0),e.addBookmark()},rowdelete:function(){for(var b=e.plugin.getSelectedTable()[0],c=e.plugin.getSelectedRow()[0],d=e.plugin.getSelectedCell()[0],f=c.rowIndex,g=d.rowSpan-1;g&gt;=0;g--)b.deleteRow(f+g);0===b.rows.length?(e.cmd.range.setStartBefore(b).collapse(!0),e.cmd.select(),a(b).remove()):e.cmd.selection(!0),e.addBookmark()}},e.clickToolbar(f,e.plugin.table.prop)}),KindEditor.plugin(&quot;template&quot;,function(a){function b(b){return e+b+&quot;?ver=&quot;+encodeURIComponent(a.DEBUG?a.TIME:a.VERSION)}var c=this,d=&quot;template&quot;,e=(c.lang(d+&quot;.&quot;),c.pluginsPath+d+&quot;/html/&quot;);c.clickToolbar(d,function(){var e=c.lang(d+&quot;.&quot;),f=[&#39;&lt;div style=&quot;padding:10px 20px;&quot;&gt;&#39;,&#39;&lt;div class=&quot;ke-header&quot;&gt;&#39;,&#39;&lt;div class=&quot;ke-left&quot;&gt;&#39;,e.selectTemplate+&quot; &lt;select&gt;&quot;];a.each(e.fileList,function(a,b){f.push(&#39;&lt;option value=&quot;&#39;+a+&#39;&quot;&gt;&#39;+b+&quot;&lt;/option&gt;&quot;)}),html=[f.join(&quot;&quot;),&quot;&lt;/select&gt;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;ke-right&quot;&gt;&#39;,&#39;&lt;input type=&quot;checkbox&quot; id=&quot;keReplaceFlag&quot; name=&quot;replaceFlag&quot; value=&quot;1&quot; /&gt; &lt;label for=&quot;keReplaceFlag&quot;&gt;&#39;+e.replaceContent+&quot;&lt;/label&gt;&quot;,&quot;&lt;/div&gt;&quot;,&#39;&lt;div class=&quot;ke-clearfix&quot;&gt;&lt;/div&gt;&#39;,&quot;&lt;/div&gt;&quot;,&#39;&lt;iframe class=&quot;ke-textarea&quot; frameborder=&quot;0&quot; style=&quot;width:458px;height:260px;background-color:#FFF;&quot;&gt;&lt;/iframe&gt;&#39;,&quot;&lt;/div&gt;&quot;].join(&quot;&quot;);var g=c.createDialog({name:d,width:500,title:c.lang(d),body:html,yesBtn:{name:c.lang(&quot;yes&quot;),click:function(){var b=a.iframeDoc(j);c[i[0].checked?&quot;html&quot;:&quot;insertHtml&quot;](b.body.innerHTML).hideDialog().focus()}}}),h=a(&quot;select&quot;,g.div),i=a(&#39;[name=&quot;replaceFlag&quot;]&#39;,g.div),j=a(&quot;iframe&quot;,g.div);i[0].checked=!0,j.attr(&quot;src&quot;,b(h.val())),h.change(function(){j.attr(&quot;src&quot;,b(this.value))})})}),KindEditor.plugin(&quot;wordpaste&quot;,function(a){var b=this,c=&quot;wordpaste&quot;;b.clickToolbar(c,function(){var d=b.lang(c+&quot;.&quot;),e=&#39;&lt;div style=&quot;padding:10px 20px;&quot;&gt;&lt;div style=&quot;margin-bottom:10px;&quot;&gt;&#39;+d.comment+&#39;&lt;/div&gt;&lt;iframe class=&quot;ke-textarea&quot; frameborder=&quot;0&quot; style=&quot;width:408px;height:260px;&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&#39;,f=b.createDialog({name:c,width:450,title:b.lang(c),body:e,yesBtn:{name:b.lang(&quot;yes&quot;),click:function(){var c=i.body.innerHTML;c=a.clearMsWord(c,b.filterMode?b.htmlTags:a.options.htmlTags),b.insertHtml(c).hideDialog().focus()}}}),g=f.div,h=a(&quot;iframe&quot;,g),i=a.iframeDoc(h);a.IE||(i.designMode=&quot;on&quot;),i.open(),i.write(&quot;&lt;!doctype html&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;WordPaste&lt;/title&gt;&lt;/head&gt;&quot;),i.write(&#39;&lt;body style=&quot;background-color:#FFF;font-size:12px;margin:2px;&quot;&gt;&#39;),a.IE||i.write(&quot;&lt;br /&gt;&quot;),i.write(&quot;&lt;/body&gt;&lt;/html&gt;&quot;),i.close(),a.IE&amp;&amp;(i.body.contentEditable=&quot;true&quot;),h[0].contentWindow.focus()})}),KindEditor.plugin(&quot;fixtoolbar&quot;,function(a){function b(){var b=a(&quot;.ke-toolbar&quot;),c=b.pos().y;a(window).bind(&quot;scroll&quot;,function(){&quot;fixed&quot;==b.css(&quot;position&quot;)?document.body.scrollTop-c&lt;0&amp;&amp;(b.css(&quot;position&quot;,&quot;static&quot;),b.css(&quot;top&quot;,&quot;auto&quot;)):b.pos().y-document.body.scrollTop&lt;0&amp;&amp;(b.css(&quot;position&quot;,&quot;fixed&quot;),b.css(&quot;top&quot;,0))})}var c=this;c.fixToolBar&amp;&amp;(c.isCreated?b():c.afterCreate(b))});</td>
      </tr>
</table>

  <div class="BlobToolbar position-absolute js-file-line-actions dropdown js-menu-container js-select-menu d-none" aria-hidden="true">
    <button class="btn-octicon ml-0 px-2 p-0 bg-white border border-gray-dark rounded-1 dropdown-toggle js-menu-target" id="js-file-line-action-button" type="button" aria-expanded="false" aria-haspopup="true" aria-label="Inline file action toolbar" aria-controls="inline-file-actions">
      <svg aria-hidden="true" class="octicon octicon-kebab-horizontal" height="16" version="1.1" viewBox="0 0 13 16" width="13"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/></svg>
    </button>
    <div class="dropdown-menu-content js-menu-content" id="inline-file-actions">
      <ul class="BlobToolbar-dropdown dropdown-menu dropdown-menu-se mt-2">
        <li><a class="js-zeroclipboard dropdown-item" style="cursor:pointer;" id="js-copy-lines" data-original-text="Copy lines">Copy lines</a></li>
        <li><a class="js-zeroclipboard dropdown-item" id= "js-copy-permalink" style="cursor:pointer;" data-original-text="Copy permalink">Copy permalink</a></li>
        <li><a href="/kindsoft/kindeditor/blame/a0daa900e105c97da8206de33d8bb519ab48e5fa/kindeditor-all-min.js" class="dropdown-item js-update-url-with-hash" id="js-view-git-blame">View git blame</a></li>
          <li><a href="/kindsoft/kindeditor/issues/new" class="dropdown-item" id="js-new-issue">Open new issue</a></li>
      </ul>
    </div>
  </div>

  </div>

  </div>

  <button type="button" data-facebox="#jump-to-line" data-facebox-class="linejump" data-hotkey="l" class="d-none">Jump to Line</button>
  <div id="jump-to-line" style="display:none">
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="" class="js-jump-to-line-form" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>
      <input class="form-control linejump-input js-jump-to-line-field" type="text" placeholder="Jump to line&hellip;" aria-label="Jump to line" autofocus>
      <button type="submit" class="btn">Go</button>
</form>  </div>


  </div>
  <div class="modal-backdrop js-touch-events"></div>
</div>

    </div>
  </div>

  </div>

      
<div class="footer container-lg px-3" role="contentinfo">
  <div class="position-relative d-flex flex-justify-between py-6 mt-6 f6 text-gray border-top border-gray-light ">
    <ul class="list-style-none d-flex flex-wrap ">
      <li class="mr-3">&copy; 2018 <span title="0.20564s from unicorn-769455651-k6z44">GitHub</span>, Inc.</li>
        <li class="mr-3"><a href="https://github.com/site/terms" data-ga-click="Footer, go to terms, text:terms">Terms</a></li>
        <li class="mr-3"><a href="https://github.com/site/privacy" data-ga-click="Footer, go to privacy, text:privacy">Privacy</a></li>
        <li class="mr-3"><a href="https://github.com/security" data-ga-click="Footer, go to security, text:security">Security</a></li>
        <li class="mr-3"><a href="https://status.github.com/" data-ga-click="Footer, go to status, text:status">Status</a></li>
        <li><a href="https://help.github.com" data-ga-click="Footer, go to help, text:help">Help</a></li>
    </ul>

    <a href="https://github.com" aria-label="Homepage" class="footer-octicon" title="GitHub">
      <svg aria-hidden="true" class="octicon octicon-mark-github" height="24" version="1.1" viewBox="0 0 16 16" width="24"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>
</a>
    <ul class="list-style-none d-flex flex-wrap ">
        <li class="mr-3"><a href="https://github.com/contact" data-ga-click="Footer, go to contact, text:contact">Contact GitHub</a></li>
      <li class="mr-3"><a href="https://developer.github.com" data-ga-click="Footer, go to api, text:api">API</a></li>
      <li class="mr-3"><a href="https://training.github.com" data-ga-click="Footer, go to training, text:training">Training</a></li>
      <li class="mr-3"><a href="https://shop.github.com" data-ga-click="Footer, go to shop, text:shop">Shop</a></li>
        <li class="mr-3"><a href="https://github.com/blog" data-ga-click="Footer, go to blog, text:blog">Blog</a></li>
        <li><a href="https://github.com/about" data-ga-click="Footer, go to about, text:about">About</a></li>

    </ul>
  </div>
</div>



  <div id="ajax-error-message" class="ajax-error-message flash flash-error">
    <svg aria-hidden="true" class="octicon octicon-alert" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.865 1.52c-.18-.31-.51-.5-.87-.5s-.69.19-.87.5L.275 13.5c-.18.31-.18.69 0 1 .19.31.52.5.87.5h13.7c.36 0 .69-.19.86-.5.17-.31.18-.69.01-1L8.865 1.52zM8.995 13h-2v-2h2v2zm0-3h-2V6h2v4z"/></svg>
    <button type="button" class="flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
      <svg aria-hidden="true" class="octicon octicon-x" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"/></svg>
    </button>
    You can't perform that action at this time.
  </div>


    <script crossorigin="anonymous" src="https://assets-cdn.github.com/assets/compat-e42a8bf9c380758734e39851db04de7cbeeb2f3860efbd481c96ac12c25a6ecb.js"></script>
    <script crossorigin="anonymous" src="https://assets-cdn.github.com/assets/frameworks-7ad4386210c72170ce8e41e379487f2b8ab89431cd55547610cb6777dae65949.js"></script>
    
    <script async="async" crossorigin="anonymous" src="https://assets-cdn.github.com/assets/github-9f98fb17171689582f83ef32832823597fec07a804e5fd3451d49c6b2b131a03.js"></script>
    
    
    
    
  <div class="js-stale-session-flash stale-session-flash flash flash-warn flash-banner d-none">
    <svg aria-hidden="true" class="octicon octicon-alert" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.865 1.52c-.18-.31-.51-.5-.87-.5s-.69.19-.87.5L.275 13.5c-.18.31-.18.69 0 1 .19.31.52.5.87.5h13.7c.36 0 .69-.19.86-.5.17-.31.18-.69.01-1L8.865 1.52zM8.995 13h-2v-2h2v2zm0-3h-2V6h2v4z"/></svg>
    <span class="signed-in-tab-flash">You signed in with another tab or window. <a href="">Reload</a> to refresh your session.</span>
    <span class="signed-out-tab-flash">You signed out in another tab or window. <a href="">Reload</a> to refresh your session.</span>
  </div>
  <div class="facebox" id="facebox" style="display:none;">
  <div class="facebox-popup">
    <div class="facebox-content" role="dialog" aria-labelledby="facebox-header" aria-describedby="facebox-description">
    </div>
    <button type="button" class="facebox-close js-facebox-close" aria-label="Close modal">
      <svg aria-hidden="true" class="octicon octicon-x" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"/></svg>
    </button>
  </div>
</div>


  </body>
</html>

